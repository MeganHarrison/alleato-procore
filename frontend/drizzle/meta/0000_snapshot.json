{
  "id": "00000000-0000-0000-0000-000000000000",
  "prevId": "",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.fm_text_chunks": {
      "name": "fm_text_chunks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "doc_id": {
          "name": "doc_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'FMDS0834'"
        },
        "doc_version": {
          "name": "doc_version",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'2024-07'"
        },
        "page_number": {
          "name": "page_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "clause_id": {
          "name": "clause_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "section_path": {
          "name": "section_path",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "content_type": {
          "name": "content_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'text'"
        },
        "raw_text": {
          "name": "raw_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "chunk_summary": {
          "name": "chunk_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "chunk_size": {
          "name": "chunk_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "length(raw_text)",
            "type": "stored"
          }
        },
        "search_keywords": {
          "name": "search_keywords",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "topics": {
          "name": "topics",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_requirements": {
          "name": "extracted_requirements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_type": {
          "name": "compliance_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "related_figures": {
          "name": "related_figures",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        },
        "related_tables": {
          "name": "related_tables",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "related_sections": {
          "name": "related_sections",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "cost_impact": {
          "name": "cost_impact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "savings_opportunities": {
          "name": "savings_opportunities",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "complexity_score": {
          "name": "complexity_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_fm_text_chunks_clause": {
          "name": "idx_fm_text_chunks_clause",
          "columns": [
            {
              "expression": "clause_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fm_text_chunks_embedding": {
          "name": "idx_fm_text_chunks_embedding",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "ivfflat",
          "with": {
            "lists": "100"
          }
        },
        "idx_fm_text_chunks_keywords": {
          "name": "idx_fm_text_chunks_keywords",
          "columns": [
            {
              "expression": "search_keywords",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_fm_text_chunks_page": {
          "name": "idx_fm_text_chunks_page",
          "columns": [
            {
              "expression": "page_number",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fm_text_chunks_requirements": {
          "name": "idx_fm_text_chunks_requirements",
          "columns": [
            {
              "expression": "extracted_requirements",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_fm_text_chunks_topics": {
          "name": "idx_fm_text_chunks_topics",
          "columns": [
            {
              "expression": "topics",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "fm_text_chunks_complexity_score_check": {
          "name": "fm_text_chunks_complexity_score_check",
          "value": "(complexity_score >= 1) AND (complexity_score <= 10)"
        },
        "fm_text_chunks_cost_impact_check": {
          "name": "fm_text_chunks_cost_impact_check",
          "value": "cost_impact = ANY (ARRAY['HIGH'::text, 'MEDIUM'::text, 'LOW'::text])"
        }
      },
      "policies": {
        "Users can read text chunks": {
          "name": "Users can read text chunks",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(auth.role() = 'authenticated'::text)"
        }
      },
      "isRLSEnabled": true
    },
    "public.chats": {
      "name": "chats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.optimization_rules": {
      "name": "optimization_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "condition_from": {
          "name": "condition_from",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "condition_to": {
          "name": "condition_to",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "cost_impact": {
          "name": "cost_impact",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.project_budget_codes": {
      "name": "project_budget_codes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "sub_job_id": {
          "name": "sub_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cost_code_id": {
          "name": "cost_code_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cost_type_id": {
          "name": "cost_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description_mode": {
          "name": "description_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'concatenated'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "sub_job_key": {
          "name": "sub_job_key",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "COALESCE(sub_job_id, '00000000-0000-0000-0000-000000000000'::uuid)",
            "type": "stored"
          }
        }
      },
      "indexes": {
        "idx_project_budget_codes_active": {
          "name": "idx_project_budget_codes_active",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            },
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_project_budget_codes_project_cost_code": {
          "name": "idx_project_budget_codes_project_cost_code",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            },
            {
              "expression": "cost_code_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_project_budget_codes_project_cost_type": {
          "name": "idx_project_budget_codes_project_cost_type",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "cost_type_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_project_budget_codes_project_id": {
          "name": "idx_project_budget_codes_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_budget_codes_cost_code_id_fkey": {
          "name": "project_budget_codes_cost_code_id_fkey",
          "tableFrom": "project_budget_codes",
          "tableTo": "cost_codes",
          "schemaTo": "public",
          "columnsFrom": [
            "cost_code_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "project_budget_codes_cost_type_id_fkey": {
          "name": "project_budget_codes_cost_type_id_fkey",
          "tableFrom": "project_budget_codes",
          "tableTo": "cost_code_types",
          "schemaTo": "public",
          "columnsFrom": [
            "cost_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "project_budget_codes_created_by_fkey": {
          "name": "project_budget_codes_created_by_fkey",
          "tableFrom": "project_budget_codes",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "project_budget_codes_project_id_fkey": {
          "name": "project_budget_codes_project_id_fkey",
          "tableFrom": "project_budget_codes",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_budget_codes_sub_job_id_fkey": {
          "name": "project_budget_codes_sub_job_id_fkey",
          "tableFrom": "project_budget_codes",
          "tableTo": "sub_jobs",
          "schemaTo": "public",
          "columnsFrom": [
            "sub_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_project_budget_code": {
          "columns": [
            "project_id",
            "cost_code_id",
            "cost_type_id",
            "sub_job_key"
          ],
          "nullsNotDistinct": false,
          "name": "uq_project_budget_code"
        }
      },
      "checkConstraints": {
        "project_budget_codes_description_mode_check": {
          "name": "project_budget_codes_description_mode_check",
          "value": "description_mode = ANY (ARRAY['concatenated'::text, 'custom'::text])"
        }
      },
      "policies": {
        "project_budget_codes_insert": {
          "name": "project_budget_codes_insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(auth.uid() IS NOT NULL)"
        },
        "project_budget_codes_select": {
          "name": "project_budget_codes_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "project_budget_codes_update": {
          "name": "project_budget_codes_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "project_budget_codes_delete": {
          "name": "project_budget_codes_delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.memories": {
      "name": "memories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.billing_periods": {
      "name": "billing_periods",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "period_number": {
          "name": "period_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "is_closed": {
          "name": "is_closed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "closed_date": {
          "name": "closed_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "closed_by": {
          "name": "closed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_billing_periods_project": {
          "name": "idx_billing_periods_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "billing_periods_closed_by_fkey": {
          "name": "billing_periods_closed_by_fkey",
          "tableFrom": "billing_periods",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "closed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "billing_periods_project_id_fkey": {
          "name": "billing_periods_project_id_fkey",
          "tableFrom": "billing_periods",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "billing_periods_project_id_period_number_key": {
          "columns": [
            "project_id",
            "period_number"
          ],
          "nullsNotDistinct": false,
          "name": "billing_periods_project_id_period_number_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Users can view billing periods": {
          "name": "Users can view billing periods",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        },
        "Users can manage billing periods": {
          "name": "Users can manage billing periods",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.nods_page": {
      "name": "nods_page",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "parent_page_id": {
          "name": "parent_page_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "path": {
          "name": "path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "checksum": {
          "name": "checksum",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "nods_page_parent_page_id_fkey": {
          "name": "nods_page_parent_page_id_fkey",
          "tableFrom": "nods_page",
          "tableTo": "nods_page",
          "schemaTo": "public",
          "columnsFrom": [
            "parent_page_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "nods_page_path_key": {
          "columns": [
            "path"
          ],
          "nullsNotDistinct": false,
          "name": "nods_page_path_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Allow authenticated users select": {
          "name": "Allow authenticated users select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.sync_status": {
      "name": "sync_status",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "sync_type": {
          "name": "sync_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'fireflies'"
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_successful_sync_at": {
          "name": "last_successful_sync_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'idle'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "sync_status_status_check": {
          "name": "sync_status_status_check",
          "value": "status = ANY (ARRAY['idle'::text, 'running'::text, 'failed'::text, 'completed'::text])"
        }
      },
      "policies": {
        "Allow authenticated users select": {
          "name": "Allow authenticated users select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.budget_line_item_history": {
      "name": "budget_line_item_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "budget_line_item_id": {
          "name": "budget_line_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "budget_code": {
          "name": "budget_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "changed_field": {
          "name": "changed_field",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "from_value": {
          "name": "from_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "to_value": {
          "name": "to_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "performed_by": {
          "name": "performed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "performed_by_name": {
          "name": "performed_by_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "performed_at": {
          "name": "performed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'app'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "budget_line_item_history_date_idx": {
          "name": "budget_line_item_history_date_idx",
          "columns": [
            {
              "expression": "performed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "budget_line_item_history_event_idx": {
          "name": "budget_line_item_history_event_idx",
          "columns": [
            {
              "expression": "event_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "budget_line_item_history_item_idx": {
          "name": "budget_line_item_history_item_idx",
          "columns": [
            {
              "expression": "budget_line_item_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "budget_line_item_history_project_idx": {
          "name": "budget_line_item_history_project_idx",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "budget_line_item_history_event_type_check": {
          "name": "budget_line_item_history_event_type_check",
          "value": "event_type = ANY (ARRAY['BUDGET_LINE_ITEM_CREATED'::text, 'BUDGET_LINE_ITEM_UPDATED'::text, 'BUDGET_LINE_ITEM_DELETED'::text, 'BUDGET_FORECAST_CREATED'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.project_tasks": {
      "name": "project_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "task_description": {
          "name": "task_description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_project_tasks_project": {
          "name": "idx_project_tasks_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_project_tasks_status": {
          "name": "idx_project_tasks_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_tasks_project_id_fkey": {
          "name": "project_tasks_project_id_fkey",
          "tableFrom": "project_tasks",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "project_tasks_priority_check": {
          "name": "project_tasks_priority_check",
          "value": "priority = ANY (ARRAY['low'::text, 'medium'::text, 'high'::text, 'critical'::text])"
        },
        "project_tasks_status_check": {
          "name": "project_tasks_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'in_progress'::text, 'completed'::text, 'cancelled'::text])"
        }
      },
      "policies": {
        "Service role has full access to project_tasks": {
          "name": "Service role has full access to project_tasks",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((auth.jwt() ->> 'role'::text) = 'service_role'::text)"
        },
        "Allow authenticated users select": {
          "name": "Allow authenticated users select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.chunks": {
      "name": "chunks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "chunk_index": {
          "name": "chunk_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "token_count": {
          "name": "token_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "document_title": {
          "name": "document_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_chunks_chunk_index": {
          "name": "idx_chunks_chunk_index",
          "columns": [
            {
              "expression": "document_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "chunk_index",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chunks_content_trgm": {
          "name": "idx_chunks_content_trgm",
          "columns": [
            {
              "expression": "content",
              "asc": true,
              "nulls": "last",
              "opclass": "gin_trgm_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_chunks_document_id": {
          "name": "idx_chunks_document_id",
          "columns": [
            {
              "expression": "document_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chunks_document_id_title": {
          "name": "idx_chunks_document_id_title",
          "columns": [
            {
              "expression": "document_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "document_title",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chunks_embedding": {
          "name": "idx_chunks_embedding",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "ivfflat",
          "with": {
            "lists": "1"
          }
        }
      },
      "foreignKeys": {
        "chunks_document_id_fkey": {
          "name": "chunks_document_id_fkey",
          "tableFrom": "chunks",
          "tableTo": "documents",
          "schemaTo": "public",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fm_table_vectors": {
      "name": "fm_table_vectors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "table_id": {
          "name": "table_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": true
        },
        "content_text": {
          "name": "content_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content_type": {
          "name": "content_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "fm_table_vectors_embedding_cosine_idx": {
          "name": "fm_table_vectors_embedding_cosine_idx",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "ivfflat",
          "with": {
            "lists": "100"
          }
        },
        "fm_table_vectors_embedding_idx": {
          "name": "fm_table_vectors_embedding_idx",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "ivfflat",
          "with": {
            "lists": "100"
          }
        },
        "fm_table_vectors_embedding_l2_idx": {
          "name": "fm_table_vectors_embedding_l2_idx",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_l2_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "ivfflat",
          "with": {
            "lists": "100"
          }
        }
      },
      "foreignKeys": {
        "fm_table_vectors_table_id_fkey": {
          "name": "fm_table_vectors_table_id_fkey",
          "tableFrom": "fm_table_vectors",
          "tableTo": "fm_global_tables",
          "schemaTo": "public",
          "columnsFrom": [
            "table_id"
          ],
          "columnsTo": [
            "table_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Allow public read access": {
          "name": "Allow public read access",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.meeting_segments": {
      "name": "meeting_segments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "metadata_id": {
          "name": "metadata_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "segment_index": {
          "name": "segment_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_index": {
          "name": "start_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "end_index": {
          "name": "end_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decisions": {
          "name": "decisions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "risks": {
          "name": "risks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "tasks": {
          "name": "tasks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "summary_embedding": {
          "name": "summary_embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "project_ids": {
          "name": "project_ids",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        }
      },
      "indexes": {
        "meeting_segments_project_ids_gin_idx": {
          "name": "meeting_segments_project_ids_gin_idx",
          "columns": [
            {
              "expression": "project_ids",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "meeting_segments_summary_embedding_idx": {
          "name": "meeting_segments_summary_embedding_idx",
          "columns": [
            {
              "expression": "summary_embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "hnsw",
          "with": {
            "m": "16",
            "ef_construction": "64"
          }
        }
      },
      "foreignKeys": {
        "meeting_segments_metadata_id_fkey": {
          "name": "meeting_segments_metadata_id_fkey",
          "tableFrom": "meeting_segments",
          "tableTo": "document_metadata",
          "schemaTo": "public",
          "columnsFrom": [
            "metadata_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "meeting_segments_metadata_id_segment_index_key": {
          "columns": [
            "metadata_id",
            "segment_index"
          ],
          "nullsNotDistinct": false,
          "name": "meeting_segments_metadata_id_segment_index_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.employees": {
      "name": "employees",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "employees_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "salery": {
          "name": "salery",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "supervisor": {
          "name": "supervisor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "company_card": {
          "name": "company_card",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "truck_allowance": {
          "name": "truck_allowance",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "phone_allowance": {
          "name": "phone_allowance",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "timezone('utc'::text, now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "timezone('utc'::text, now())"
        },
        "job_title": {
          "name": "job_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "supervisor_name": {
          "name": "supervisor_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "photo": {
          "name": "photo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "employees_supervisor_fkey": {
          "name": "employees_supervisor_fkey",
          "tableFrom": "employees",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "supervisor"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set default",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "employees_email_key": {
          "columns": [
            "email"
          ],
          "nullsNotDistinct": false,
          "name": "employees_email_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Enable insert for authenticated users only": {
          "name": "Enable insert for authenticated users only",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "true"
        },
        "Allow public to view employees": {
          "name": "Allow public to view employees",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Allow authenticated users to insert employees": {
          "name": "Allow authenticated users to insert employees",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ]
        },
        "Allow authenticated users to update employees": {
          "name": "Allow authenticated users to update employees",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ]
        },
        "Allow authenticated users to delete employees": {
          "name": "Allow authenticated users to delete employees",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.cost_code_divisions": {
      "name": "cost_code_divisions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "divisions_code_unique": {
          "columns": [
            "code"
          ],
          "nullsNotDistinct": false,
          "name": "divisions_code_unique"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fm_optimization_suggestions": {
      "name": "fm_optimization_suggestions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "form_submission_id": {
          "name": "form_submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "suggestion_type": {
          "name": "suggestion_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_config": {
          "name": "original_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_config": {
          "name": "suggested_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_savings": {
          "name": "estimated_savings",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "implementation_effort": {
          "name": "implementation_effort",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "risk_level": {
          "name": "risk_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "technical_justification": {
          "name": "technical_justification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "applicable_codes": {
          "name": "applicable_codes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fm_optimization_suggestions_form_submission_id_fkey": {
          "name": "fm_optimization_suggestions_form_submission_id_fkey",
          "tableFrom": "fm_optimization_suggestions",
          "tableTo": "fm_form_submissions",
          "schemaTo": "public",
          "columnsFrom": [
            "form_submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.company_context": {
      "name": "company_context",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "goals": {
          "name": "goals",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "strategic_initiatives": {
          "name": "strategic_initiatives",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "okrs": {
          "name": "okrs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "resource_constraints": {
          "name": "resource_constraints",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "policies": {
          "name": "policies",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "org_structure": {
          "name": "org_structure",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_projects": {
      "name": "user_projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_email": {
          "name": "user_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "project_name": {
          "name": "project_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_phone": {
          "name": "contact_phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "project_data": {
          "name": "project_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "lead_score": {
          "name": "lead_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'new'"
        },
        "estimated_value": {
          "name": "estimated_value",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "projects_created_idx": {
          "name": "projects_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_projects_lead_score_idx": {
          "name": "user_projects_lead_score_idx",
          "columns": [
            {
              "expression": "lead_score",
              "asc": false,
              "nulls": "first",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_projects_status_idx": {
          "name": "user_projects_status_idx",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Allow public access on projects": {
          "name": "Allow public access on projects",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.design_recommendations": {
      "name": "design_recommendations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "recommendation_type": {
          "name": "recommendation_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "potential_savings": {
          "name": "potential_savings",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "priority_level": {
          "name": "priority_level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "implementation_effort": {
          "name": "implementation_effort",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "technical_details": {
          "name": "technical_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "recommendations_priority_idx": {
          "name": "recommendations_priority_idx",
          "columns": [
            {
              "expression": "priority_level",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "fk_project_id": {
          "name": "fk_project_id",
          "tableFrom": "design_recommendations",
          "tableTo": "user_projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Allow public access on recommendations": {
          "name": "Allow public access on recommendations",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.cost_factors": {
      "name": "cost_factors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "factor_name": {
          "name": "factor_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "factor_type": {
          "name": "factor_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "base_cost_per_unit": {
          "name": "base_cost_per_unit",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "unit_type": {
          "name": "unit_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "complexity_multiplier": {
          "name": "complexity_multiplier",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "cost_factors_factor_name_key": {
          "columns": [
            "factor_name"
          ],
          "nullsNotDistinct": false,
          "name": "cost_factors_factor_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Allow public access on cost_factors": {
          "name": "Allow public access on cost_factors",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.asrs_configurations": {
      "name": "asrs_configurations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "config_name": {
          "name": "config_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "asrs_type": {
          "name": "asrs_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "max_height_ft": {
          "name": "max_height_ft",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "container_types": {
          "name": "container_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "typical_applications": {
          "name": "typical_applications",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "cost_multiplier": {
          "name": "cost_multiplier",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "asrs_configurations_config_name_key": {
          "columns": [
            "config_name"
          ],
          "nullsNotDistinct": false,
          "name": "asrs_configurations_config_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Allow public access on asrs_configurations": {
          "name": "Allow public access on asrs_configurations",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": false
    },
    "public.chat_sessions": {
      "name": "chat_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "context": {
          "name": "context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "chat_sessions_user_id_idx": {
          "name": "chat_sessions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chat_sessions_user_id_fkey": {
          "name": "chat_sessions_user_id_fkey",
          "tableFrom": "chat_sessions",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fm_form_submissions": {
      "name": "fm_form_submissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_input": {
          "name": "user_input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "parsed_requirements": {
          "name": "parsed_requirements",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "matched_table_ids": {
          "name": "matched_table_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "similarity_scores": {
          "name": "similarity_scores",
          "type": "numeric[]",
          "primaryKey": false,
          "notNull": false
        },
        "selected_configuration": {
          "name": "selected_configuration",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "contact_info": {
          "name": "contact_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "project_details": {
          "name": "project_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "lead_score": {
          "name": "lead_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "lead_status": {
          "name": "lead_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'new'"
        },
        "cost_analysis": {
          "name": "cost_analysis",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "recommendations": {
          "name": "recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_form_submissions_created": {
          "name": "idx_form_submissions_created",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamp_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_form_submissions_lead_score": {
          "name": "idx_form_submissions_lead_score",
          "columns": [
            {
              "expression": "lead_score",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_form_submissions_status": {
          "name": "idx_form_submissions_status",
          "columns": [
            {
              "expression": "lead_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "chk_lead_score": {
          "name": "chk_lead_score",
          "value": "(lead_score >= 0) AND (lead_score <= 100)"
        },
        "chk_lead_status": {
          "name": "chk_lead_status",
          "value": "lead_status = ANY (ARRAY['new'::text, 'qualified'::text, 'contacted'::text, 'converted'::text, 'lost'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.issues": {
      "name": "issues",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "issue_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "issue_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'Medium'"
        },
        "status": {
          "name": "status",
          "type": "issue_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'Open'"
        },
        "reported_by": {
          "name": "reported_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "date_reported": {
          "name": "date_reported",
          "type": "date",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_DATE"
        },
        "date_resolved": {
          "name": "date_resolved",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "direct_cost": {
          "name": "direct_cost",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "indirect_cost": {
          "name": "indirect_cost",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_cost": {
          "name": "total_cost",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "(direct_cost + indirect_cost)",
            "type": "stored"
          }
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "issues_project_id_fkey": {
          "name": "issues_project_id_fkey",
          "tableFrom": "issues",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fm_documents": {
      "name": "fm_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_type": {
          "name": "document_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "related_table_ids": {
          "name": "related_table_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "processing_status": {
          "name": "processing_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "processing_notes": {
          "name": "processing_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "fm_documents_embedding_idx": {
          "name": "fm_documents_embedding_idx",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "ivfflat",
          "with": {
            "lists": "50"
          }
        },
        "idx_documents_status": {
          "name": "idx_documents_status",
          "columns": [
            {
              "expression": "processing_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_documents_type": {
          "name": "idx_documents_type",
          "columns": [
            {
              "expression": "document_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fm_documents_content_search": {
          "name": "idx_fm_documents_content_search",
          "columns": [
            {
              "expression": "to_tsvector('english'::regconfig, content)",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.subcontractor_projects": {
      "name": "subcontractor_projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "subcontractor_id": {
          "name": "subcontractor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "project_name": {
          "name": "project_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "project_value": {
          "name": "project_value",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "completion_date": {
          "name": "completion_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "project_rating": {
          "name": "project_rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "on_time": {
          "name": "on_time",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "on_budget": {
          "name": "on_budget",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "safety_incidents": {
          "name": "safety_incidents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_subcontractor_projects_subcontractor_id": {
          "name": "idx_subcontractor_projects_subcontractor_id",
          "columns": [
            {
              "expression": "subcontractor_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "subcontractor_projects_subcontractor_id_fkey": {
          "name": "subcontractor_projects_subcontractor_id_fkey",
          "tableFrom": "subcontractor_projects",
          "tableTo": "subcontractors",
          "schemaTo": "public",
          "columnsFrom": [
            "subcontractor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "subcontractor_projects_project_rating_check": {
          "name": "subcontractor_projects_project_rating_check",
          "value": "(project_rating >= (0)::numeric) AND (project_rating <= (5)::numeric)"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fm_global_tables": {
      "name": "fm_global_tables",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "table_number": {
          "name": "table_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "table_id": {
          "name": "table_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "asrs_type": {
          "name": "asrs_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "system_type": {
          "name": "system_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "protection_scheme": {
          "name": "protection_scheme",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "commodity_types": {
          "name": "commodity_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "ceiling_height_min_ft": {
          "name": "ceiling_height_min_ft",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "ceiling_height_max_ft": {
          "name": "ceiling_height_max_ft",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "storage_height_max_ft": {
          "name": "storage_height_max_ft",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "aisle_width_requirements": {
          "name": "aisle_width_requirements",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rack_configuration": {
          "name": "rack_configuration",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "sprinkler_specifications": {
          "name": "sprinkler_specifications",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "design_parameters": {
          "name": "design_parameters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "special_conditions": {
          "name": "special_conditions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "applicable_figures": {
          "name": "applicable_figures",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_page_number": {
          "name": "estimated_page_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "extraction_status": {
          "name": "extraction_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "raw_data": {
          "name": "raw_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "section_references": {
          "name": "section_references",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "container_type": {
          "name": "container_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "figures": {
          "name": "figures",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fm_global_tables_specs_gin": {
          "name": "fm_global_tables_specs_gin",
          "columns": [
            {
              "expression": "sprinkler_specifications",
              "asc": true,
              "nulls": "last",
              "opclass": "jsonb_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "fm_global_tables_tableid_idx": {
          "name": "fm_global_tables_tableid_idx",
          "columns": [
            {
              "expression": "table_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fm_global_tables_number": {
          "name": "idx_fm_global_tables_number",
          "columns": [
            {
              "expression": "table_number",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fm_tables_asrs_type": {
          "name": "idx_fm_tables_asrs_type",
          "columns": [
            {
              "expression": "asrs_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fm_tables_commodities": {
          "name": "idx_fm_tables_commodities",
          "columns": [
            {
              "expression": "commodity_types",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_fm_tables_number": {
          "name": "idx_fm_tables_number",
          "columns": [
            {
              "expression": "table_number",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fm_tables_status": {
          "name": "idx_fm_tables_status",
          "columns": [
            {
              "expression": "extraction_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fm_tables_system_type": {
          "name": "idx_fm_tables_system_type",
          "columns": [
            {
              "expression": "system_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fm_tables_title_search": {
          "name": "idx_fm_tables_title_search",
          "columns": [
            {
              "expression": "to_tsvector('english'::regconfig, title)",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_fm_tables_type_system": {
          "name": "idx_fm_tables_type_system",
          "columns": [
            {
              "expression": "asrs_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "system_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "fm_global_tables_figures_fkey": {
          "name": "fm_global_tables_figures_fkey",
          "tableFrom": "fm_global_tables",
          "tableTo": "fm_global_figures",
          "schemaTo": "public",
          "columnsFrom": [
            "figures"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fm_global_tables_table_id_key": {
          "columns": [
            "table_id"
          ],
          "nullsNotDistinct": false,
          "name": "fm_global_tables_table_id_key"
        }
      },
      "checkConstraints": {
        "chk_extraction_status": {
          "name": "chk_extraction_status",
          "value": "extraction_status = ANY (ARRAY['pending'::text, 'extracted'::text, 'vectorized'::text, 'verified'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.notes": {
      "name": "notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "notes_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "default": "auth.uid()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "archived": {
          "name": "archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "idx_notes_created_at": {
          "name": "idx_notes_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notes_project_id": {
          "name": "idx_notes_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "notes_project_fkey": {
          "name": "notes_project_fkey",
          "tableFrom": "notes",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.document_executive_summaries": {
      "name": "document_executive_summaries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "executive_summary": {
          "name": "executive_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "critical_path_items": {
          "name": "critical_path_items",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_insights": {
          "name": "total_insights",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "confidence_average": {
          "name": "confidence_average",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.0'"
        },
        "budget_discussions": {
          "name": "budget_discussions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "cost_implications": {
          "name": "cost_implications",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "revenue_impact": {
          "name": "revenue_impact",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "financial_decisions_count": {
          "name": "financial_decisions_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "delay_risks": {
          "name": "delay_risks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "critical_deadlines": {
          "name": "critical_deadlines",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "timeline_concerns_count": {
          "name": "timeline_concerns_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "relationship_changes": {
          "name": "relationship_changes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "performance_issues": {
          "name": "performance_issues",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "stakeholder_feedback_count": {
          "name": "stakeholder_feedback_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "decisions_made": {
          "name": "decisions_made",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "competitive_intel": {
          "name": "competitive_intel",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "strategic_pivots": {
          "name": "strategic_pivots",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fm_sections": {
      "name": "fm_sections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "number": {
          "name": "number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "sort_key": {
          "name": "sort_key",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "parent_id": {
          "name": "parent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "page_start": {
          "name": "page_start",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "page_end": {
          "name": "page_end",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "section_path": {
          "name": "section_path",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "breadcrumb_display": {
          "name": "breadcrumb_display",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_visible": {
          "name": "is_visible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "section_type": {
          "name": "section_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'section'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_fm_sections_parent": {
          "name": "idx_fm_sections_parent",
          "columns": [
            {
              "expression": "parent_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fm_sections_slug": {
          "name": "idx_fm_sections_slug",
          "columns": [
            {
              "expression": "slug",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fm_sections_sort": {
          "name": "idx_fm_sections_sort",
          "columns": [
            {
              "expression": "sort_key",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "fm_sections_parent_id_fkey": {
          "name": "fm_sections_parent_id_fkey",
          "tableFrom": "fm_sections",
          "tableTo": "fm_sections",
          "schemaTo": "public",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fm_sections_slug_key": {
          "columns": [
            "slug"
          ],
          "nullsNotDistinct": false,
          "name": "fm_sections_slug_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Allow public read access on fm_sections": {
          "name": "Allow public read access on fm_sections",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(is_visible = true)"
        }
      },
      "isRLSEnabled": true
    },
    "public.asrs_sections": {
      "name": "asrs_sections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "number": {
          "name": "number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parent_id": {
          "name": "parent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sort_key": {
          "name": "sort_key",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "asrs_sections_number_idx": {
          "name": "asrs_sections_number_idx",
          "columns": [
            {
              "expression": "number",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_asrs_sections_slug": {
          "name": "idx_asrs_sections_slug",
          "columns": [
            {
              "expression": "slug",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_asrs_sections_sort": {
          "name": "idx_asrs_sections_sort",
          "columns": [
            {
              "expression": "sort_key",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "asrs_sections_parent_id_fkey": {
          "name": "asrs_sections_parent_id_fkey",
          "tableFrom": "asrs_sections",
          "tableTo": "asrs_sections",
          "schemaTo": "public",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "asrs_sections_slug_key": {
          "columns": [
            "slug"
          ],
          "nullsNotDistinct": false,
          "name": "asrs_sections_slug_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fm_blocks": {
      "name": "fm_blocks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "section_id": {
          "name": "section_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "block_type": {
          "name": "block_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "ordinal": {
          "name": "ordinal",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "source_text": {
          "name": "source_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "html": {
          "name": "html",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "page_reference": {
          "name": "page_reference",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "inline_figures": {
          "name": "inline_figures",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        },
        "inline_tables": {
          "name": "inline_tables",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "search_vector": {
          "name": "search_vector",
          "type": "tsvector",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_fm_blocks_search": {
          "name": "idx_fm_blocks_search",
          "columns": [
            {
              "expression": "search_vector",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_fm_blocks_section": {
          "name": "idx_fm_blocks_section",
          "columns": [
            {
              "expression": "section_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "ordinal",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fm_blocks_type": {
          "name": "idx_fm_blocks_type",
          "columns": [
            {
              "expression": "block_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "fm_blocks_section_id_fkey": {
          "name": "fm_blocks_section_id_fkey",
          "tableFrom": "fm_blocks",
          "tableTo": "fm_sections",
          "schemaTo": "public",
          "columnsFrom": [
            "section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Allow public read access on fm_blocks": {
          "name": "Allow public read access on fm_blocks",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.asrs_protection_rules": {
      "name": "asrs_protection_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "section_id": {
          "name": "section_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "asrs_type": {
          "name": "asrs_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "container_wall": {
          "name": "container_wall",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "container_material": {
          "name": "container_material",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "container_top": {
          "name": "container_top",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "commodity_class": {
          "name": "commodity_class",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ceiling_height_min": {
          "name": "ceiling_height_min",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "ceiling_height_max": {
          "name": "ceiling_height_max",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "sprinkler_scheme": {
          "name": "sprinkler_scheme",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "k_factor": {
          "name": "k_factor",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "density_gpm_ft2": {
          "name": "density_gpm_ft2",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "area_ft2": {
          "name": "area_ft2",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "pressure_psi": {
          "name": "pressure_psi",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "asrs_protection_rules_section_id_fkey": {
          "name": "asrs_protection_rules_section_id_fkey",
          "tableFrom": "asrs_protection_rules",
          "tableTo": "asrs_sections",
          "schemaTo": "public",
          "columnsFrom": [
            "section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "public.block_embeddings": {
      "name": "block_embeddings",
      "schema": "",
      "columns": {
        "block_id": {
          "name": "block_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "block_embeddings_block_id_fkey": {
          "name": "block_embeddings_block_id_fkey",
          "tableFrom": "block_embeddings",
          "tableTo": "asrs_blocks",
          "schemaTo": "public",
          "columnsFrom": [
            "block_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.project_members": {
      "name": "project_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "access": {
          "name": "access",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_project_members_project": {
          "name": "idx_project_members_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_project_members_project_user": {
          "name": "idx_project_members_project_user",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_project_members_user": {
          "name": "idx_project_members_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_members_project_id_fkey": {
          "name": "project_members_project_id_fkey",
          "tableFrom": "project_members",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "project_members_project_id_user_id_key": {
          "columns": [
            "project_id",
            "user_id"
          ],
          "nullsNotDistinct": false,
          "name": "project_members_project_id_user_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "project_members_select_own": {
          "name": "project_members_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(user_id = ( SELECT auth.uid() AS uid))"
        },
        "project_members_insert_for_authenticated": {
          "name": "project_members_insert_for_authenticated",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ]
        },
        "project_members_update_own": {
          "name": "project_members_update_own",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ]
        },
        "project_members_admin_update": {
          "name": "project_members_admin_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.project_users": {
      "name": "project_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_project_users_project_id": {
          "name": "idx_project_users_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_project_users_user_id": {
          "name": "idx_project_users_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_users_project_id_fkey": {
          "name": "project_users_project_id_fkey",
          "tableFrom": "project_users",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_users_user_id_fkey": {
          "name": "project_users_user_id_fkey",
          "tableFrom": "project_users",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "project_users_project_id_user_id_key": {
          "columns": [
            "project_id",
            "user_id"
          ],
          "nullsNotDistinct": false,
          "name": "project_users_project_id_user_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.specifications": {
      "name": "specifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "section_number": {
          "name": "section_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "section_title": {
          "name": "section_title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "division": {
          "name": "division",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "specification_type": {
          "name": "specification_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'csi'"
        },
        "document_url": {
          "name": "document_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requirements": {
          "name": "requirements",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "keywords": {
          "name": "keywords",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "ai_summary": {
          "name": "ai_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_specifications_content_search": {
          "name": "idx_specifications_content_search",
          "columns": [
            {
              "expression": "to_tsvector('english'::regconfig, content)",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_specifications_project_id": {
          "name": "idx_specifications_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_specifications_requirements": {
          "name": "idx_specifications_requirements",
          "columns": [
            {
              "expression": "requirements",
              "asc": true,
              "nulls": "last",
              "opclass": "jsonb_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_specifications_section": {
          "name": "idx_specifications_section",
          "columns": [
            {
              "expression": "section_number",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "specifications_project_id_fkey": {
          "name": "specifications_project_id_fkey",
          "tableFrom": "specifications",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "specifications_status_check": {
          "name": "specifications_status_check",
          "value": "(status)::text = ANY ((ARRAY['draft'::character varying, 'active'::character varying, 'superseded'::character varying, 'archived'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.contacts": {
      "name": "contacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "contacts_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "birthday": {
          "name": "birthday",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "job_title": {
          "name": "job_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "projects": {
          "name": "projects",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "zip": {
          "name": "zip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contacts_company_id": {
          "name": "idx_contacts_company_id",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "contacts_company_id_fkey": {
          "name": "contacts_company_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.chat_history": {
      "name": "chat_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sources": {
          "name": "sources",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_chat_history_session_id": {
          "name": "idx_chat_history_session_id",
          "columns": [
            {
              "expression": "session_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chat_history_user_id": {
          "name": "idx_chat_history_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chat_history_user_id_fkey": {
          "name": "chat_history_user_id_fkey",
          "tableFrom": "chat_history",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "chat_history_role_check": {
          "name": "chat_history_role_check",
          "value": "role = ANY (ARRAY['user'::text, 'assistant'::text, 'system'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": true
    },
    "public.processing_queue": {
      "name": "processing_queue",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_type": {
          "name": "job_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'queued'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_processing_queue_document_id": {
          "name": "idx_processing_queue_document_id",
          "columns": [
            {
              "expression": "document_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_processing_queue_status": {
          "name": "idx_processing_queue_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "processing_queue_job_type_check": {
          "name": "processing_queue_job_type_check",
          "value": "job_type = ANY (ARRAY['chunk'::text, 'embed'::text, 'index'::text])"
        },
        "processing_queue_status_check": {
          "name": "processing_queue_status_check",
          "value": "status = ANY (ARRAY['queued'::text, 'processing'::text, 'completed'::text, 'failed'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": true
    },
    "public.budget_line_history": {
      "name": "budget_line_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "budget_line_id": {
          "name": "budget_line_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "old_value": {
          "name": "old_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "new_value": {
          "name": "new_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "changed_at": {
          "name": "changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "change_type": {
          "name": "change_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_budget_line_history_budget_line_id": {
          "name": "idx_budget_line_history_budget_line_id",
          "columns": [
            {
              "expression": "budget_line_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_budget_line_history_changed_at": {
          "name": "idx_budget_line_history_changed_at",
          "columns": [
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_budget_line_history_project_id": {
          "name": "idx_budget_line_history_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "budget_line_history_budget_line_id_fkey": {
          "name": "budget_line_history_budget_line_id_fkey",
          "tableFrom": "budget_line_history",
          "tableTo": "budget_lines",
          "schemaTo": "public",
          "columnsFrom": [
            "budget_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "budget_line_history_changed_by_fkey": {
          "name": "budget_line_history_changed_by_fkey",
          "tableFrom": "budget_line_history",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "budget_line_history_project_id_fkey": {
          "name": "budget_line_history_project_id_fkey",
          "tableFrom": "budget_line_history",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "budget_line_history_change_type_check": {
          "name": "budget_line_history_change_type_check",
          "value": "change_type = ANY (ARRAY['create'::text, 'update'::text, 'delete'::text])"
        }
      },
      "policies": {
        "budget_line_history_select_for_authenticated": {
          "name": "budget_line_history_select_for_authenticated",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "budget_line_history_insert_for_authenticated": {
          "name": "budget_line_history_insert_for_authenticated",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.submittal_types": {
      "name": "submittal_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "required_documents": {
          "name": "required_documents",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "review_criteria": {
          "name": "review_criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ai_analysis_config": {
          "name": "ai_analysis_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "submittal_types_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "submittal_types_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.initiatives": {
      "name": "initiatives",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "completion_percentage": {
          "name": "completion_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "owner": {
          "name": "owner",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "team_members": {
          "name": "team_members",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "stakeholders": {
          "name": "stakeholders",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "target_completion": {
          "name": "target_completion",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "actual_completion": {
          "name": "actual_completion",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "keywords": {
          "name": "keywords",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "aliases": {
          "name": "aliases",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "budget": {
          "name": "budget",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "budget_used": {
          "name": "budget_used",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "documentation_links": {
          "name": "documentation_links",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "related_project_ids": {
          "name": "related_project_ids",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_initiatives_category": {
          "name": "idx_initiatives_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_initiatives_keywords": {
          "name": "idx_initiatives_keywords",
          "columns": [
            {
              "expression": "keywords",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_initiatives_owner": {
          "name": "idx_initiatives_owner",
          "columns": [
            {
              "expression": "owner",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_initiatives_status": {
          "name": "idx_initiatives_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "initiatives_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "initiatives_name_key"
        }
      },
      "checkConstraints": {
        "initiatives_category_check": {
          "name": "initiatives_category_check",
          "value": "category = ANY (ARRAY['hiring'::text, 'operations'::text, 'process_improvement'::text, 'training'::text, 'technology'::text, 'compliance'::text, 'marketing'::text, 'finance'::text, 'other'::text])"
        },
        "initiatives_completion_percentage_check": {
          "name": "initiatives_completion_percentage_check",
          "value": "(completion_percentage >= 0) AND (completion_percentage <= 100)"
        },
        "initiatives_priority_check": {
          "name": "initiatives_priority_check",
          "value": "priority = ANY (ARRAY['low'::text, 'medium'::text, 'high'::text, 'urgent'::text])"
        },
        "initiatives_status_check": {
          "name": "initiatives_status_check",
          "value": "status = ANY (ARRAY['active'::text, 'on_hold'::text, 'completed'::text, 'cancelled'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.contract_payments": {
      "name": "contract_payments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "contract_id": {
          "name": "contract_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "billing_period_id": {
          "name": "billing_period_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payment_number": {
          "name": "payment_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_date": {
          "name": "payment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "payment_type": {
          "name": "payment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'progress'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "check_number": {
          "name": "check_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reference_number": {
          "name": "reference_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_date": {
          "name": "approved_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "paid_date": {
          "name": "paid_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_payments_approved_by": {
          "name": "idx_payments_approved_by",
          "columns": [
            {
              "expression": "approved_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payments_billing_period": {
          "name": "idx_payments_billing_period",
          "columns": [
            {
              "expression": "billing_period_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payments_created_at": {
          "name": "idx_payments_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payments_payment_date": {
          "name": "idx_payments_payment_date",
          "columns": [
            {
              "expression": "payment_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payments_status": {
          "name": "idx_payments_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "contract_payments_approved_by_fkey": {
          "name": "contract_payments_approved_by_fkey",
          "tableFrom": "contract_payments",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contract_payments_billing_period_id_fkey": {
          "name": "contract_payments_billing_period_id_fkey",
          "tableFrom": "contract_payments",
          "tableTo": "contract_billing_periods",
          "schemaTo": "public",
          "columnsFrom": [
            "billing_period_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "contract_payments_contract_id_fkey": {
          "name": "contract_payments_contract_id_fkey",
          "tableFrom": "contract_payments",
          "tableTo": "prime_contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "contract_payments_contract_id_payment_number_key": {
          "columns": [
            "contract_id",
            "payment_number"
          ],
          "nullsNotDistinct": false,
          "name": "contract_payments_contract_id_payment_number_key"
        }
      },
      "checkConstraints": {
        "contract_payments_amount_check": {
          "name": "contract_payments_amount_check",
          "value": "amount > (0)::numeric"
        },
        "contract_payments_payment_type_check": {
          "name": "contract_payments_payment_type_check",
          "value": "payment_type = ANY (ARRAY['progress'::text, 'retention'::text, 'final'::text, 'advance'::text])"
        },
        "contract_payments_status_check": {
          "name": "contract_payments_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'approved'::text, 'paid'::text, 'cancelled'::text])"
        },
        "valid_approval_date": {
          "name": "valid_approval_date",
          "value": "((status = ANY (ARRAY['approved'::text, 'paid'::text])) AND (approved_date IS NOT NULL) AND (approved_by IS NOT NULL)) OR (status = ANY (ARRAY['pending'::text, 'cancelled'::text]))"
        },
        "valid_paid_date": {
          "name": "valid_paid_date",
          "value": "((status = 'paid'::text) AND (paid_date IS NOT NULL)) OR (status = ANY (ARRAY['pending'::text, 'approved'::text, 'cancelled'::text]))"
        }
      },
      "policies": {
        "Users can view payments in their projects": {
          "name": "Users can view payments in their projects",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (prime_contracts\n     JOIN project_members ON ((project_members.project_id = prime_contracts.project_id)))\n  WHERE ((prime_contracts.id = contract_payments.contract_id) AND (project_members.user_id = auth.uid()))))"
        },
        "Editors can create payments": {
          "name": "Editors can create payments",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Editors can update payments": {
          "name": "Editors can update payments",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Admins can delete payments": {
          "name": "Admins can delete payments",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.contract_billing_periods": {
      "name": "contract_billing_periods",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "contract_id": {
          "name": "contract_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "period_number": {
          "name": "period_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "billing_date": {
          "name": "billing_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "work_completed": {
          "name": "work_completed",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "stored_materials": {
          "name": "stored_materials",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "current_payment_due": {
          "name": "current_payment_due",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "(work_completed + stored_materials)",
            "type": "stored"
          }
        },
        "retention_percentage": {
          "name": "retention_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "retention_amount": {
          "name": "retention_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "net_payment_due": {
          "name": "net_payment_due",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "((work_completed + stored_materials) - retention_amount)",
            "type": "stored"
          }
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_billing_periods_billing_date": {
          "name": "idx_billing_periods_billing_date",
          "columns": [
            {
              "expression": "billing_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_billing_periods_contract": {
          "name": "idx_billing_periods_contract",
          "columns": [
            {
              "expression": "contract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_billing_periods_created_at": {
          "name": "idx_billing_periods_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_billing_periods_status": {
          "name": "idx_billing_periods_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "contract_billing_periods_contract_id_fkey": {
          "name": "contract_billing_periods_contract_id_fkey",
          "tableFrom": "contract_billing_periods",
          "tableTo": "prime_contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "contract_billing_periods_contract_id_period_number_key": {
          "columns": [
            "contract_id",
            "period_number"
          ],
          "nullsNotDistinct": false,
          "name": "contract_billing_periods_contract_id_period_number_key"
        }
      },
      "checkConstraints": {
        "contract_billing_periods_retention_amount_check": {
          "name": "contract_billing_periods_retention_amount_check",
          "value": "retention_amount >= (0)::numeric"
        },
        "contract_billing_periods_retention_percentage_check": {
          "name": "contract_billing_periods_retention_percentage_check",
          "value": "(retention_percentage >= (0)::numeric) AND (retention_percentage <= (100)::numeric)"
        },
        "contract_billing_periods_status_check": {
          "name": "contract_billing_periods_status_check",
          "value": "status = ANY (ARRAY['draft'::text, 'submitted'::text, 'approved'::text, 'paid'::text])"
        },
        "contract_billing_periods_stored_materials_check": {
          "name": "contract_billing_periods_stored_materials_check",
          "value": "stored_materials >= (0)::numeric"
        },
        "contract_billing_periods_work_completed_check": {
          "name": "contract_billing_periods_work_completed_check",
          "value": "work_completed >= (0)::numeric"
        },
        "valid_billing_date": {
          "name": "valid_billing_date",
          "value": "billing_date >= start_date"
        },
        "valid_date_range": {
          "name": "valid_date_range",
          "value": "start_date <= end_date"
        }
      },
      "policies": {
        "Users can view billing periods in their projects": {
          "name": "Users can view billing periods in their projects",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (prime_contracts\n     JOIN project_members ON ((project_members.project_id = prime_contracts.project_id)))\n  WHERE ((prime_contracts.id = contract_billing_periods.contract_id) AND (project_members.user_id = auth.uid()))))"
        },
        "Editors can create billing periods": {
          "name": "Editors can create billing periods",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Editors can update billing periods": {
          "name": "Editors can update billing periods",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Admins can delete billing periods": {
          "name": "Admins can delete billing periods",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.risks": {
      "name": "risks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "metadata_id": {
          "name": "metadata_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "segment_id": {
          "name": "segment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "source_chunk_id": {
          "name": "source_chunk_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "likelihood": {
          "name": "likelihood",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "impact": {
          "name": "impact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_name": {
          "name": "owner_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_email": {
          "name": "owner_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "mitigation_plan": {
          "name": "mitigation_plan",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "project_ids": {
          "name": "project_ids",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        }
      },
      "indexes": {
        "risks_embedding_idx": {
          "name": "risks_embedding_idx",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "hnsw",
          "with": {
            "m": "16",
            "ef_construction": "64"
          }
        },
        "risks_project_ids_gin_idx": {
          "name": "risks_project_ids_gin_idx",
          "columns": [
            {
              "expression": "project_ids",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        }
      },
      "foreignKeys": {
        "risks_metadata_id_fkey": {
          "name": "risks_metadata_id_fkey",
          "tableFrom": "risks",
          "tableTo": "document_metadata",
          "schemaTo": "public",
          "columnsFrom": [
            "metadata_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "risks_segment_id_fkey": {
          "name": "risks_segment_id_fkey",
          "tableFrom": "risks",
          "tableTo": "meeting_segments",
          "schemaTo": "public",
          "columnsFrom": [
            "segment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "risks_source_chunk_id_fkey": {
          "name": "risks_source_chunk_id_fkey",
          "tableFrom": "risks",
          "tableTo": "documents",
          "schemaTo": "public",
          "columnsFrom": [
            "source_chunk_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "risks_metadata_id_description_key": {
          "columns": [
            "metadata_id",
            "description"
          ],
          "nullsNotDistinct": false,
          "name": "risks_metadata_id_description_key"
        }
      },
      "checkConstraints": {
        "risks_impact_check": {
          "name": "risks_impact_check",
          "value": "impact = ANY (ARRAY['low'::text, 'medium'::text, 'high'::text])"
        },
        "risks_likelihood_check": {
          "name": "risks_likelihood_check",
          "value": "likelihood = ANY (ARRAY['low'::text, 'medium'::text, 'high'::text])"
        },
        "risks_status_check": {
          "name": "risks_status_check",
          "value": "status = ANY (ARRAY['open'::text, 'mitigated'::text, 'closed'::text, 'occurred'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.submittals": {
      "name": "submittals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "specification_id": {
          "name": "specification_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "submittal_type_id": {
          "name": "submittal_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "submittal_number": {
          "name": "submittal_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "submitter_company": {
          "name": "submitter_company",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "submission_date": {
          "name": "submission_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "required_approval_date": {
          "name": "required_approval_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'normal'"
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'submitted'"
        },
        "current_version": {
          "name": "current_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "total_versions": {
          "name": "total_versions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_submittals_metadata": {
          "name": "idx_submittals_metadata",
          "columns": [
            {
              "expression": "metadata",
              "asc": true,
              "nulls": "last",
              "opclass": "jsonb_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_submittals_number": {
          "name": "idx_submittals_number",
          "columns": [
            {
              "expression": "submittal_number",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_submittals_project_id": {
          "name": "idx_submittals_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_submittals_status": {
          "name": "idx_submittals_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_submittals_submission_date": {
          "name": "idx_submittals_submission_date",
          "columns": [
            {
              "expression": "submission_date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "submittals_project_id_fkey": {
          "name": "submittals_project_id_fkey",
          "tableFrom": "submittals",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "submittals_specification_id_fkey": {
          "name": "submittals_specification_id_fkey",
          "tableFrom": "submittals",
          "tableTo": "specifications",
          "schemaTo": "public",
          "columnsFrom": [
            "specification_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submittals_submittal_type_id_fkey": {
          "name": "submittals_submittal_type_id_fkey",
          "tableFrom": "submittals",
          "tableTo": "submittal_types",
          "schemaTo": "public",
          "columnsFrom": [
            "submittal_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submittals_submitted_by_fkey": {
          "name": "submittals_submitted_by_fkey",
          "tableFrom": "submittals",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "submitted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "submittals_project_id_submittal_number_key": {
          "columns": [
            "project_id",
            "submittal_number"
          ],
          "nullsNotDistinct": false,
          "name": "submittals_project_id_submittal_number_key"
        }
      },
      "checkConstraints": {
        "submittals_priority_check": {
          "name": "submittals_priority_check",
          "value": "(priority)::text = ANY ((ARRAY['low'::character varying, 'normal'::character varying, 'high'::character varying, 'critical'::character varying])::text[])"
        },
        "submittals_status_check": {
          "name": "submittals_status_check",
          "value": "(status)::text = ANY ((ARRAY['draft'::character varying, 'submitted'::character varying, 'under_review'::character varying, 'requires_revision'::character varying, 'approved'::character varying, 'rejected'::character varying, 'superseded'::character varying])::text[])"
        }
      },
      "policies": {
        "Authenticated users can manage submittals": {
          "name": "Authenticated users can manage submittals",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "withCheck": "true",
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.subcontractors": {
      "name": "subcontractors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "legal_business_name": {
          "name": "legal_business_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "dba_name": {
          "name": "dba_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_type": {
          "name": "company_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tax_id": {
          "name": "tax_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_contact_name": {
          "name": "primary_contact_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "primary_contact_title": {
          "name": "primary_contact_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_contact_email": {
          "name": "primary_contact_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_contact_phone": {
          "name": "primary_contact_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_contact_name": {
          "name": "secondary_contact_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_contact_email": {
          "name": "secondary_contact_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_contact_phone": {
          "name": "secondary_contact_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_1": {
          "name": "address_line_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_2": {
          "name": "address_line_2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state_province": {
          "name": "state_province",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'United States'"
        },
        "specialties": {
          "name": "specialties",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "service_areas": {
          "name": "service_areas",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "years_in_business": {
          "name": "years_in_business",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "employee_count": {
          "name": "employee_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "annual_revenue_range": {
          "name": "annual_revenue_range",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "asrs_experience_years": {
          "name": "asrs_experience_years",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fm_global_certified": {
          "name": "fm_global_certified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "nfpa_certifications": {
          "name": "nfpa_certifications",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "sprinkler_contractor_license": {
          "name": "sprinkler_contractor_license",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "license_expiration_date": {
          "name": "license_expiration_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "max_project_size": {
          "name": "max_project_size",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "concurrent_projects_capacity": {
          "name": "concurrent_projects_capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_project_types": {
          "name": "preferred_project_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "insurance_general_liability": {
          "name": "insurance_general_liability",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "insurance_professional_liability": {
          "name": "insurance_professional_liability",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "insurance_workers_comp": {
          "name": "insurance_workers_comp",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "bonding_capacity": {
          "name": "bonding_capacity",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "credit_rating": {
          "name": "credit_rating",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "alleato_projects_completed": {
          "name": "alleato_projects_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avg_project_rating": {
          "name": "avg_project_rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "on_time_completion_rate": {
          "name": "on_time_completion_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "safety_incident_rate": {
          "name": "safety_incident_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_payment_terms": {
          "name": "preferred_payment_terms",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "markup_percentage": {
          "name": "markup_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "hourly_rates_range": {
          "name": "hourly_rates_range",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "travel_radius_miles": {
          "name": "travel_radius_miles",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "project_management_software": {
          "name": "project_management_software",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "cad_software_proficiency": {
          "name": "cad_software_proficiency",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "bim_capabilities": {
          "name": "bim_capabilities",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "digital_collaboration_tools": {
          "name": "digital_collaboration_tools",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "osha_training_current": {
          "name": "osha_training_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "drug_testing_program": {
          "name": "drug_testing_program",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "background_check_policy": {
          "name": "background_check_policy",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "quality_certifications": {
          "name": "quality_certifications",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "tier_level": {
          "name": "tier_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_vendor": {
          "name": "preferred_vendor",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "master_agreement_signed": {
          "name": "master_agreement_signed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "master_agreement_date": {
          "name": "master_agreement_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "strengths": {
          "name": "strengths",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "weaknesses": {
          "name": "weaknesses",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "special_requirements": {
          "name": "special_requirements",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_name": {
          "name": "emergency_contact_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_phone": {
          "name": "emergency_contact_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_relationship": {
          "name": "emergency_contact_relationship",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_subcontractors_asrs_experience": {
          "name": "idx_subcontractors_asrs_experience",
          "columns": [
            {
              "expression": "asrs_experience_years",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_subcontractors_company_name": {
          "name": "idx_subcontractors_company_name",
          "columns": [
            {
              "expression": "company_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_subcontractors_fm_certified": {
          "name": "idx_subcontractors_fm_certified",
          "columns": [
            {
              "expression": "fm_global_certified",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_subcontractors_service_areas": {
          "name": "idx_subcontractors_service_areas",
          "columns": [
            {
              "expression": "service_areas",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_subcontractors_specialties": {
          "name": "idx_subcontractors_specialties",
          "columns": [
            {
              "expression": "specialties",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_subcontractors_status": {
          "name": "idx_subcontractors_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_subcontractors_tier_level": {
          "name": "idx_subcontractors_tier_level",
          "columns": [
            {
              "expression": "tier_level",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "subcontractors_annual_revenue_range_check": {
          "name": "subcontractors_annual_revenue_range_check",
          "value": "annual_revenue_range = ANY (ARRAY['under_1m'::text, '1m_5m'::text, '5m_10m'::text, '10m_25m'::text, '25m_plus'::text])"
        },
        "subcontractors_avg_project_rating_check": {
          "name": "subcontractors_avg_project_rating_check",
          "value": "(avg_project_rating >= (0)::numeric) AND (avg_project_rating <= (5)::numeric)"
        },
        "subcontractors_company_type_check": {
          "name": "subcontractors_company_type_check",
          "value": "company_type = ANY (ARRAY['corporation'::text, 'llc'::text, 'partnership'::text, 'sole_proprietorship'::text, 'other'::text])"
        },
        "subcontractors_credit_rating_check": {
          "name": "subcontractors_credit_rating_check",
          "value": "credit_rating = ANY (ARRAY['excellent'::text, 'good'::text, 'fair'::text, 'poor'::text, 'unknown'::text])"
        },
        "subcontractors_max_project_size_check": {
          "name": "subcontractors_max_project_size_check",
          "value": "max_project_size = ANY (ARRAY['under_100k'::text, '100k_500k'::text, '500k_1m'::text, '1m_5m'::text, '5m_plus'::text])"
        },
        "subcontractors_on_time_completion_rate_check": {
          "name": "subcontractors_on_time_completion_rate_check",
          "value": "(on_time_completion_rate >= (0)::numeric) AND (on_time_completion_rate <= (100)::numeric)"
        },
        "subcontractors_preferred_payment_terms_check": {
          "name": "subcontractors_preferred_payment_terms_check",
          "value": "preferred_payment_terms = ANY (ARRAY['net_15'::text, 'net_30'::text, 'net_45'::text, 'net_60'::text, 'progress_billing'::text])"
        },
        "subcontractors_status_check": {
          "name": "subcontractors_status_check",
          "value": "status = ANY (ARRAY['active'::text, 'inactive'::text, 'pending_approval'::text, 'blacklisted'::text])"
        },
        "subcontractors_tier_level_check": {
          "name": "subcontractors_tier_level_check",
          "value": "tier_level = ANY (ARRAY['platinum'::text, 'gold'::text, 'silver'::text, 'bronze'::text, 'unrated'::text])"
        }
      },
      "policies": {
        "Authenticated users can view subcontractors": {
          "name": "Authenticated users can view subcontractors",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "Authenticated users can insert subcontractors": {
          "name": "Authenticated users can insert subcontractors",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ]
        },
        "Authenticated users can update subcontractors": {
          "name": "Authenticated users can update subcontractors",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.project_resources": {
      "name": "project_resources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "project_resources_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "project_resources_project_id_fkey": {
          "name": "project_resources_project_id_fkey",
          "tableFrom": "project_resources",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set default",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "public.submittal_documents": {
      "name": "submittal_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "submittal_id": {
          "name": "submittal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "document_name": {
          "name": "document_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "document_type": {
          "name": "document_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size_bytes": {
          "name": "file_size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "page_count": {
          "name": "page_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_text": {
          "name": "extracted_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_analysis": {
          "name": "ai_analysis",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_submittal_documents_submittal_id": {
          "name": "idx_submittal_documents_submittal_id",
          "columns": [
            {
              "expression": "submittal_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_submittal_documents_text_search": {
          "name": "idx_submittal_documents_text_search",
          "columns": [
            {
              "expression": "to_tsvector('english'::regconfig, extracted_text)",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        }
      },
      "foreignKeys": {
        "submittal_documents_submittal_id_fkey": {
          "name": "submittal_documents_submittal_id_fkey",
          "tableFrom": "submittal_documents",
          "tableTo": "submittals",
          "schemaTo": "public",
          "columnsFrom": [
            "submittal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "submittal_documents_uploaded_by_fkey": {
          "name": "submittal_documents_uploaded_by_fkey",
          "tableFrom": "submittal_documents",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.files": {
      "name": "files",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(191)",
          "primaryKey": true,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_files_category": {
          "name": "idx_files_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_files_project_id": {
          "name": "idx_files_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "files_project_id_fkey": {
          "name": "files_project_id_fkey",
          "tableFrom": "files",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Allow authenticated insert": {
          "name": "Allow authenticated insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "true"
        },
        "Allow public read": {
          "name": "Allow public read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Allow authenticated delete": {
          "name": "Allow authenticated delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.requests": {
      "name": "requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "user_query": {
          "name": "user_query",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "requests_user_id_fkey": {
          "name": "requests_user_id_fkey",
          "tableFrom": "requests",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Users can view their own requests": {
          "name": "Users can view their own requests",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(auth.uid() = user_id)"
        },
        "Admins can view all requests": {
          "name": "Admins can view all requests",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Admins can insert requests": {
          "name": "Admins can insert requests",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Deny delete for requests": {
          "name": "Deny delete for requests",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.asrs_logic_cards": {
      "name": "asrs_logic_cards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "asrs_logic_cards_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "doc": {
          "name": "doc",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'FMDS0834'"
        },
        "version": {
          "name": "version",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'2024-07'"
        },
        "clause_id": {
          "name": "clause_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "page": {
          "name": "page",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "purpose": {
          "name": "purpose",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "preconditions": {
          "name": "preconditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "inputs": {
          "name": "inputs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "decision": {
          "name": "decision",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "citations": {
          "name": "citations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "related_table_ids": {
          "name": "related_table_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "related_figure_ids": {
          "name": "related_figure_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "inserted_at": {
          "name": "inserted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "timezone('utc'::text, now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "timezone('utc'::text, now())"
        },
        "section_id": {
          "name": "section_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "asrs_logic_cards_section_id_fkey": {
          "name": "asrs_logic_cards_section_id_fkey",
          "tableFrom": "asrs_logic_cards",
          "tableTo": "asrs_sections",
          "schemaTo": "public",
          "columnsFrom": [
            "section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set default",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.discrepancies": {
      "name": "discrepancies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "submittal_id": {
          "name": "submittal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "specification_id": {
          "name": "specification_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "discrepancy_type": {
          "name": "discrepancy_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "spec_requirement": {
          "name": "spec_requirement",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submittal_content": {
          "name": "submittal_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_resolution": {
          "name": "suggested_resolution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "location_in_doc": {
          "name": "location_in_doc",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'open'"
        },
        "identified_by": {
          "name": "identified_by",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'ai'"
        },
        "ai_model_version": {
          "name": "ai_model_version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_discrepancies_location": {
          "name": "idx_discrepancies_location",
          "columns": [
            {
              "expression": "location_in_doc",
              "asc": true,
              "nulls": "last",
              "opclass": "jsonb_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_discrepancies_search": {
          "name": "idx_discrepancies_search",
          "columns": [
            {
              "expression": "to_tsvector('english'::regconfig, (((title)::text || ' '::text)",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_discrepancies_severity": {
          "name": "idx_discrepancies_severity",
          "columns": [
            {
              "expression": "severity",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_discrepancies_status": {
          "name": "idx_discrepancies_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_discrepancies_submittal_id": {
          "name": "idx_discrepancies_submittal_id",
          "columns": [
            {
              "expression": "submittal_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_discrepancies_type": {
          "name": "idx_discrepancies_type",
          "columns": [
            {
              "expression": "discrepancy_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "discrepancies_document_id_fkey": {
          "name": "discrepancies_document_id_fkey",
          "tableFrom": "discrepancies",
          "tableTo": "submittal_documents",
          "schemaTo": "public",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discrepancies_specification_id_fkey": {
          "name": "discrepancies_specification_id_fkey",
          "tableFrom": "discrepancies",
          "tableTo": "specifications",
          "schemaTo": "public",
          "columnsFrom": [
            "specification_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discrepancies_submittal_id_fkey": {
          "name": "discrepancies_submittal_id_fkey",
          "tableFrom": "discrepancies",
          "tableTo": "submittals",
          "schemaTo": "public",
          "columnsFrom": [
            "submittal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "discrepancies_severity_check": {
          "name": "discrepancies_severity_check",
          "value": "(severity)::text = ANY ((ARRAY['low'::character varying, 'medium'::character varying, 'high'::character varying, 'critical'::character varying])::text[])"
        },
        "discrepancies_status_check": {
          "name": "discrepancies_status_check",
          "value": "(status)::text = ANY ((ARRAY['open'::character varying, 'acknowledged'::character varying, 'resolved'::character varying, 'waived'::character varying, 'disputed'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_profiles": {
      "name": "user_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_admin": {
          "name": "is_admin",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'team'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_profiles_id_fkey": {
          "name": "user_profiles_id_fkey",
          "tableFrom": "user_profiles",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Users can view their own profile": {
          "name": "Users can view their own profile",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(auth.uid() = id)"
        },
        "Users can update their own profile": {
          "name": "Users can update their own profile",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Only admins can change admin status": {
          "name": "Only admins can change admin status",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ]
        },
        "Admins can view all profiles": {
          "name": "Admins can view all profiles",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Admins can update all profiles": {
          "name": "Admins can update all profiles",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Deny delete for user_profiles": {
          "name": "Deny delete for user_profiles",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.tasks": {
      "name": "tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "metadata_id": {
          "name": "metadata_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "segment_id": {
          "name": "segment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "source_chunk_id": {
          "name": "source_chunk_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assignee_name": {
          "name": "assignee_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assignee_email": {
          "name": "assignee_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "source_system": {
          "name": "source_system",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'fireflies'"
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "project_ids": {
          "name": "project_ids",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        }
      },
      "indexes": {
        "tasks_project_ids_gin_idx": {
          "name": "tasks_project_ids_gin_idx",
          "columns": [
            {
              "expression": "project_ids",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        }
      },
      "foreignKeys": {
        "tasks_metadata_id_fkey": {
          "name": "tasks_metadata_id_fkey",
          "tableFrom": "tasks",
          "tableTo": "document_metadata",
          "schemaTo": "public",
          "columnsFrom": [
            "metadata_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "tasks_project_id_fkey": {
          "name": "tasks_project_id_fkey",
          "tableFrom": "tasks",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        },
        "tasks_segment_id_fkey": {
          "name": "tasks_segment_id_fkey",
          "tableFrom": "tasks",
          "tableTo": "meeting_segments",
          "schemaTo": "public",
          "columnsFrom": [
            "segment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "tasks_source_chunk_id_fkey": {
          "name": "tasks_source_chunk_id_fkey",
          "tableFrom": "tasks",
          "tableTo": "documents",
          "schemaTo": "public",
          "columnsFrom": [
            "source_chunk_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tasks_metadata_id_description_key": {
          "columns": [
            "metadata_id",
            "description"
          ],
          "nullsNotDistinct": false,
          "name": "tasks_metadata_id_description_key"
        }
      },
      "checkConstraints": {
        "tasks_priority_check": {
          "name": "tasks_priority_check",
          "value": "priority = ANY (ARRAY['low'::text, 'medium'::text, 'high'::text, 'urgent'::text])"
        },
        "tasks_status_check": {
          "name": "tasks_status_check",
          "value": "status = ANY (ARRAY['open'::text, 'in_progress'::text, 'blocked'::text, 'done'::text, 'cancelled'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "email": {
          "name": "email",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "timezone('utc'::text, now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "timezone('utc'::text, now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_key": {
          "columns": [
            "email"
          ],
          "nullsNotDistinct": false,
          "name": "users_email_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Users can update own profile": {
          "name": "Users can update own profile",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ],
          "using": "(auth.uid() = id)"
        },
        "Users can view own profile": {
          "name": "Users can view own profile",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.reviews": {
      "name": "reviews",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "submittal_id": {
          "name": "submittal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "reviewer_id": {
          "name": "reviewer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "review_type": {
          "name": "review_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "decision": {
          "name": "decision",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "comments": {
          "name": "comments",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "review_criteria_met": {
          "name": "review_criteria_met",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_reviews_due_date": {
          "name": "idx_reviews_due_date",
          "columns": [
            {
              "expression": "due_date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reviews_reviewer_id": {
          "name": "idx_reviews_reviewer_id",
          "columns": [
            {
              "expression": "reviewer_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reviews_status": {
          "name": "idx_reviews_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reviews_submittal_id": {
          "name": "idx_reviews_submittal_id",
          "columns": [
            {
              "expression": "submittal_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "reviews_reviewer_id_fkey": {
          "name": "reviews_reviewer_id_fkey",
          "tableFrom": "reviews",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "reviewer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "reviews_submittal_id_fkey": {
          "name": "reviews_submittal_id_fkey",
          "tableFrom": "reviews",
          "tableTo": "submittals",
          "schemaTo": "public",
          "columnsFrom": [
            "submittal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "reviews_status_check": {
          "name": "reviews_status_check",
          "value": "(status)::text = ANY ((ARRAY['pending'::character varying, 'in_progress'::character varying, 'completed'::character varying, 'skipped'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.review_comments": {
      "name": "review_comments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "review_id": {
          "name": "review_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "discrepancy_id": {
          "name": "discrepancy_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "comment_type": {
          "name": "comment_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'general'"
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_in_doc": {
          "name": "location_in_doc",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'normal'"
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'open'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "review_comments_created_by_fkey": {
          "name": "review_comments_created_by_fkey",
          "tableFrom": "review_comments",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_comments_discrepancy_id_fkey": {
          "name": "review_comments_discrepancy_id_fkey",
          "tableFrom": "review_comments",
          "tableTo": "discrepancies",
          "schemaTo": "public",
          "columnsFrom": [
            "discrepancy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_comments_document_id_fkey": {
          "name": "review_comments_document_id_fkey",
          "tableFrom": "review_comments",
          "tableTo": "submittal_documents",
          "schemaTo": "public",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_comments_review_id_fkey": {
          "name": "review_comments_review_id_fkey",
          "tableFrom": "review_comments",
          "tableTo": "reviews",
          "schemaTo": "public",
          "columnsFrom": [
            "review_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "review_comments_priority_check": {
          "name": "review_comments_priority_check",
          "value": "(priority)::text = ANY ((ARRAY['low'::character varying, 'normal'::character varying, 'high'::character varying])::text[])"
        },
        "review_comments_status_check": {
          "name": "review_comments_status_check",
          "value": "(status)::text = ANY ((ARRAY['open'::character varying, 'addressed'::character varying, 'resolved'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.profiles": {
      "name": "profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "profiles_id_fkey": {
          "name": "profiles_id_fkey",
          "tableFrom": "profiles",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "profiles_username_key": {
          "columns": [
            "username"
          ],
          "nullsNotDistinct": false,
          "name": "profiles_username_key"
        }
      },
      "checkConstraints": {
        "username_length": {
          "name": "username_length",
          "value": "char_length(username) >= 3"
        }
      },
      "policies": {
        "Public profiles are viewable by everyone.": {
          "name": "Public profiles are viewable by everyone.",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        },
        "Users can insert their own profile.": {
          "name": "Users can insert their own profile.",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Users can update own profile.": {
          "name": "Users can update own profile.",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Allow authenticated users select": {
          "name": "Allow authenticated users select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.ai_analysis_jobs": {
      "name": "ai_analysis_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "submittal_id": {
          "name": "submittal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_type": {
          "name": "job_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'queued'"
        },
        "model_version": {
          "name": "model_version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "input_data": {
          "name": "input_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "results": {
          "name": "results",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_metrics": {
          "name": "confidence_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "processing_time_ms": {
          "name": "processing_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_analysis_results": {
          "name": "idx_ai_analysis_results",
          "columns": [
            {
              "expression": "results",
              "asc": true,
              "nulls": "last",
              "opclass": "jsonb_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_analysis_jobs_submittal_id_fkey": {
          "name": "ai_analysis_jobs_submittal_id_fkey",
          "tableFrom": "ai_analysis_jobs",
          "tableTo": "submittals",
          "schemaTo": "public",
          "columnsFrom": [
            "submittal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "ai_analysis_jobs_status_check": {
          "name": "ai_analysis_jobs_status_check",
          "value": "(status)::text = ANY ((ARRAY['queued'::character varying, 'processing'::character varying, 'completed'::character varying, 'failed'::character varying, 'cancelled'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.nods_page_section": {
      "name": "nods_page_section",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "page_id": {
          "name": "page_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_count": {
          "name": "token_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "heading": {
          "name": "heading",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "nods_page_section_page_id_fkey": {
          "name": "nods_page_section_page_id_fkey",
          "tableFrom": "nods_page_section",
          "tableTo": "nods_page",
          "schemaTo": "public",
          "columnsFrom": [
            "page_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Allow authenticated users select": {
          "name": "Allow authenticated users select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.__drizzle_migrations": {
      "name": "__drizzle_migrations",
      "schema": "",
      "columns": {
        "hash": {
          "name": "hash",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.submittal_history": {
      "name": "submittal_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "submittal_id": {
          "name": "submittal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "actor_id": {
          "name": "actor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "actor_type": {
          "name": "actor_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'user'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "previous_status": {
          "name": "previous_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "new_status": {
          "name": "new_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "changes": {
          "name": "changes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_submittal_history_submittal_id": {
          "name": "idx_submittal_history_submittal_id",
          "columns": [
            {
              "expression": "submittal_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "submittal_history_actor_id_fkey": {
          "name": "submittal_history_actor_id_fkey",
          "tableFrom": "submittal_history",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "actor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submittal_history_submittal_id_fkey": {
          "name": "submittal_history_submittal_id_fkey",
          "tableFrom": "submittal_history",
          "tableTo": "submittals",
          "schemaTo": "public",
          "columnsFrom": [
            "submittal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.submittal_notifications": {
      "name": "submittal_notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "submittal_id": {
          "name": "submittal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "notification_type": {
          "name": "notification_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'normal'"
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "delivery_methods": {
          "name": "delivery_methods",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"RAY['in_app'::tex\"}'"
        },
        "scheduled_for": {
          "name": "scheduled_for",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_submittal_notifications_unread": {
          "name": "idx_submittal_notifications_unread",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_read",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_submittal_notifications_user_id": {
          "name": "idx_submittal_notifications_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "submittal_notifications_project_id_fkey": {
          "name": "submittal_notifications_project_id_fkey",
          "tableFrom": "submittal_notifications",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "submittal_notifications_submittal_id_fkey": {
          "name": "submittal_notifications_submittal_id_fkey",
          "tableFrom": "submittal_notifications",
          "tableTo": "submittals",
          "schemaTo": "public",
          "columnsFrom": [
            "submittal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "submittal_notifications_user_id_fkey": {
          "name": "submittal_notifications_user_id_fkey",
          "tableFrom": "submittal_notifications",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "submittal_notifications_priority_check": {
          "name": "submittal_notifications_priority_check",
          "value": "(priority)::text = ANY ((ARRAY['low'::character varying, 'normal'::character varying, 'high'::character varying, 'urgent'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.chat_messages": {
      "name": "chat_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "chat_messages_session_id_idx": {
          "name": "chat_messages_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chat_messages_session_id_fkey": {
          "name": "chat_messages_session_id_fkey",
          "tableFrom": "chat_messages",
          "tableTo": "chat_sessions",
          "schemaTo": "public",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "chat_messages_role_check": {
          "name": "chat_messages_role_check",
          "value": "role = ANY (ARRAY['user'::text, 'assistant'::text, 'system'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.ai_models": {
      "name": "ai_models",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "model_type": {
          "name": "model_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "performance_metrics": {
          "name": "performance_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "deployment_date": {
          "name": "deployment_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ai_models_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "ai_models_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.vendors": {
      "name": "vendors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contact_name": {
          "name": "contact_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_email": {
          "name": "contact_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_phone": {
          "name": "contact_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "zip_code": {
          "name": "zip_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'US'"
        },
        "tax_id": {
          "name": "tax_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_vendors_company": {
          "name": "idx_vendors_company",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_vendors_created_at": {
          "name": "idx_vendors_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_vendors_is_active": {
          "name": "idx_vendors_is_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_vendors_name": {
          "name": "idx_vendors_name",
          "columns": [
            {
              "expression": "name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "vendors_company_id_fkey": {
          "name": "vendors_company_id_fkey",
          "tableFrom": "vendors",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "vendors_company_id_name_key": {
          "columns": [
            "company_id",
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "vendors_company_id_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Users can view vendors in their company": {
          "name": "Users can view vendors in their company",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM companies\n  WHERE ((companies.id = vendors.company_id) AND (EXISTS ( SELECT 1\n           FROM project_members\n          WHERE (project_members.user_id = auth.uid()))))))"
        },
        "Editors can create vendors": {
          "name": "Editors can create vendors",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Editors can update vendors": {
          "name": "Editors can update vendors",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Admins can delete vendors": {
          "name": "Admins can delete vendors",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.contract_views": {
      "name": "contract_views",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "view_name": {
          "name": "view_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "filters": {
          "name": "filters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "columns": {
          "name": "columns",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_shared": {
          "name": "is_shared",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_contract_views_company": {
          "name": "idx_contract_views_company",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contract_views_is_default": {
          "name": "idx_contract_views_is_default",
          "columns": [
            {
              "expression": "is_default",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contract_views_is_shared": {
          "name": "idx_contract_views_is_shared",
          "columns": [
            {
              "expression": "is_shared",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contract_views_user": {
          "name": "idx_contract_views_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "contract_views_company_id_fkey": {
          "name": "contract_views_company_id_fkey",
          "tableFrom": "contract_views",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contract_views_user_id_fkey": {
          "name": "contract_views_user_id_fkey",
          "tableFrom": "contract_views",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "contract_views_user_id_view_name_key": {
          "columns": [
            "user_id",
            "view_name"
          ],
          "nullsNotDistinct": false,
          "name": "contract_views_user_id_view_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Users can view their own views": {
          "name": "Users can view their own views",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(user_id = auth.uid())"
        },
        "Users can view shared views in their company": {
          "name": "Users can view shared views in their company",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Users can create their own views": {
          "name": "Users can create their own views",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Users can update their own views": {
          "name": "Users can update their own views",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Users can delete their own views": {
          "name": "Users can delete their own views",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.contract_snapshots": {
      "name": "contract_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "contract_id": {
          "name": "contract_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "snapshot_date": {
          "name": "snapshot_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "snapshot_data": {
          "name": "snapshot_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_contract_snapshots_contract": {
          "name": "idx_contract_snapshots_contract",
          "columns": [
            {
              "expression": "contract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contract_snapshots_created_by": {
          "name": "idx_contract_snapshots_created_by",
          "columns": [
            {
              "expression": "created_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contract_snapshots_date": {
          "name": "idx_contract_snapshots_date",
          "columns": [
            {
              "expression": "snapshot_date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "contract_snapshots_contract_id_fkey": {
          "name": "contract_snapshots_contract_id_fkey",
          "tableFrom": "contract_snapshots",
          "tableTo": "prime_contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contract_snapshots_created_by_fkey": {
          "name": "contract_snapshots_created_by_fkey",
          "tableFrom": "contract_snapshots",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Users can view snapshots in their projects": {
          "name": "Users can view snapshots in their projects",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (prime_contracts\n     JOIN project_members ON ((project_members.project_id = prime_contracts.project_id)))\n  WHERE ((prime_contracts.id = contract_snapshots.contract_id) AND (project_members.user_id = auth.uid()))))"
        },
        "Editors can create snapshots": {
          "name": "Editors can create snapshots",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Admins can delete snapshots": {
          "name": "Admins can delete snapshots",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.contract_documents": {
      "name": "contract_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "contract_id": {
          "name": "contract_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "document_name": {
          "name": "document_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "document_type": {
          "name": "document_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_current_version": {
          "name": "is_current_version",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_contract_documents_contract": {
          "name": "idx_contract_documents_contract",
          "columns": [
            {
              "expression": "contract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contract_documents_is_current": {
          "name": "idx_contract_documents_is_current",
          "columns": [
            {
              "expression": "is_current_version",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contract_documents_type": {
          "name": "idx_contract_documents_type",
          "columns": [
            {
              "expression": "document_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contract_documents_uploaded_at": {
          "name": "idx_contract_documents_uploaded_at",
          "columns": [
            {
              "expression": "uploaded_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contract_documents_uploaded_by": {
          "name": "idx_contract_documents_uploaded_by",
          "columns": [
            {
              "expression": "uploaded_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "contract_documents_contract_id_fkey": {
          "name": "contract_documents_contract_id_fkey",
          "tableFrom": "contract_documents",
          "tableTo": "prime_contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contract_documents_uploaded_by_fkey": {
          "name": "contract_documents_uploaded_by_fkey",
          "tableFrom": "contract_documents",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "contract_documents_document_type_check": {
          "name": "contract_documents_document_type_check",
          "value": "document_type = ANY (ARRAY['contract'::text, 'amendment'::text, 'insurance'::text, 'bond'::text, 'lien_waiver'::text, 'change_order'::text, 'invoice'::text, 'other'::text])"
        }
      },
      "policies": {
        "Users can view documents in their projects": {
          "name": "Users can view documents in their projects",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (prime_contracts\n     JOIN project_members ON ((project_members.project_id = prime_contracts.project_id)))\n  WHERE ((prime_contracts.id = contract_documents.contract_id) AND (project_members.user_id = auth.uid()))))"
        },
        "Editors can upload documents": {
          "name": "Editors can upload documents",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Editors can update documents": {
          "name": "Editors can update documents",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Admins can delete documents": {
          "name": "Admins can delete documents",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.submittal_analytics_events": {
      "name": "submittal_analytics_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "submittal_id": {
          "name": "submittal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "event_data": {
          "name": "event_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "submittal_analytics_events_project_id_fkey": {
          "name": "submittal_analytics_events_project_id_fkey",
          "tableFrom": "submittal_analytics_events",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submittal_analytics_events_submittal_id_fkey": {
          "name": "submittal_analytics_events_submittal_id_fkey",
          "tableFrom": "submittal_analytics_events",
          "tableTo": "submittals",
          "schemaTo": "public",
          "columnsFrom": [
            "submittal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submittal_analytics_events_user_id_fkey": {
          "name": "submittal_analytics_events_user_id_fkey",
          "tableFrom": "submittal_analytics_events",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.documents": {
      "name": "documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "file_id": {
          "name": "file_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fireflies_id": {
          "name": "fireflies_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "processing_status": {
          "name": "processing_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "project": {
          "name": "project",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_date": {
          "name": "file_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "storage_object_id": {
          "name": "storage_object_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "project_ids": {
          "name": "project_ids",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        }
      },
      "indexes": {
        "documents_project_ids_gin_idx": {
          "name": "documents_project_ids_gin_idx",
          "columns": [
            {
              "expression": "project_ids",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_documents_created_at": {
          "name": "idx_documents_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_documents_metadata": {
          "name": "idx_documents_metadata",
          "columns": [
            {
              "expression": "metadata",
              "asc": true,
              "nulls": "last",
              "opclass": "jsonb_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_documents_project_id": {
          "name": "idx_documents_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_documents_storage_object_id": {
          "name": "idx_documents_storage_object_id",
          "columns": [
            {
              "expression": "storage_object_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "documents_file_id_fkey": {
          "name": "documents_file_id_fkey",
          "tableFrom": "documents",
          "tableTo": "document_metadata",
          "schemaTo": "public",
          "columnsFrom": [
            "file_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "documents_project_id_fkey": {
          "name": "documents_project_id_fkey",
          "tableFrom": "documents",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set default",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        },
        "Service role has full access": {
          "name": "Service role has full access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ]
        },
        "Enable insert for authenticated users": {
          "name": "Enable insert for authenticated users",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ]
        },
        "Enable update for authenticated users": {
          "name": "Enable update for authenticated users",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ]
        },
        "Enable delete for authenticated users": {
          "name": "Enable delete for authenticated users",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.submittal_performance_metrics": {
      "name": "submittal_performance_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metric_type": {
          "name": "metric_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "metric_name": {
          "name": "metric_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "unit": {
          "name": "unit",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "period_start": {
          "name": "period_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "period_end": {
          "name": "period_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "submittal_performance_metrics_project_id_fkey": {
          "name": "submittal_performance_metrics_project_id_fkey",
          "tableFrom": "submittal_performance_metrics",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fm_global_figures": {
      "name": "fm_global_figures",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "figure_number": {
          "name": "figure_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "clean_caption": {
          "name": "clean_caption",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "normalized_summary": {
          "name": "normalized_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "figure_type": {
          "name": "figure_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "asrs_type": {
          "name": "asrs_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "container_type": {
          "name": "container_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_depth_ft": {
          "name": "max_depth_ft",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "max_depth_m": {
          "name": "max_depth_m",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "max_spacing_ft": {
          "name": "max_spacing_ft",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "max_spacing_m": {
          "name": "max_spacing_m",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "ceiling_height_ft": {
          "name": "ceiling_height_ft",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "aisle_width_ft": {
          "name": "aisle_width_ft",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "related_tables": {
          "name": "related_tables",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        },
        "applicable_commodities": {
          "name": "applicable_commodities",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "system_requirements": {
          "name": "system_requirements",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "special_conditions": {
          "name": "special_conditions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "machine_readable_claims": {
          "name": "machine_readable_claims",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "callouts_labels": {
          "name": "callouts_labels",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "axis_titles": {
          "name": "axis_titles",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "axis_units": {
          "name": "axis_units",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "embedded_tables": {
          "name": "embedded_tables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "footnotes": {
          "name": "footnotes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "page_number": {
          "name": "page_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "section_reference": {
          "name": "section_reference",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "search_keywords": {
          "name": "search_keywords",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "section_references": {
          "name": "section_references",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fm_global_figures_claims_gin": {
          "name": "fm_global_figures_claims_gin",
          "columns": [
            {
              "expression": "machine_readable_claims",
              "asc": true,
              "nulls": "last",
              "opclass": "jsonb_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "fm_global_figures_num_idx": {
          "name": "fm_global_figures_num_idx",
          "columns": [
            {
              "expression": "figure_number",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_figures_asrs_type": {
          "name": "idx_figures_asrs_type",
          "columns": [
            {
              "expression": "asrs_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_figures_container_type": {
          "name": "idx_figures_container_type",
          "columns": [
            {
              "expression": "container_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_figures_embedding": {
          "name": "idx_figures_embedding",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "hnsw",
          "with": {}
        },
        "idx_figures_keywords": {
          "name": "idx_figures_keywords",
          "columns": [
            {
              "expression": "search_keywords",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_figures_number": {
          "name": "idx_figures_number",
          "columns": [
            {
              "expression": "figure_number",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_figures_tables": {
          "name": "idx_figures_tables",
          "columns": [
            {
              "expression": "related_tables",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_figures_type": {
          "name": "idx_figures_type",
          "columns": [
            {
              "expression": "figure_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fm_global_figures_number": {
          "name": "idx_fm_global_figures_number",
          "columns": [
            {
              "expression": "figure_number",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fm_global_figures_figure_number_key": {
          "columns": [
            "figure_number"
          ],
          "nullsNotDistinct": false,
          "name": "fm_global_figures_figure_number_key"
        }
      },
      "checkConstraints": {
        "fm_global_figures_asrs_type_check": {
          "name": "fm_global_figures_asrs_type_check",
          "value": "asrs_type = ANY (ARRAY['All'::text, 'Shuttle'::text, 'Mini-Load'::text, 'Top-Loading'::text, 'Vertically-Enclosed'::text])"
        },
        "fm_global_figures_container_type_check": {
          "name": "fm_global_figures_container_type_check",
          "value": "container_type = ANY (ARRAY['Closed-Top'::text, 'Open-Top'::text, 'Noncombustible'::text, 'Plastic'::text, 'Mixed'::text])"
        },
        "fm_global_figures_figure_type_check": {
          "name": "fm_global_figures_figure_type_check",
          "value": "figure_type = ANY (ARRAY['Navigation/Decision Tree'::text, 'System Diagram'::text, 'Sprinkler Layout'::text, 'Protection Scheme'::text, 'Configuration'::text, 'Installation Detail'::text, 'Special Arrangement'::text])"
        }
      },
      "policies": {
        "Figures are viewable by authenticated users": {
          "name": "Figures are viewable by authenticated users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(auth.role() = 'authenticated'::text)"
        },
        "Figures are viewable by anonymous users": {
          "name": "Figures are viewable by anonymous users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.project_briefings": {
      "name": "project_briefings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "briefing_content": {
          "name": "briefing_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "briefing_type": {
          "name": "briefing_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'executive_summary'"
        },
        "source_documents": {
          "name": "source_documents",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "generated_by": {
          "name": "generated_by",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "token_count": {
          "name": "token_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        }
      },
      "indexes": {
        "idx_briefings_date": {
          "name": "idx_briefings_date",
          "columns": [
            {
              "expression": "generated_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_briefings_project": {
          "name": "idx_briefings_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_briefings_project_id_fkey": {
          "name": "project_briefings_project_id_fkey",
          "tableFrom": "project_briefings",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_latest_briefing": {
          "columns": [
            "project_id",
            "version"
          ],
          "nullsNotDistinct": false,
          "name": "unique_latest_briefing"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.budget_modification_lines": {
      "name": "budget_modification_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "budget_modification_id": {
          "name": "budget_modification_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "budget_line_id": {
          "name": "budget_line_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_budget_modification_lines_budget_line": {
          "name": "idx_budget_modification_lines_budget_line",
          "columns": [
            {
              "expression": "budget_line_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_budget_modification_lines_modification": {
          "name": "idx_budget_modification_lines_modification",
          "columns": [
            {
              "expression": "budget_modification_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "budget_modification_lines_budget_line_id_fkey": {
          "name": "budget_modification_lines_budget_line_id_fkey",
          "tableFrom": "budget_modification_lines",
          "tableTo": "budget_lines",
          "schemaTo": "public",
          "columnsFrom": [
            "budget_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "budget_modification_lines_budget_modification_id_fkey": {
          "name": "budget_modification_lines_budget_modification_id_fkey",
          "tableFrom": "budget_modification_lines",
          "tableTo": "budget_modifications",
          "schemaTo": "public",
          "columnsFrom": [
            "budget_modification_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Users can view budget modification lines": {
          "name": "Users can view budget modification lines",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(auth.uid() IS NOT NULL)"
        }
      },
      "isRLSEnabled": true
    },
    "public.commitment_lines": {
      "name": "commitment_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "commitment_id": {
          "name": "commitment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "budget_line_id": {
          "name": "budget_line_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cost_code_id": {
          "name": "cost_code_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cost_type_id": {
          "name": "cost_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "unit_of_measure": {
          "name": "unit_of_measure",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "unit_cost": {
          "name": "unit_cost",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_commitment_lines_budget_line": {
          "name": "idx_commitment_lines_budget_line",
          "columns": [
            {
              "expression": "budget_line_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_commitment_lines_commitment": {
          "name": "idx_commitment_lines_commitment",
          "columns": [
            {
              "expression": "commitment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_commitment_lines_cost_code": {
          "name": "idx_commitment_lines_cost_code",
          "columns": [
            {
              "expression": "cost_code_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "commitment_lines_budget_line_id_fkey": {
          "name": "commitment_lines_budget_line_id_fkey",
          "tableFrom": "commitment_lines",
          "tableTo": "budget_lines",
          "schemaTo": "public",
          "columnsFrom": [
            "budget_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "commitment_lines_commitment_id_fkey": {
          "name": "commitment_lines_commitment_id_fkey",
          "tableFrom": "commitment_lines",
          "tableTo": "commitments",
          "schemaTo": "public",
          "columnsFrom": [
            "commitment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "commitment_lines_cost_code_id_fkey": {
          "name": "commitment_lines_cost_code_id_fkey",
          "tableFrom": "commitment_lines",
          "tableTo": "cost_codes",
          "schemaTo": "public",
          "columnsFrom": [
            "cost_code_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_lines_cost_type_id_fkey": {
          "name": "commitment_lines_cost_type_id_fkey",
          "tableFrom": "commitment_lines",
          "tableTo": "cost_code_types",
          "schemaTo": "public",
          "columnsFrom": [
            "cost_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Users can view commitment lines": {
          "name": "Users can view commitment lines",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(auth.uid() IS NOT NULL)"
        }
      },
      "isRLSEnabled": true
    },
    "public.briefing_runs": {
      "name": "briefing_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "briefing_id": {
          "name": "briefing_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "finished_at": {
          "name": "finished_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_usage": {
          "name": "token_usage",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "input_doc_ids": {
          "name": "input_doc_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "briefing_runs_briefing_id_fkey": {
          "name": "briefing_runs_briefing_id_fkey",
          "tableFrom": "briefing_runs",
          "tableTo": "project_briefings",
          "schemaTo": "public",
          "columnsFrom": [
            "briefing_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.clients": {
      "name": "clients",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "clients_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "clients_company_id_fkey": {
          "name": "clients_company_id_fkey",
          "tableFrom": "clients",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Allow authenticated users select": {
          "name": "Allow authenticated users select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": false
    },
    "public.subcontractor_contacts": {
      "name": "subcontractor_contacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "subcontractor_id": {
          "name": "subcontractor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mobile_phone": {
          "name": "mobile_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_type": {
          "name": "contact_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_subcontractor_contacts_subcontractor_id": {
          "name": "idx_subcontractor_contacts_subcontractor_id",
          "columns": [
            {
              "expression": "subcontractor_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "subcontractor_contacts_subcontractor_id_fkey": {
          "name": "subcontractor_contacts_subcontractor_id_fkey",
          "tableFrom": "subcontractor_contacts",
          "tableTo": "subcontractors",
          "schemaTo": "public",
          "columnsFrom": [
            "subcontractor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "subcontractor_contacts_contact_type_check": {
          "name": "subcontractor_contacts_contact_type_check",
          "value": "contact_type = ANY (ARRAY['primary'::text, 'secondary'::text, 'project_manager'::text, 'estimator'::text, 'safety'::text, 'billing'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.subcontractor_documents": {
      "name": "subcontractor_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "subcontractor_id": {
          "name": "subcontractor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_type": {
          "name": "document_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "document_name": {
          "name": "document_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expiration_date": {
          "name": "expiration_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_subcontractor_documents_expiration": {
          "name": "idx_subcontractor_documents_expiration",
          "columns": [
            {
              "expression": "expiration_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_subcontractor_documents_subcontractor_id": {
          "name": "idx_subcontractor_documents_subcontractor_id",
          "columns": [
            {
              "expression": "subcontractor_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_subcontractor_documents_type": {
          "name": "idx_subcontractor_documents_type",
          "columns": [
            {
              "expression": "document_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "subcontractor_documents_subcontractor_id_fkey": {
          "name": "subcontractor_documents_subcontractor_id_fkey",
          "tableFrom": "subcontractor_documents",
          "tableTo": "subcontractors",
          "schemaTo": "public",
          "columnsFrom": [
            "subcontractor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "subcontractor_documents_document_type_check": {
          "name": "subcontractor_documents_document_type_check",
          "value": "document_type = ANY (ARRAY['insurance_certificate'::text, 'license'::text, 'w9'::text, 'master_agreement'::text, 'safety_manual'::text, 'quality_certificate'::text, 'reference_letter'::text, 'other'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.Prospects": {
      "name": "Prospects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "\"Prospects_id_seq\"",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact": {
          "name": "contact",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "Prospects_contact_fkey": {
          "name": "Prospects_contact_fkey",
          "tableFrom": "Prospects",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set default",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "public.projects": {
      "name": "projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "projects_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "job number": {
          "name": "job number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start date": {
          "name": "start date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "est completion": {
          "name": "est completion",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "est revenue": {
          "name": "est revenue",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "est profit": {
          "name": "est profit",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "onedrive": {
          "name": "onedrive",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phase": {
          "name": "phase",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aliases": {
          "name": "aliases",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "team_members": {
          "name": "team_members",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "current_phase": {
          "name": "current_phase",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "completion_percentage": {
          "name": "completion_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "budget": {
          "name": "budget",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "budget_used": {
          "name": "budget_used",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "client": {
          "name": "client",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary_metadata": {
          "name": "summary_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "summary_updated_at": {
          "name": "summary_updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "health_score": {
          "name": "health_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "health_status": {
          "name": "health_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access": {
          "name": "access",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "archived": {
          "name": "archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "archived_by": {
          "name": "archived_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "erp_system": {
          "name": "erp_system",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "erp_last_job_cost_sync": {
          "name": "erp_last_job_cost_sync",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "erp_last_direct_cost_sync": {
          "name": "erp_last_direct_cost_sync",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "erp_sync_status": {
          "name": "erp_sync_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_manager": {
          "name": "project_manager",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "project_number": {
          "name": "project_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "stakeholders": {
          "name": "stakeholders",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "budget_locked": {
          "name": "budget_locked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "budget_locked_at": {
          "name": "budget_locked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "budget_locked_by": {
          "name": "budget_locked_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "work_scope": {
          "name": "work_scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_sector": {
          "name": "project_sector",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "delivery_method": {
          "name": "delivery_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name_code": {
          "name": "name_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_projects_archived": {
          "name": "idx_projects_archived",
          "columns": [
            {
              "expression": "archived",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_delivery_method": {
          "name": "idx_projects_delivery_method",
          "columns": [
            {
              "expression": "delivery_method",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_health_score": {
          "name": "idx_projects_health_score",
          "columns": [
            {
              "expression": "health_score",
              "asc": false,
              "nulls": "first",
              "opclass": "numeric_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_phase": {
          "name": "idx_projects_phase",
          "columns": [
            {
              "expression": "phase",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_project_manager": {
          "name": "idx_projects_project_manager",
          "columns": [
            {
              "expression": "project_manager",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_project_number": {
          "name": "idx_projects_project_number",
          "columns": [
            {
              "expression": "project_number",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(project_number IS NOT NULL)",
          "with": {}
        },
        "idx_projects_project_sector": {
          "name": "idx_projects_project_sector",
          "columns": [
            {
              "expression": "project_sector",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_state": {
          "name": "idx_projects_state",
          "columns": [
            {
              "expression": "state",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_summary_updated": {
          "name": "idx_projects_summary_updated",
          "columns": [
            {
              "expression": "summary_updated_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_work_scope": {
          "name": "idx_projects_work_scope",
          "columns": [
            {
              "expression": "work_scope",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "projects_budget_locked_by_fkey": {
          "name": "projects_budget_locked_by_fkey",
          "tableFrom": "projects",
          "tableTo": "app_users",
          "schemaTo": "public",
          "columnsFrom": [
            "budget_locked_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projects_client_id_fkey": {
          "name": "projects_client_id_fkey",
          "tableFrom": "projects",
          "tableTo": "clients",
          "schemaTo": "public",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "projects_project_manager_fkey": {
          "name": "projects_project_manager_fkey",
          "tableFrom": "projects",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "project_manager"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "projects_delivery_method_check": {
          "name": "projects_delivery_method_check",
          "value": "(delivery_method IS NULL) OR (delivery_method = ANY (ARRAY['Design-Bid-Build'::text, 'Design-Build'::text, 'Construction Management at Risk'::text, 'Integrated Project Delivery'::text]))"
        },
        "projects_health_status_check": {
          "name": "projects_health_status_check",
          "value": "health_status = ANY (ARRAY['Healthy'::text, 'At Risk'::text, 'Needs Attention'::text, 'Critical'::text])"
        },
        "projects_project_sector_check": {
          "name": "projects_project_sector_check",
          "value": "(project_sector IS NULL) OR (project_sector = ANY (ARRAY['Commercial'::text, 'Industrial'::text, 'Infrastructure'::text, 'Healthcare'::text, 'Institutional'::text, 'Residential'::text]))"
        },
        "projects_work_scope_check": {
          "name": "projects_work_scope_check",
          "value": "(work_scope IS NULL) OR (work_scope = ANY (ARRAY['Ground-Up Construction'::text, 'Renovation'::text, 'Tenant Improvement'::text, 'Interior Build-Out'::text, 'Maintenance'::text]))"
        }
      },
      "policies": {
        "Allow authenticated users select": {
          "name": "Allow authenticated users select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "projects_select_for_members": {
          "name": "projects_select_for_members",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ]
        },
        "projects_insert_authenticated": {
          "name": "projects_insert_authenticated",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ]
        },
        "projects_select_member_unarchived": {
          "name": "projects_select_member_unarchived",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ]
        },
        "projects_update_unarchive_admin": {
          "name": "projects_update_unarchive_admin",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ]
        },
        "projects_update_for_members": {
          "name": "projects_update_for_members",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.fm_sprinkler_configs": {
      "name": "fm_sprinkler_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "table_id": {
          "name": "table_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ceiling_height_ft": {
          "name": "ceiling_height_ft",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "storage_height_ft": {
          "name": "storage_height_ft",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "aisle_width_ft": {
          "name": "aisle_width_ft",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "sprinkler_count": {
          "name": "sprinkler_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "k_factor": {
          "name": "k_factor",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "k_factor_type": {
          "name": "k_factor_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pressure_psi": {
          "name": "pressure_psi",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "pressure_bar": {
          "name": "pressure_bar",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "orientation": {
          "name": "orientation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "response_type": {
          "name": "response_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "temperature_rating": {
          "name": "temperature_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "design_area_sqft": {
          "name": "design_area_sqft",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "spacing_ft": {
          "name": "spacing_ft",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "coverage_type": {
          "name": "coverage_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "special_conditions": {
          "name": "special_conditions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_sprinkler_configs_height": {
          "name": "idx_sprinkler_configs_height",
          "columns": [
            {
              "expression": "ceiling_height_ft",
              "asc": true,
              "nulls": "last",
              "opclass": "numeric_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sprinkler_configs_kfactor": {
          "name": "idx_sprinkler_configs_kfactor",
          "columns": [
            {
              "expression": "k_factor",
              "asc": true,
              "nulls": "last",
              "opclass": "numeric_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sprinkler_configs_lookup": {
          "name": "idx_sprinkler_configs_lookup",
          "columns": [
            {
              "expression": "table_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "ceiling_height_ft",
              "asc": true,
              "nulls": "last",
              "opclass": "numeric_ops",
              "isExpression": false
            },
            {
              "expression": "k_factor",
              "asc": true,
              "nulls": "last",
              "opclass": "numeric_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sprinkler_configs_table": {
          "name": "idx_sprinkler_configs_table",
          "columns": [
            {
              "expression": "table_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "fm_sprinkler_configs_table_id_fkey": {
          "name": "fm_sprinkler_configs_table_id_fkey",
          "tableFrom": "fm_sprinkler_configs",
          "tableTo": "fm_global_tables",
          "schemaTo": "public",
          "columnsFrom": [
            "table_id"
          ],
          "columnsTo": [
            "table_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fm_cost_factors": {
      "name": "fm_cost_factors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "component_type": {
          "name": "component_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "factor_name": {
          "name": "factor_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "base_cost_per_unit": {
          "name": "base_cost_per_unit",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "unit_type": {
          "name": "unit_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "complexity_multiplier": {
          "name": "complexity_multiplier",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "region_adjustments": {
          "name": "region_adjustments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fm_optimization_rules": {
      "name": "fm_optimization_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "rule_name": {
          "name": "rule_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_conditions": {
          "name": "trigger_conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_changes": {
          "name": "suggested_changes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_savings_min": {
          "name": "estimated_savings_min",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_savings_max": {
          "name": "estimated_savings_max",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "implementation_difficulty": {
          "name": "implementation_difficulty",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "priority_level": {
          "name": "priority_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.parts": {
      "name": "parts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "messageId": {
          "name": "messageId",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "text_text": {
          "name": "text_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reasoning_text": {
          "name": "reasoning_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_mediaType": {
          "name": "file_mediaType",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "file_filename": {
          "name": "file_filename",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "file_url": {
          "name": "file_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_url_sourceId": {
          "name": "source_url_sourceId",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_url_url": {
          "name": "source_url_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_url_title": {
          "name": "source_url_title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_document_sourceId": {
          "name": "source_document_sourceId",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_document_mediaType": {
          "name": "source_document_mediaType",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_document_title": {
          "name": "source_document_title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_document_filename": {
          "name": "source_document_filename",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "tool_toolCallId": {
          "name": "tool_toolCallId",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "tool_state": {
          "name": "tool_state",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "tool_errorText": {
          "name": "tool_errorText",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "tool_getWeatherInformation_input": {
          "name": "tool_getWeatherInformation_input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tool_getWeatherInformation_output": {
          "name": "tool_getWeatherInformation_output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tool_getLocation_input": {
          "name": "tool_getLocation_input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tool_getLocation_output": {
          "name": "tool_getLocation_output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "data_weather_id": {
          "name": "data_weather_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "data_weather_location": {
          "name": "data_weather_location",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "data_weather_weather": {
          "name": "data_weather_weather",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "data_weather_temperature": {
          "name": "data_weather_temperature",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "providerMetadata": {
          "name": "providerMetadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "parts_message_id_idx": {
          "name": "parts_message_id_idx",
          "columns": [
            {
              "expression": "messageId",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "parts_message_id_order_idx": {
          "name": "parts_message_id_order_idx",
          "columns": [
            {
              "expression": "messageId",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "order",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "data_weather_fields_required": {
          "name": "data_weather_fields_required",
          "value": "CHECK (\nCASE\n    WHEN ((type)::text = 'data-weather'::text) THEN ((data_weather_location IS NOT NULL) AND (data_weather_weather IS NOT NULL) AND (data_weather_temperature IS NOT NULL))\n    ELSE true\nEND)"
        },
        "file_fields_required_if_type_is_file": {
          "name": "file_fields_required_if_type_is_file",
          "value": "CHECK (\nCASE\n    WHEN ((type)::text = 'file'::text) THEN ((\"file_mediaType\" IS NOT NULL) AND (file_url IS NOT NULL))\n    ELSE true\nEND)"
        },
        "reasoning_text_required_if_type_is_reasoning": {
          "name": "reasoning_text_required_if_type_is_reasoning",
          "value": "CHECK (\nCASE\n    WHEN ((type)::text = 'reasoning'::text) THEN (reasoning_text IS NOT NULL)\n    ELSE true\nEND)"
        },
        "source_document_fields_required_if_type_is_source_document": {
          "name": "source_document_fields_required_if_type_is_source_document",
          "value": "CHECK (\nCASE\n    WHEN ((type)::text = 'source_document'::text) THEN ((\"source_document_sourceId\" IS NOT NULL) AND (\"source_document_mediaType\" IS NOT NULL) AND (source_document_title IS NOT NULL))\n    ELSE true\nEND)"
        },
        "source_url_fields_required_if_type_is_source_url": {
          "name": "source_url_fields_required_if_type_is_source_url",
          "value": "CHECK (\nCASE\n    WHEN ((type)::text = 'source_url'::text) THEN ((\"source_url_sourceId\" IS NOT NULL) AND (source_url_url IS NOT NULL))\n    ELSE true\nEND)"
        },
        "text_text_required_if_type_is_text": {
          "name": "text_text_required_if_type_is_text",
          "value": "CHECK (\nCASE\n    WHEN ((type)::text = 'text'::text) THEN (text_text IS NOT NULL)\n    ELSE true\nEND)"
        },
        "tool_getLocation_fields_required": {
          "name": "tool_getLocation_fields_required",
          "value": "CHECK (\nCASE\n    WHEN ((type)::text = 'tool-getLocation'::text) THEN ((\"tool_toolCallId\" IS NOT NULL) AND (tool_state IS NOT NULL))\n    ELSE true\nEND)"
        },
        "tool_getWeatherInformation_fields_required": {
          "name": "tool_getWeatherInformation_fields_required",
          "value": "CHECK (\nCASE\n    WHEN ((type)::text = 'tool-getWeatherInformation'::text) THEN ((\"tool_toolCallId\" IS NOT NULL) AND (tool_state IS NOT NULL))\n    ELSE true\nEND)"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.asrs_decision_matrix": {
      "name": "asrs_decision_matrix",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "asrs_type": {
          "name": "asrs_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "container_type": {
          "name": "container_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "max_depth_ft": {
          "name": "max_depth_ft",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "max_spacing_ft": {
          "name": "max_spacing_ft",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "figure_number": {
          "name": "figure_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sprinkler_count": {
          "name": "sprinkler_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sprinkler_numbering": {
          "name": "sprinkler_numbering",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "page_number": {
          "name": "page_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requires_flue_spaces": {
          "name": "requires_flue_spaces",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "requires_vertical_barriers": {
          "name": "requires_vertical_barriers",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_asrs_lookup": {
          "name": "idx_asrs_lookup",
          "columns": [
            {
              "expression": "asrs_type",
              "asc": true,
              "nulls": "last",
              "opclass": "float8_ops",
              "isExpression": false
            },
            {
              "expression": "container_type",
              "asc": true,
              "nulls": "last",
              "opclass": "float8_ops",
              "isExpression": false
            },
            {
              "expression": "max_depth_ft",
              "asc": true,
              "nulls": "last",
              "opclass": "float8_ops",
              "isExpression": false
            },
            {
              "expression": "max_spacing_ft",
              "asc": true,
              "nulls": "last",
              "opclass": "float8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "asrs_decision_matrix_asrs_type_container_type_max_depth_ft__key": {
          "columns": [
            "asrs_type",
            "container_type",
            "max_depth_ft",
            "max_spacing_ft"
          ],
          "nullsNotDistinct": false,
          "name": "asrs_decision_matrix_asrs_type_container_type_max_depth_ft__key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.asrs_blocks": {
      "name": "asrs_blocks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "section_id": {
          "name": "section_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "ordinal": {
          "name": "ordinal",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "block_type": {
          "name": "block_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_text": {
          "name": "source_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "html": {
          "name": "html",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "asrs_blocks_meta_gin": {
          "name": "asrs_blocks_meta_gin",
          "columns": [
            {
              "expression": "meta",
              "asc": true,
              "nulls": "last",
              "opclass": "jsonb_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "asrs_blocks_section_idx": {
          "name": "asrs_blocks_section_idx",
          "columns": [
            {
              "expression": "section_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "block_embeddings_source_text_fts": {
          "name": "block_embeddings_source_text_fts",
          "columns": [
            {
              "expression": "to_tsvector('english'::regconfig, source_text)",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_asrs_blocks_section": {
          "name": "idx_asrs_blocks_section",
          "columns": [
            {
              "expression": "section_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "ordinal",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "asrs_blocks_section_id_fkey": {
          "name": "asrs_blocks_section_id_fkey",
          "tableFrom": "asrs_blocks",
          "tableTo": "asrs_sections",
          "schemaTo": "public",
          "columnsFrom": [
            "section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "asrs_blocks_block_type_check": {
          "name": "asrs_blocks_block_type_check",
          "value": "block_type = ANY (ARRAY['paragraph'::text, 'note'::text, 'table'::text, 'figure'::text, 'equation'::text, 'heading'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.commitment_change_order_lines": {
      "name": "commitment_change_order_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "commitment_change_order_id": {
          "name": "commitment_change_order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "budget_line_id": {
          "name": "budget_line_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cost_code_id": {
          "name": "cost_code_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cost_type_id": {
          "name": "cost_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_commitment_co_lines_budget_line": {
          "name": "idx_commitment_co_lines_budget_line",
          "columns": [
            {
              "expression": "budget_line_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_commitment_co_lines_co": {
          "name": "idx_commitment_co_lines_co",
          "columns": [
            {
              "expression": "commitment_change_order_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "commitment_change_order_lines_budget_line_id_fkey": {
          "name": "commitment_change_order_lines_budget_line_id_fkey",
          "tableFrom": "commitment_change_order_lines",
          "tableTo": "budget_lines",
          "schemaTo": "public",
          "columnsFrom": [
            "budget_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "commitment_change_order_lines_commitment_change_order_id_fkey": {
          "name": "commitment_change_order_lines_commitment_change_order_id_fkey",
          "tableFrom": "commitment_change_order_lines",
          "tableTo": "commitment_change_orders",
          "schemaTo": "public",
          "columnsFrom": [
            "commitment_change_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "commitment_change_order_lines_cost_code_id_fkey": {
          "name": "commitment_change_order_lines_cost_code_id_fkey",
          "tableFrom": "commitment_change_order_lines",
          "tableTo": "cost_codes",
          "schemaTo": "public",
          "columnsFrom": [
            "cost_code_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_change_order_lines_cost_type_id_fkey": {
          "name": "commitment_change_order_lines_cost_type_id_fkey",
          "tableFrom": "commitment_change_order_lines",
          "tableTo": "cost_code_types",
          "schemaTo": "public",
          "columnsFrom": [
            "cost_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Users can view commitment change order lines": {
          "name": "Users can view commitment change order lines",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(auth.uid() IS NOT NULL)"
        }
      },
      "isRLSEnabled": true
    },
    "public.commitment_change_orders": {
      "name": "commitment_change_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "commitment_id": {
          "name": "commitment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "change_order_number": {
          "name": "change_order_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "requested_by": {
          "name": "requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "requested_date": {
          "name": "requested_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_DATE"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_date": {
          "name": "approved_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_commitment_cos_commitment": {
          "name": "idx_commitment_cos_commitment",
          "columns": [
            {
              "expression": "commitment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_commitment_cos_status": {
          "name": "idx_commitment_cos_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "commitment_change_orders_approved_by_fkey": {
          "name": "commitment_change_orders_approved_by_fkey",
          "tableFrom": "commitment_change_orders",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_change_orders_commitment_id_fkey": {
          "name": "commitment_change_orders_commitment_id_fkey",
          "tableFrom": "commitment_change_orders",
          "tableTo": "commitments",
          "schemaTo": "public",
          "columnsFrom": [
            "commitment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "commitment_change_orders_requested_by_fkey": {
          "name": "commitment_change_orders_requested_by_fkey",
          "tableFrom": "commitment_change_orders",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "requested_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "commitment_change_orders_commitment_id_change_order_number_key": {
          "columns": [
            "commitment_id",
            "change_order_number"
          ],
          "nullsNotDistinct": false,
          "name": "commitment_change_orders_commitment_id_change_order_number_key"
        }
      },
      "checkConstraints": {
        "commitment_change_orders_status_check": {
          "name": "commitment_change_orders_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'pending_approval'::text, 'pending_review'::text, 'approved'::text, 'rejected'::text])"
        }
      },
      "policies": {
        "Users can view commitment change orders": {
          "name": "Users can view commitment change orders",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (commitments c\n     JOIN project_members pm ON ((pm.project_id = c.project_id)))\n  WHERE ((c.id = commitment_change_orders.commitment_id) AND (pm.user_id = auth.uid()))))"
        },
        "Editors can create commitment change orders": {
          "name": "Editors can create commitment change orders",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.qto_items": {
      "name": "qto_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "qto_id": {
          "name": "qto_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "cost_code": {
          "name": "cost_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "division": {
          "name": "division",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "item_code": {
          "name": "item_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "unit": {
          "name": "unit",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "unit_cost": {
          "name": "unit_cost",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "extended_cost": {
          "name": "extended_cost",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "(quantity * unit_cost)",
            "type": "stored"
          }
        },
        "source_reference": {
          "name": "source_reference",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_qto_items_project_id": {
          "name": "idx_qto_items_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_qto_items_qto_id": {
          "name": "idx_qto_items_qto_id",
          "columns": [
            {
              "expression": "qto_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "qto_items_project_id_fkey": {
          "name": "qto_items_project_id_fkey",
          "tableFrom": "qto_items",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "qto_items_qto_id_fkey": {
          "name": "qto_items_qto_id_fkey",
          "tableFrom": "qto_items",
          "tableTo": "qtos",
          "schemaTo": "public",
          "columnsFrom": [
            "qto_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.change_orders": {
      "name": "change_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "co_number": {
          "name": "co_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'proposed'"
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "default": "auth.uid()"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "apply_vertical_markup": {
          "name": "apply_vertical_markup",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        }
      },
      "indexes": {
        "idx_change_orders_co_number": {
          "name": "idx_change_orders_co_number",
          "columns": [
            {
              "expression": "co_number",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_change_orders_project_id": {
          "name": "idx_change_orders_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "change_orders_project_id_fkey": {
          "name": "change_orders_project_id_fkey",
          "tableFrom": "change_orders",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.qtos": {
      "name": "qtos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "default": "auth.uid()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        }
      },
      "indexes": {
        "idx_qtos_project_id": {
          "name": "idx_qtos_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "qtos_project_id_fkey": {
          "name": "qtos_project_id_fkey",
          "tableFrom": "qtos",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.change_order_costs": {
      "name": "change_order_costs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "change_order_id": {
          "name": "change_order_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "labor": {
          "name": "labor",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "materials": {
          "name": "materials",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "subcontractor": {
          "name": "subcontractor",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "overhead": {
          "name": "overhead",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "contingency": {
          "name": "contingency",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_cost": {
          "name": "total_cost",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "((((labor + materials) + subcontractor) + overhead) + contingency)",
            "type": "stored"
          }
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_co_costs_change_order_id": {
          "name": "idx_co_costs_change_order_id",
          "columns": [
            {
              "expression": "change_order_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "change_order_costs_change_order_id_fkey": {
          "name": "change_order_costs_change_order_id_fkey",
          "tableFrom": "change_order_costs",
          "tableTo": "change_orders",
          "schemaTo": "public",
          "columnsFrom": [
            "change_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.change_order_approvals": {
      "name": "change_order_approvals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "change_order_id": {
          "name": "change_order_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "approver": {
          "name": "approver",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision": {
          "name": "decision",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_co_approvals_co_id": {
          "name": "idx_co_approvals_co_id",
          "columns": [
            {
              "expression": "change_order_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "change_order_approvals_change_order_id_fkey": {
          "name": "change_order_approvals_change_order_id_fkey",
          "tableFrom": "change_order_approvals",
          "tableTo": "change_orders",
          "schemaTo": "public",
          "columnsFrom": [
            "change_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.attachments": {
      "name": "attachments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "attached_to_table": {
          "name": "attached_to_table",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attached_to_id": {
          "name": "attached_to_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "default": "auth.uid()"
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_attachments_project_id": {
          "name": "idx_attachments_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "attachments_project_id_fkey": {
          "name": "attachments_project_id_fkey",
          "tableFrom": "attachments",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.schedule_tasks": {
      "name": "schedule_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "schedule_id": {
          "name": "schedule_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "parent_task_id": {
          "name": "parent_task_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "task_type": {
          "name": "task_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sequence": {
          "name": "sequence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "finish_date": {
          "name": "finish_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "duration_days": {
          "name": "duration_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "percent_complete": {
          "name": "percent_complete",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "float_order": {
          "name": "float_order",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "predecessor_ids": {
          "name": "predecessor_ids",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "default": "auth.uid()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_schedule_tasks_project_id": {
          "name": "idx_schedule_tasks_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_schedule_tasks_schedule_id": {
          "name": "idx_schedule_tasks_schedule_id",
          "columns": [
            {
              "expression": "schedule_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "schedule_tasks_project_id_fkey": {
          "name": "schedule_tasks_project_id_fkey",
          "tableFrom": "schedule_tasks",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.schedule_task_dependencies": {
      "name": "schedule_task_dependencies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "task_id": {
          "name": "task_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "predecessor_task_id": {
          "name": "predecessor_task_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "dependency_type": {
          "name": "dependency_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'FS'"
        }
      },
      "indexes": {
        "idx_task_deps_task_id": {
          "name": "idx_task_deps_task_id",
          "columns": [
            {
              "expression": "task_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "schedule_task_dependencies_predecessor_task_id_fkey": {
          "name": "schedule_task_dependencies_predecessor_task_id_fkey",
          "tableFrom": "schedule_task_dependencies",
          "tableTo": "schedule_tasks",
          "schemaTo": "public",
          "columnsFrom": [
            "predecessor_task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "schedule_task_dependencies_task_id_fkey": {
          "name": "schedule_task_dependencies_task_id_fkey",
          "tableFrom": "schedule_task_dependencies",
          "tableTo": "schedule_tasks",
          "schemaTo": "public",
          "columnsFrom": [
            "task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.schedule_resources": {
      "name": "schedule_resources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "task_id": {
          "name": "task_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resource_type": {
          "name": "resource_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "units": {
          "name": "units",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "unit_type": {
          "name": "unit_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rate": {
          "name": "rate",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "cost": {
          "name": "cost",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "(units * rate)",
            "type": "stored"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_schedule_resources_task_id": {
          "name": "idx_schedule_resources_task_id",
          "columns": [
            {
              "expression": "task_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "schedule_resources_task_id_fkey": {
          "name": "schedule_resources_task_id_fkey",
          "tableFrom": "schedule_resources",
          "tableTo": "schedule_tasks",
          "schemaTo": "public",
          "columnsFrom": [
            "task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.schedule_progress_updates": {
      "name": "schedule_progress_updates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "task_id": {
          "name": "task_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "reported_at": {
          "name": "reported_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "percent_complete": {
          "name": "percent_complete",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "actual_start": {
          "name": "actual_start",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "actual_finish": {
          "name": "actual_finish",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "actual_hours": {
          "name": "actual_hours",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reported_by": {
          "name": "reported_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "default": "auth.uid()"
        }
      },
      "indexes": {
        "idx_schedule_progress_task_id": {
          "name": "idx_schedule_progress_task_id",
          "columns": [
            {
              "expression": "task_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "schedule_progress_updates_task_id_fkey": {
          "name": "schedule_progress_updates_task_id_fkey",
          "tableFrom": "schedule_progress_updates",
          "tableTo": "schedule_tasks",
          "schemaTo": "public",
          "columnsFrom": [
            "task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.prospects": {
      "name": "prospects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contact_name": {
          "name": "contact_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_title": {
          "name": "contact_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_email": {
          "name": "contact_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_phone": {
          "name": "contact_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_source": {
          "name": "lead_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "referral_contact": {
          "name": "referral_contact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "industry": {
          "name": "industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_type": {
          "name": "project_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_project_value": {
          "name": "estimated_project_value",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_start_date": {
          "name": "estimated_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'New'"
        },
        "probability": {
          "name": "probability",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "next_follow_up": {
          "name": "next_follow_up",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "last_contacted": {
          "name": "last_contacted",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "ai_summary": {
          "name": "ai_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_score": {
          "name": "ai_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_prospects_assigned_to": {
          "name": "idx_prospects_assigned_to",
          "columns": [
            {
              "expression": "assigned_to",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_prospects_industry": {
          "name": "idx_prospects_industry",
          "columns": [
            {
              "expression": "industry",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_prospects_next_follow_up": {
          "name": "idx_prospects_next_follow_up",
          "columns": [
            {
              "expression": "next_follow_up",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_prospects_status": {
          "name": "idx_prospects_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "prospects_client_id_fkey": {
          "name": "prospects_client_id_fkey",
          "tableFrom": "prospects",
          "tableTo": "clients",
          "schemaTo": "public",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        },
        "prospects_project_id_fkey": {
          "name": "prospects_project_id_fkey",
          "tableFrom": "prospects",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "prospects_probability_check": {
          "name": "prospects_probability_check",
          "value": "(probability >= 0) AND (probability <= 100)"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.decisions": {
      "name": "decisions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "metadata_id": {
          "name": "metadata_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "segment_id": {
          "name": "segment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "source_chunk_id": {
          "name": "source_chunk_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rationale": {
          "name": "rationale",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_name": {
          "name": "owner_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_email": {
          "name": "owner_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "impact": {
          "name": "impact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "project_ids": {
          "name": "project_ids",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        }
      },
      "indexes": {
        "decisions_embedding_idx": {
          "name": "decisions_embedding_idx",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "hnsw",
          "with": {
            "m": "16",
            "ef_construction": "64"
          }
        },
        "decisions_project_ids_gin_idx": {
          "name": "decisions_project_ids_gin_idx",
          "columns": [
            {
              "expression": "project_ids",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        }
      },
      "foreignKeys": {
        "decisions_metadata_id_fkey": {
          "name": "decisions_metadata_id_fkey",
          "tableFrom": "decisions",
          "tableTo": "document_metadata",
          "schemaTo": "public",
          "columnsFrom": [
            "metadata_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "decisions_segment_id_fkey": {
          "name": "decisions_segment_id_fkey",
          "tableFrom": "decisions",
          "tableTo": "meeting_segments",
          "schemaTo": "public",
          "columnsFrom": [
            "segment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "decisions_source_chunk_id_fkey": {
          "name": "decisions_source_chunk_id_fkey",
          "tableFrom": "decisions",
          "tableTo": "documents",
          "schemaTo": "public",
          "columnsFrom": [
            "source_chunk_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "decisions_metadata_id_description_key": {
          "columns": [
            "metadata_id",
            "description"
          ],
          "nullsNotDistinct": false,
          "name": "decisions_metadata_id_description_key"
        }
      },
      "checkConstraints": {
        "decisions_status_check": {
          "name": "decisions_status_check",
          "value": "status = ANY (ARRAY['active'::text, 'superseded'::text, 'reversed'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.opportunities": {
      "name": "opportunities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "metadata_id": {
          "name": "metadata_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "segment_id": {
          "name": "segment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "source_chunk_id": {
          "name": "source_chunk_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_name": {
          "name": "owner_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_email": {
          "name": "owner_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "next_step": {
          "name": "next_step",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "project_ids": {
          "name": "project_ids",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        }
      },
      "indexes": {
        "opportunities_client_idx": {
          "name": "opportunities_client_idx",
          "columns": [
            {
              "expression": "client_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "opportunities_embedding_idx": {
          "name": "opportunities_embedding_idx",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "ivfflat",
          "with": {
            "lists": "50"
          }
        },
        "opportunities_metadata_idx": {
          "name": "opportunities_metadata_idx",
          "columns": [
            {
              "expression": "metadata_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "opportunities_project_ids_gin_idx": {
          "name": "opportunities_project_ids_gin_idx",
          "columns": [
            {
              "expression": "project_ids",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "opportunities_project_idx": {
          "name": "opportunities_project_idx",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "opportunities_status_idx": {
          "name": "opportunities_status_idx",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "opportunities_type_idx": {
          "name": "opportunities_type_idx",
          "columns": [
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "opportunities_metadata_id_fkey": {
          "name": "opportunities_metadata_id_fkey",
          "tableFrom": "opportunities",
          "tableTo": "document_metadata",
          "schemaTo": "public",
          "columnsFrom": [
            "metadata_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "opportunities_segment_id_fkey": {
          "name": "opportunities_segment_id_fkey",
          "tableFrom": "opportunities",
          "tableTo": "meeting_segments",
          "schemaTo": "public",
          "columnsFrom": [
            "segment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "opportunities_source_chunk_id_fkey": {
          "name": "opportunities_source_chunk_id_fkey",
          "tableFrom": "opportunities",
          "tableTo": "documents",
          "schemaTo": "public",
          "columnsFrom": [
            "source_chunk_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "opportunities_metadata_id_description_key": {
          "columns": [
            "metadata_id",
            "description"
          ],
          "nullsNotDistinct": false,
          "name": "opportunities_metadata_id_description_key"
        }
      },
      "checkConstraints": {
        "opportunities_status_check": {
          "name": "opportunities_status_check",
          "value": "status = ANY (ARRAY['open'::text, 'in_review'::text, 'approved'::text, 'rejected'::text, 'implemented'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.procore_screenshots": {
      "name": "procore_screenshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subcategory": {
          "name": "subcategory",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "page_title": {
          "name": "page_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fullpage_path": {
          "name": "fullpage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "viewport_path": {
          "name": "viewport_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fullpage_storage_path": {
          "name": "fullpage_storage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "viewport_storage_path": {
          "name": "viewport_storage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "viewport_width": {
          "name": "viewport_width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "viewport_height": {
          "name": "viewport_height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fullpage_height": {
          "name": "fullpage_height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_size_bytes": {
          "name": "file_size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "detected_components": {
          "name": "detected_components",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "color_palette": {
          "name": "color_palette",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "ai_analysis": {
          "name": "ai_analysis",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "new_url": {
          "name": "new_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_screenshots_category": {
          "name": "idx_screenshots_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_screenshots_name": {
          "name": "idx_screenshots_name",
          "columns": [
            {
              "expression": "name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_screenshots_session": {
          "name": "idx_screenshots_session",
          "columns": [
            {
              "expression": "session_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "procore_screenshots_session_id_fkey": {
          "name": "procore_screenshots_session_id_fkey",
          "tableFrom": "procore_screenshots",
          "tableTo": "procore_capture_sessions",
          "schemaTo": "public",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fireflies_ingestion_jobs": {
      "name": "fireflies_ingestion_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "fireflies_id": {
          "name": "fireflies_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata_id": {
          "name": "metadata_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stage": {
          "name": "stage",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "attempt_count": {
          "name": "attempt_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_attempt_at": {
          "name": "last_attempt_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "fireflies_ingestion_jobs_metadata_idx": {
          "name": "fireflies_ingestion_jobs_metadata_idx",
          "columns": [
            {
              "expression": "metadata_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fireflies_ingestion_jobs_stage_idx": {
          "name": "fireflies_ingestion_jobs_stage_idx",
          "columns": [
            {
              "expression": "stage",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "fireflies_ingestion_jobs_metadata_id_fkey": {
          "name": "fireflies_ingestion_jobs_metadata_id_fkey",
          "tableFrom": "fireflies_ingestion_jobs",
          "tableTo": "document_metadata",
          "schemaTo": "public",
          "columnsFrom": [
            "metadata_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fireflies_ingestion_jobs_fireflies_id_key": {
          "columns": [
            "fireflies_id"
          ],
          "nullsNotDistinct": false,
          "name": "fireflies_ingestion_jobs_fireflies_id_key"
        }
      },
      "checkConstraints": {
        "fireflies_ingestion_jobs_stage_check": {
          "name": "fireflies_ingestion_jobs_stage_check",
          "value": "stage = ANY (ARRAY['pending'::text, 'raw_ingested'::text, 'segmented'::text, 'chunked'::text, 'embedded'::text, 'structured_extracted'::text, 'done'::text, 'error'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.project": {
      "name": "project",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "project_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "job_number": {
          "name": "job_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "est_completion": {
          "name": "est_completion",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "est_revenue": {
          "name": "est_revenue",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "est_profit": {
          "name": "est_profit",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "onedrive": {
          "name": "onedrive",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phase": {
          "name": "phase",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "team_members": {
          "name": "team_members",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "completion_percentage": {
          "name": "completion_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "budget": {
          "name": "budget",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "budget_used": {
          "name": "budget_used",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "client": {
          "name": "client",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary_metadata": {
          "name": "summary_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "summary_updated_at": {
          "name": "summary_updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "health_score": {
          "name": "health_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "health_status": {
          "name": "health_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access": {
          "name": "access",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "archived": {
          "name": "archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "archived_by": {
          "name": "archived_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "erp_system": {
          "name": "erp_system",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "erp_last_job_cost_sync": {
          "name": "erp_last_job_cost_sync",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "erp_last_direct_cost_sync": {
          "name": "erp_last_direct_cost_sync",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "erp_sync_status": {
          "name": "erp_sync_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_manager": {
          "name": "project_manager",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_number": {
          "name": "project_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "stakeholders": {
          "name": "stakeholders",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "keywords": {
          "name": "keywords",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "budget_locked": {
          "name": "budget_locked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "budget_locked_at": {
          "name": "budget_locked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "budget_locked_by": {
          "name": "budget_locked_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "work_scope": {
          "name": "work_scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_sector": {
          "name": "project_sector",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "delivery_method": {
          "name": "delivery_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name_code": {
          "name": "name_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "projects_budget_locked_by_fkey": {
          "name": "projects_budget_locked_by_fkey",
          "tableFrom": "project",
          "tableTo": "app_users",
          "schemaTo": "public",
          "columnsFrom": [
            "budget_locked_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projects_client_id_fkey": {
          "name": "projects_client_id_fkey",
          "tableFrom": "project",
          "tableTo": "clients",
          "schemaTo": "public",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "projects_project_manager_fkey": {
          "name": "projects_project_manager_fkey",
          "tableFrom": "project",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "project_manager"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "projects_delivery_method_check": {
          "name": "projects_delivery_method_check",
          "value": "(delivery_method IS NULL) OR (delivery_method = ANY (ARRAY['Design-Bid-Build'::text, 'Design-Build'::text, 'Construction Management at Risk'::text, 'Integrated Project Delivery'::text]))"
        },
        "projects_health_status_check": {
          "name": "projects_health_status_check",
          "value": "health_status = ANY (ARRAY['Healthy'::text, 'At Risk'::text, 'Needs Attention'::text, 'Critical'::text])"
        },
        "projects_project_sector_check": {
          "name": "projects_project_sector_check",
          "value": "(project_sector IS NULL) OR (project_sector = ANY (ARRAY['Commercial'::text, 'Industrial'::text, 'Infrastructure'::text, 'Healthcare'::text, 'Institutional'::text, 'Residential'::text]))"
        },
        "projects_work_scope_check": {
          "name": "projects_work_scope_check",
          "value": "(work_scope IS NULL) OR (work_scope = ANY (ARRAY['Ground-Up Construction'::text, 'Renovation'::text, 'Tenant Improvement'::text, 'Interior Build-Out'::text, 'Maintenance'::text]))"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.groups": {
      "name": "groups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "groups_created_by_fkey": {
          "name": "groups_created_by_fkey",
          "tableFrom": "groups",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.procore_capture_sessions": {
      "name": "procore_capture_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "capture_type": {
          "name": "capture_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'in_progress'"
        },
        "total_screenshots": {
          "name": "total_screenshots",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "procore_capture_sessions_capture_type_check": {
          "name": "procore_capture_sessions_capture_type_check",
          "value": "capture_type = ANY (ARRAY['public_docs'::text, 'authenticated_app'::text, 'manual'::text])"
        },
        "procore_capture_sessions_status_check": {
          "name": "procore_capture_sessions_status_check",
          "value": "status = ANY (ARRAY['in_progress'::text, 'completed'::text, 'failed'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.procore_components": {
      "name": "procore_components",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "screenshot_id": {
          "name": "screenshot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "component_type": {
          "name": "component_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "component_name": {
          "name": "component_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "x": {
          "name": "x",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "y": {
          "name": "y",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "local_path": {
          "name": "local_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "storage_path": {
          "name": "storage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "styles": {
          "name": "styles",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_components_screenshot": {
          "name": "idx_components_screenshot",
          "columns": [
            {
              "expression": "screenshot_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_components_type": {
          "name": "idx_components_type",
          "columns": [
            {
              "expression": "component_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "procore_components_screenshot_id_fkey": {
          "name": "procore_components_screenshot_id_fkey",
          "tableFrom": "procore_components",
          "tableTo": "procore_screenshots",
          "schemaTo": "public",
          "columnsFrom": [
            "screenshot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.crawled_pages": {
      "name": "crawled_pages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "chunk_number": {
          "name": "chunk_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "source_id": {
          "name": "source_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "timezone('utc'::text, now())"
        }
      },
      "indexes": {
        "crawled_pages_embedding_idx": {
          "name": "crawled_pages_embedding_idx",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "ivfflat",
          "with": {}
        },
        "idx_crawled_pages_metadata": {
          "name": "idx_crawled_pages_metadata",
          "columns": [
            {
              "expression": "metadata",
              "asc": true,
              "nulls": "last",
              "opclass": "jsonb_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_crawled_pages_source_id": {
          "name": "idx_crawled_pages_source_id",
          "columns": [
            {
              "expression": "source_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "crawled_pages_source_id_fkey": {
          "name": "crawled_pages_source_id_fkey",
          "tableFrom": "crawled_pages",
          "tableTo": "sources",
          "schemaTo": "public",
          "columnsFrom": [
            "source_id"
          ],
          "columnsTo": [
            "source_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "crawled_pages_url_chunk_number_key": {
          "columns": [
            "url",
            "chunk_number"
          ],
          "nullsNotDistinct": false,
          "name": "crawled_pages_url_chunk_number_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Allow public read access to crawled_pages": {
          "name": "Allow public read access to crawled_pages",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.sources": {
      "name": "sources",
      "schema": "",
      "columns": {
        "source_id": {
          "name": "source_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_word_count": {
          "name": "total_word_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "timezone('utc'::text, now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "timezone('utc'::text, now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Allow public read access to sources": {
          "name": "Allow public read access to sources",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.procore_modules": {
      "name": "procore_modules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "app_path": {
          "name": "app_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "docs_url": {
          "name": "docs_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "complexity": {
          "name": "complexity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_build_weeks": {
          "name": "estimated_build_weeks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "key_features": {
          "name": "key_features",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "dependencies": {
          "name": "dependencies",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rebuild_notes": {
          "name": "rebuild_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_modules_category": {
          "name": "idx_modules_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "procore_modules_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "procore_modules_name_key"
        }
      },
      "checkConstraints": {
        "procore_modules_complexity_check": {
          "name": "procore_modules_complexity_check",
          "value": "complexity = ANY (ARRAY['low'::text, 'medium'::text, 'high'::text, 'very_high'::text])"
        },
        "procore_modules_priority_check": {
          "name": "procore_modules_priority_check",
          "value": "priority = ANY (ARRAY['must_have'::text, 'nice_to_have'::text, 'skip'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.procore_features": {
      "name": "procore_features",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "module_id": {
          "name": "module_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "include_in_rebuild": {
          "name": "include_in_rebuild",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "complexity": {
          "name": "complexity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_hours": {
          "name": "estimated_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ai_enhancement_possible": {
          "name": "ai_enhancement_possible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ai_enhancement_notes": {
          "name": "ai_enhancement_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "screenshot_ids": {
          "name": "screenshot_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_features_module": {
          "name": "idx_features_module",
          "columns": [
            {
              "expression": "module_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "procore_features_module_id_fkey": {
          "name": "procore_features_module_id_fkey",
          "tableFrom": "procore_features",
          "tableTo": "procore_modules",
          "schemaTo": "public",
          "columnsFrom": [
            "module_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "procore_features_complexity_check": {
          "name": "procore_features_complexity_check",
          "value": "complexity = ANY (ARRAY['trivial'::text, 'easy'::text, 'medium'::text, 'hard'::text, 'very_hard'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.projects_audit": {
      "name": "projects_audit",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "operation": {
          "name": "operation",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "changed_by": {
          "name": "changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "changed_at": {
          "name": "changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "changed_columns": {
          "name": "changed_columns",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "old_data": {
          "name": "old_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_data": {
          "name": "new_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.direct_costs": {
      "name": "direct_costs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "budget_item_id": {
          "name": "budget_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "vendor_id": {
          "name": "vendor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cost_type": {
          "name": "cost_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "incurred_date": {
          "name": "incurred_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_direct_costs_project": {
          "name": "idx_direct_costs_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "direct_costs_project_id_fkey": {
          "name": "direct_costs_project_id_fkey",
          "tableFrom": "direct_costs",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Users can view direct costs in their projects": {
          "name": "Users can view direct costs in their projects",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM project_members\n  WHERE ((project_members.project_id = direct_costs.project_id) AND (project_members.user_id = auth.uid()))))"
        },
        "Editors can create direct costs": {
          "name": "Editors can create direct costs",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.commitment_changes": {
      "name": "commitment_changes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "commitment_id": {
          "name": "commitment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "budget_item_id": {
          "name": "budget_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "commitment_changes_commitment_id_fkey": {
          "name": "commitment_changes_commitment_id_fkey",
          "tableFrom": "commitment_changes",
          "tableTo": "commitments",
          "schemaTo": "public",
          "columnsFrom": [
            "commitment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "commitment_changes_status_check": {
          "name": "commitment_changes_status_check",
          "value": "status = ANY (ARRAY['draft'::text, 'pending'::text, 'approved'::text, 'void'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.code_examples": {
      "name": "code_examples",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "chunk_number": {
          "name": "chunk_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "source_id": {
          "name": "source_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "timezone('utc'::text, now())"
        }
      },
      "indexes": {
        "code_examples_embedding_idx": {
          "name": "code_examples_embedding_idx",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "ivfflat",
          "with": {}
        },
        "idx_code_examples_metadata": {
          "name": "idx_code_examples_metadata",
          "columns": [
            {
              "expression": "metadata",
              "asc": true,
              "nulls": "last",
              "opclass": "jsonb_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_code_examples_source_id": {
          "name": "idx_code_examples_source_id",
          "columns": [
            {
              "expression": "source_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "code_examples_source_id_fkey": {
          "name": "code_examples_source_id_fkey",
          "tableFrom": "code_examples",
          "tableTo": "sources",
          "schemaTo": "public",
          "columnsFrom": [
            "source_id"
          ],
          "columnsTo": [
            "source_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "code_examples_url_chunk_number_key": {
          "columns": [
            "url",
            "chunk_number"
          ],
          "nullsNotDistinct": false,
          "name": "code_examples_url_chunk_number_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Allow public read access to code_examples": {
          "name": "Allow public read access to code_examples",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.forecasting": {
      "name": "forecasting",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "budget_item_id": {
          "name": "budget_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "forecast_to_complete": {
          "name": "forecast_to_complete",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "projected_costs": {
          "name": "projected_costs",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_completion_cost": {
          "name": "estimated_completion_cost",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.erp_sync_log": {
      "name": "erp_sync_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "erp_system": {
          "name": "erp_system",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_job_cost_sync": {
          "name": "last_job_cost_sync",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_direct_cost_sync": {
          "name": "last_direct_cost_sync",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "sync_status": {
          "name": "sync_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "erp_sync_log_project_id_fkey": {
          "name": "erp_sync_log_project_id_fkey",
          "tableFrom": "erp_sync_log",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.prime_contract_sovs": {
      "name": "prime_contract_sovs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "prime_contract_sovs_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "contract_id": {
          "name": "contract_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "cost_code": {
          "name": "cost_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1'"
        },
        "uom": {
          "name": "uom",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "unit_cost": {
          "name": "unit_cost",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "line_amount": {
          "name": "line_amount",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "(quantity * unit_cost)",
            "type": "stored"
          }
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {
        "idx_prime_contract_sovs_contract": {
          "name": "idx_prime_contract_sovs_contract",
          "columns": [
            {
              "expression": "contract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "prime_contract_sovs_contract_id_fkey": {
          "name": "prime_contract_sovs_contract_id_fkey",
          "tableFrom": "prime_contract_sovs",
          "tableTo": "contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.prime_potential_change_orders": {
      "name": "prime_potential_change_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "prime_potential_change_orders_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "contract_id": {
          "name": "contract_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "change_event_id": {
          "name": "change_event_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "pco_number": {
          "name": "pco_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_pcos_change_event": {
          "name": "idx_pcos_change_event",
          "columns": [
            {
              "expression": "change_event_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pcos_contract": {
          "name": "idx_pcos_contract",
          "columns": [
            {
              "expression": "contract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pcos_project": {
          "name": "idx_pcos_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "prime_potential_change_orders_change_event_id_fkey": {
          "name": "prime_potential_change_orders_change_event_id_fkey",
          "tableFrom": "prime_potential_change_orders",
          "tableTo": "change_events",
          "schemaTo": "public",
          "columnsFrom": [
            "change_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "prime_potential_change_orders_contract_id_fkey": {
          "name": "prime_potential_change_orders_contract_id_fkey",
          "tableFrom": "prime_potential_change_orders",
          "tableTo": "contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "prime_potential_change_orders_project_id_fkey": {
          "name": "prime_potential_change_orders_project_id_fkey",
          "tableFrom": "prime_potential_change_orders",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.change_event_line_items": {
      "name": "change_event_line_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "change_event_line_items_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "change_event_id": {
          "name": "change_event_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "cost_code": {
          "name": "cost_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "uom": {
          "name": "uom",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "unit_cost": {
          "name": "unit_cost",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "rom_amount": {
          "name": "rom_amount",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "final_amount": {
          "name": "final_amount",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_change_event_line_items_event": {
          "name": "idx_change_event_line_items_event",
          "columns": [
            {
              "expression": "change_event_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_change_event_lines_event": {
          "name": "idx_change_event_lines_event",
          "columns": [
            {
              "expression": "change_event_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "change_event_line_items_change_event_id_fkey": {
          "name": "change_event_line_items_change_event_id_fkey",
          "tableFrom": "change_event_line_items",
          "tableTo": "change_events",
          "schemaTo": "public",
          "columnsFrom": [
            "change_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Users can view change event line items": {
          "name": "Users can view change event line items",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (change_events ce\n     JOIN project_members pm ON ((pm.project_id = ce.project_id)))\n  WHERE ((ce.id = change_event_line_items.change_event_id) AND (pm.user_id = auth.uid()))))"
        },
        "Editors can create change event line items": {
          "name": "Editors can create change event line items",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.change_events": {
      "name": "change_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "change_events_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "event_number": {
          "name": "event_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_change_events_project": {
          "name": "idx_change_events_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_change_events_status": {
          "name": "idx_change_events_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "change_events_project_id_fkey": {
          "name": "change_events_project_id_fkey",
          "tableFrom": "change_events",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Users can view change events in their projects": {
          "name": "Users can view change events in their projects",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM project_members\n  WHERE ((project_members.project_id = change_events.project_id) AND (project_members.user_id = auth.uid()))))"
        },
        "Editors can create change events": {
          "name": "Editors can create change events",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.pco_line_items": {
      "name": "pco_line_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "pco_line_items_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "pco_id": {
          "name": "pco_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "change_event_line_item_id": {
          "name": "change_event_line_item_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "cost_code": {
          "name": "cost_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "uom": {
          "name": "uom",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "unit_cost": {
          "name": "unit_cost",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "line_amount": {
          "name": "line_amount",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "(quantity * unit_cost)",
            "type": "stored"
          }
        }
      },
      "indexes": {
        "idx_pco_line_items_pco": {
          "name": "idx_pco_line_items_pco",
          "columns": [
            {
              "expression": "pco_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pco_line_items_change_event_line_item_id_fkey": {
          "name": "pco_line_items_change_event_line_item_id_fkey",
          "tableFrom": "pco_line_items",
          "tableTo": "change_event_line_items",
          "schemaTo": "public",
          "columnsFrom": [
            "change_event_line_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "pco_line_items_pco_id_fkey": {
          "name": "pco_line_items_pco_id_fkey",
          "tableFrom": "pco_line_items",
          "tableTo": "prime_potential_change_orders",
          "schemaTo": "public",
          "columnsFrom": [
            "pco_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.prime_contract_change_orders": {
      "name": "prime_contract_change_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "prime_contract_change_orders_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "contract_id": {
          "name": "contract_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "pcco_number": {
          "name": "pcco_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "executed": {
          "name": "executed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "total_amount": {
          "name": "total_amount",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_pccos_contract": {
          "name": "idx_pccos_contract",
          "columns": [
            {
              "expression": "contract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "prime_contract_change_orders_contract_id_fkey": {
          "name": "prime_contract_change_orders_contract_id_fkey",
          "tableFrom": "prime_contract_change_orders",
          "tableTo": "contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.pcco_line_items": {
      "name": "pcco_line_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "pcco_line_items_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "pcco_id": {
          "name": "pcco_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "pco_id": {
          "name": "pco_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "cost_code": {
          "name": "cost_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "uom": {
          "name": "uom",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "unit_cost": {
          "name": "unit_cost",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "line_amount": {
          "name": "line_amount",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "(quantity * unit_cost)",
            "type": "stored"
          }
        }
      },
      "indexes": {
        "idx_pcco_line_items_pcco": {
          "name": "idx_pcco_line_items_pcco",
          "columns": [
            {
              "expression": "pcco_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pcco_line_items_pcco_id_fkey": {
          "name": "pcco_line_items_pcco_id_fkey",
          "tableFrom": "pcco_line_items",
          "tableTo": "prime_contract_change_orders",
          "schemaTo": "public",
          "columnsFrom": [
            "pcco_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pcco_line_items_pco_id_fkey": {
          "name": "pcco_line_items_pco_id_fkey",
          "tableFrom": "pcco_line_items",
          "tableTo": "prime_potential_change_orders",
          "schemaTo": "public",
          "columnsFrom": [
            "pco_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.cost_code_division_updates_audit": {
      "name": "cost_code_division_updates_audit",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "division_id": {
          "name": "division_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "new_title": {
          "name": "new_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_count": {
          "name": "updated_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "changed_at": {
          "name": "changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "changed_by": {
          "name": "changed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.owner_invoice_line_items": {
      "name": "owner_invoice_line_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "owner_invoice_line_items_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "invoice_id": {
          "name": "invoice_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_amount": {
          "name": "approved_amount",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_owner_invoice_line_items_invoice": {
          "name": "idx_owner_invoice_line_items_invoice",
          "columns": [
            {
              "expression": "invoice_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "owner_invoice_line_items_invoice_id_fkey": {
          "name": "owner_invoice_line_items_invoice_id_fkey",
          "tableFrom": "owner_invoice_line_items",
          "tableTo": "owner_invoices",
          "schemaTo": "public",
          "columnsFrom": [
            "invoice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.owner_invoices": {
      "name": "owner_invoices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "owner_invoices_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "contract_id": {
          "name": "contract_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "invoice_number": {
          "name": "invoice_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "period_start": {
          "name": "period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "period_end": {
          "name": "period_end",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "billing_period_id": {
          "name": "billing_period_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_owner_invoices_contract": {
          "name": "idx_owner_invoices_contract",
          "columns": [
            {
              "expression": "contract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "owner_invoices_billing_period_id_fkey": {
          "name": "owner_invoices_billing_period_id_fkey",
          "tableFrom": "owner_invoices",
          "tableTo": "billing_periods",
          "schemaTo": "public",
          "columnsFrom": [
            "billing_period_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "owner_invoices_contract_id_fkey": {
          "name": "owner_invoices_contract_id_fkey",
          "tableFrom": "owner_invoices",
          "tableTo": "contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.payment_transactions": {
      "name": "payment_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "payment_transactions_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "contract_id": {
          "name": "contract_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "invoice_id": {
          "name": "invoice_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "payment_date": {
          "name": "payment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "method": {
          "name": "method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reference_number": {
          "name": "reference_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_payments_contract": {
          "name": "idx_payments_contract",
          "columns": [
            {
              "expression": "contract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payments_invoice": {
          "name": "idx_payments_invoice",
          "columns": [
            {
              "expression": "invoice_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payment_transactions_contract_id_fkey": {
          "name": "payment_transactions_contract_id_fkey",
          "tableFrom": "payment_transactions",
          "tableTo": "contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "payment_transactions_invoice_id_fkey": {
          "name": "payment_transactions_invoice_id_fkey",
          "tableFrom": "payment_transactions",
          "tableTo": "owner_invoices",
          "schemaTo": "public",
          "columnsFrom": [
            "invoice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.rag_pipeline_state": {
      "name": "rag_pipeline_state",
      "schema": "",
      "columns": {
        "pipeline_id": {
          "name": "pipeline_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "pipeline_type": {
          "name": "pipeline_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_check_time": {
          "name": "last_check_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "known_files": {
          "name": "known_files",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "last_run": {
          "name": "last_run",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_rag_pipeline_state_last_run": {
          "name": "idx_rag_pipeline_state_last_run",
          "columns": [
            {
              "expression": "last_run",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamp_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rag_pipeline_state_pipeline_type": {
          "name": "idx_rag_pipeline_state_pipeline_type",
          "columns": [
            {
              "expression": "pipeline_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "public.conversations": {
      "name": "conversations",
      "schema": "",
      "columns": {
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "last_message_at": {
          "name": "last_message_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "is_archived": {
          "name": "is_archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_conversations_user": {
          "name": "idx_conversations_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "conversations_user_id_fkey": {
          "name": "conversations_user_id_fkey",
          "tableFrom": "conversations",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Admins can update all conversations": {
          "name": "Admins can update all conversations",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ],
          "using": "is_admin()"
        },
        "Admins can insert conversations": {
          "name": "Admins can insert conversations",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Deny delete for conversations": {
          "name": "Deny delete for conversations",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        },
        "Users can view their own conversations": {
          "name": "Users can view their own conversations",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Users can insert their own conversations": {
          "name": "Users can insert their own conversations",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Users can update their own conversations": {
          "name": "Users can update their own conversations",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Admins can view all conversations": {
          "name": "Admins can view all conversations",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "messages_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "computed_session_user_id": {
          "name": "computed_session_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "(split_part((session_id)::text, '~'::text, 1))::uuid",
            "type": "stored"
          }
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "message_data": {
          "name": "message_data",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_messages_computed_session": {
          "name": "idx_messages_computed_session",
          "columns": [
            {
              "expression": "computed_session_user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_messages_session": {
          "name": "idx_messages_session",
          "columns": [
            {
              "expression": "session_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "messages_session_id_fkey": {
          "name": "messages_session_id_fkey",
          "tableFrom": "messages",
          "tableTo": "conversations",
          "schemaTo": "public",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "session_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Users can view their own messages": {
          "name": "Users can view their own messages",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(auth.uid() = computed_session_user_id)"
        },
        "Users can insert messages in their conversations": {
          "name": "Users can insert messages in their conversations",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Admins can view all messages": {
          "name": "Admins can view all messages",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Admins can insert messages": {
          "name": "Admins can insert messages",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Deny delete for messages": {
          "name": "Deny delete for messages",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.document_metadata": {
      "name": "document_metadata",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "participants": {
          "name": "participants",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fireflies_id": {
          "name": "fireflies_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fireflies_link": {
          "name": "fireflies_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "project": {
          "name": "project",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "date": {
          "name": "date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "bullet_points": {
          "name": "bullet_points",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action_items": {
          "name": "action_items",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_id": {
          "name": "file_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "overview": {
          "name": "overview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_level": {
          "name": "access_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'team'"
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "content_hash": {
          "name": "content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "participants_array": {
          "name": "participants_array",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "phase": {
          "name": "phase",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'Current'"
        },
        "audio": {
          "name": "audio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "video": {
          "name": "video",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_document_metadata_category": {
          "name": "idx_document_metadata_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_metadata_composite": {
          "name": "idx_document_metadata_composite",
          "columns": [
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "date",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_metadata_content_fts": {
          "name": "idx_document_metadata_content_fts",
          "columns": [
            {
              "expression": "to_tsvector('english'::regconfig, content)",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_document_metadata_date": {
          "name": "idx_document_metadata_date",
          "columns": [
            {
              "expression": "date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_metadata_fireflies_id": {
          "name": "idx_document_metadata_fireflies_id",
          "columns": [
            {
              "expression": "fireflies_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_metadata_lower_title": {
          "name": "idx_document_metadata_lower_title",
          "columns": [
            {
              "expression": "lower(title)",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_metadata_participants": {
          "name": "idx_document_metadata_participants",
          "columns": [
            {
              "expression": "to_tsvector('english'::regconfig, participants)",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_document_metadata_project_captured": {
          "name": "idx_document_metadata_project_captured",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "captured_at",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_metadata_type": {
          "name": "idx_document_metadata_type",
          "columns": [
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_table_project_id": {
          "name": "idx_table_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ux_document_metadata_content_hash": {
          "name": "ux_document_metadata_content_hash",
          "columns": [
            {
              "expression": "content_hash",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ux_document_metadata_fireflies": {
          "name": "ux_document_metadata_fireflies",
          "columns": [
            {
              "expression": "fireflies_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(fireflies_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "document_metadata_project_id_fkey": {
          "name": "document_metadata_project_id_fkey",
          "tableFrom": "document_metadata",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "document_metadata_fireflies_id_unique": {
          "columns": [
            "fireflies_id"
          ],
          "nullsNotDistinct": false,
          "name": "document_metadata_fireflies_id_unique"
        },
        "document_metadata_file_id_key": {
          "columns": [
            "file_id"
          ],
          "nullsNotDistinct": false,
          "name": "document_metadata_file_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "zapier_access_policy": {
          "name": "zapier_access_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "zapier"
          ],
          "withCheck": "true",
          "using": "true"
        },
        "zapier_full_access": {
          "name": "zapier_full_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "zapier"
          ]
        },
        "team_update": {
          "name": "team_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ]
        },
        "admin_all_access": {
          "name": "admin_all_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ]
        },
        "leadership_update": {
          "name": "leadership_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ]
        },
        "leadership_access": {
          "name": "leadership_access",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ]
        },
        "leadership_insert": {
          "name": "leadership_insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ]
        },
        "leadership_delete": {
          "name": "leadership_delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ]
        },
        "team_access": {
          "name": "team_access",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ]
        },
        "team_insert": {
          "name": "team_insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ]
        },
        "users_can_read_docs": {
          "name": "users_can_read_docs",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.document_rows": {
      "name": "document_rows",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "dataset_id": {
          "name": "dataset_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "row_data": {
          "name": "row_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "document_rows_dataset_id_fkey": {
          "name": "document_rows_dataset_id_fkey",
          "tableFrom": "document_rows",
          "tableTo": "document_metadata",
          "schemaTo": "public",
          "columnsFrom": [
            "dataset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.project_insights": {
      "name": "project_insights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "detail": {
          "name": "detail",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "source_document_ids": {
          "name": "source_document_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"RAY\"}'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_project_insights_project_captured": {
          "name": "idx_project_insights_project_captured",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "captured_at",
              "asc": false,
              "nulls": "first",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_insights_project_id_fkey": {
          "name": "project_insights_project_id_fkey",
          "tableFrom": "project_insights",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.chat_threads": {
      "name": "chat_threads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_chat_threads_created_at": {
          "name": "idx_chat_threads_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.chat_thread_items": {
      "name": "chat_thread_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "thread_id": {
          "name": "thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "item_type": {
          "name": "item_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_chat_thread_items_thread_created": {
          "name": "idx_chat_thread_items_thread_created",
          "columns": [
            {
              "expression": "thread_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chat_thread_items_thread_id_fkey": {
          "name": "chat_thread_items_thread_id_fkey",
          "tableFrom": "chat_thread_items",
          "tableTo": "chat_threads",
          "schemaTo": "public",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.chat_thread_attachments": {
      "name": "chat_thread_attachments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "thread_id": {
          "name": "thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chat_thread_attachments_thread_id_fkey": {
          "name": "chat_thread_attachments_thread_id_fkey",
          "tableFrom": "chat_thread_attachments",
          "tableTo": "chat_threads",
          "schemaTo": "public",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.chat_thread_feedback": {
      "name": "chat_thread_feedback",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "item_ids": {
          "name": "item_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "feedback": {
          "name": "feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chat_thread_feedback_thread_id_fkey": {
          "name": "chat_thread_feedback_thread_id_fkey",
          "tableFrom": "chat_thread_feedback",
          "tableTo": "chat_threads",
          "schemaTo": "public",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.chat_thread_attachment_files": {
      "name": "chat_thread_attachment_files",
      "schema": "",
      "columns": {
        "attachment_id": {
          "name": "attachment_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "storage_path": {
          "name": "storage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "thread_id": {
          "name": "thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chat_thread_attachment_files_attachment_id_fkey": {
          "name": "chat_thread_attachment_files_attachment_id_fkey",
          "tableFrom": "chat_thread_attachment_files",
          "tableTo": "chat_thread_attachments",
          "schemaTo": "public",
          "columnsFrom": [
            "attachment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.rfis": {
      "name": "rfis",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "number": {
          "name": "number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "question": {
          "name": "question",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'Open'"
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "date_initiated": {
          "name": "date_initiated",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "closed_date": {
          "name": "closed_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "rfi_manager": {
          "name": "rfi_manager",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "received_from": {
          "name": "received_from",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assignees": {
          "name": "assignees",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "distribution_list": {
          "name": "distribution_list",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "ball_in_court": {
          "name": "ball_in_court",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "responsible_contractor": {
          "name": "responsible_contractor",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "specification": {
          "name": "specification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sub_job": {
          "name": "sub_job",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cost_code": {
          "name": "cost_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rfi_stage": {
          "name": "rfi_stage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "schedule_impact": {
          "name": "schedule_impact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cost_impact": {
          "name": "cost_impact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reference": {
          "name": "reference",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_private": {
          "name": "is_private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "rfi_manager_employee_id": {
          "name": "rfi_manager_employee_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "ball_in_court_employee_id": {
          "name": "ball_in_court_employee_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_employee_id": {
          "name": "created_by_employee_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_rfis_due_date": {
          "name": "idx_rfis_due_date",
          "columns": [
            {
              "expression": "due_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rfis_number_project": {
          "name": "idx_rfis_number_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            },
            {
              "expression": "number",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rfis_project_id": {
          "name": "idx_rfis_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rfis_status": {
          "name": "idx_rfis_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "rfis_ball_in_court_employee_id_fkey": {
          "name": "rfis_ball_in_court_employee_id_fkey",
          "tableFrom": "rfis",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "ball_in_court_employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "rfis_created_by_employee_id_fkey": {
          "name": "rfis_created_by_employee_id_fkey",
          "tableFrom": "rfis",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by_employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "rfis_project_id_fkey": {
          "name": "rfis_project_id_fkey",
          "tableFrom": "rfis",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "rfis_rfi_manager_employee_id_fkey": {
          "name": "rfis_rfi_manager_employee_id_fkey",
          "tableFrom": "rfis",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "rfi_manager_employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.document_chunks": {
      "name": "document_chunks",
      "schema": "",
      "columns": {
        "chunk_id": {
          "name": "chunk_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "document_id": {
          "name": "document_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "chunk_index": {
          "name": "chunk_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "content_hash": {
          "name": "content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "document_chunks_embedding_idx": {
          "name": "document_chunks_embedding_idx",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "ivfflat",
          "with": {
            "lists": "100"
          }
        },
        "idx_document_chunks_content_hash": {
          "name": "idx_document_chunks_content_hash",
          "columns": [
            {
              "expression": "content_hash",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_chunks_created_at": {
          "name": "idx_document_chunks_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_chunks_document_id": {
          "name": "idx_document_chunks_document_id",
          "columns": [
            {
              "expression": "document_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "document_chunks_document_id_chunk_index_key": {
          "columns": [
            "document_id",
            "chunk_index"
          ],
          "nullsNotDistinct": false,
          "name": "document_chunks_document_id_chunk_index_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        },
        "Enable write access for authenticated users": {
          "name": "Enable write access for authenticated users",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.document_insights": {
      "name": "document_insights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "document_id": {
          "name": "document_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "insight_type": {
          "name": "insight_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.0'"
        },
        "generated_by": {
          "name": "generated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'llama-3.1-8b'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "doc_title": {
          "name": "doc_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "business_impact": {
          "name": "business_impact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assignee": {
          "name": "assignee",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "financial_impact": {
          "name": "financial_impact",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "urgency_indicators": {
          "name": "urgency_indicators",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "resolved": {
          "name": "resolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "source_meetings": {
          "name": "source_meetings",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "dependencies": {
          "name": "dependencies",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "stakeholders_affected": {
          "name": "stakeholders_affected",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "exact_quotes": {
          "name": "exact_quotes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "numerical_data": {
          "name": "numerical_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "critical_path_impact": {
          "name": "critical_path_impact",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "cross_project_impact": {
          "name": "cross_project_impact",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        },
        "document_date": {
          "name": "document_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "project_name": {
          "name": "project_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_document_insights_created_at": {
          "name": "idx_document_insights_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_insights_doc_title": {
          "name": "idx_document_insights_doc_title",
          "columns": [
            {
              "expression": "to_tsvector('english'::regconfig, doc_title)",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_document_insights_document_date": {
          "name": "idx_document_insights_document_date",
          "columns": [
            {
              "expression": "document_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_insights_document_id": {
          "name": "idx_document_insights_document_id",
          "columns": [
            {
              "expression": "document_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_insights_project_id": {
          "name": "idx_document_insights_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_insights_project_name": {
          "name": "idx_document_insights_project_name",
          "columns": [
            {
              "expression": "project_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_insights_type": {
          "name": "idx_document_insights_type",
          "columns": [
            {
              "expression": "insight_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_insights_assignee": {
          "name": "idx_insights_assignee",
          "columns": [
            {
              "expression": "assignee",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_insights_critical_path": {
          "name": "idx_insights_critical_path",
          "columns": [
            {
              "expression": "critical_path_impact",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_insights_due_date": {
          "name": "idx_insights_due_date",
          "columns": [
            {
              "expression": "due_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_insights_resolved": {
          "name": "idx_insights_resolved",
          "columns": [
            {
              "expression": "resolved",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_insights_severity": {
          "name": "idx_insights_severity",
          "columns": [
            {
              "expression": "severity",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "document_insights_document_id_fkey": {
          "name": "document_insights_document_id_fkey",
          "tableFrom": "document_insights",
          "tableTo": "document_metadata",
          "schemaTo": "public",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "document_insights_confidence_score_check": {
          "name": "document_insights_confidence_score_check",
          "value": "(confidence_score >= 0.0) AND (confidence_score <= 1.0)"
        },
        "document_insights_severity_check": {
          "name": "document_insights_severity_check",
          "value": "(severity)::text = ANY ((ARRAY['critical'::character varying, 'high'::character varying, 'medium'::character varying, 'low'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.ai_tasks": {
      "name": "ai_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "source_document_id": {
          "name": "source_document_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assignee": {
          "name": "assignee",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'ai'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_tasks_due_date": {
          "name": "idx_ai_tasks_due_date",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "due_date",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_tasks_project_status": {
          "name": "idx_ai_tasks_project_status",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_tasks_project_id_fkey": {
          "name": "ai_tasks_project_id_fkey",
          "tableFrom": "ai_tasks",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ai_tasks_source_document_id_fkey": {
          "name": "ai_tasks_source_document_id_fkey",
          "tableFrom": "ai_tasks",
          "tableTo": "document_metadata",
          "schemaTo": "public",
          "columnsFrom": [
            "source_document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.ingestion_jobs": {
      "name": "ingestion_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "fireflies_id": {
          "name": "fireflies_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_id": {
          "name": "document_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_hash": {
          "name": "content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "finished_at": {
          "name": "finished_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "ux_ingestion_jobs_fireflies": {
          "name": "ux_ingestion_jobs_fireflies",
          "columns": [
            {
              "expression": "fireflies_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(fireflies_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "ingestion_jobs_document_id_fkey": {
          "name": "ingestion_jobs_document_id_fkey",
          "tableFrom": "ingestion_jobs",
          "tableTo": "document_metadata",
          "schemaTo": "public",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.ai_insights": {
      "name": "ai_insights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "ai_insights_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "insight_type": {
          "name": "insight_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_meetings": {
          "name": "source_meetings",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "resolved": {
          "name": "resolved",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "meeting_id": {
          "name": "meeting_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_name": {
          "name": "meeting_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_name": {
          "name": "project_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'open'"
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "business_impact": {
          "name": "business_impact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assignee": {
          "name": "assignee",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "dependencies": {
          "name": "dependencies",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "financial_impact": {
          "name": "financial_impact",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "timeline_impact_days": {
          "name": "timeline_impact_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stakeholders_affected": {
          "name": "stakeholders_affected",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "exact_quotes": {
          "name": "exact_quotes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "numerical_data": {
          "name": "numerical_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "urgency_indicators": {
          "name": "urgency_indicators",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "cross_project_impact": {
          "name": "cross_project_impact",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        },
        "chunks_id": {
          "name": "chunks_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_date": {
          "name": "meeting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "exact_quotes_text": {
          "name": "exact_quotes_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_ai_insights_assigned_to": {
          "name": "idx_ai_insights_assigned_to",
          "columns": [
            {
              "expression": "assigned_to",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(assigned_to IS NOT NULL)",
          "with": {}
        },
        "idx_ai_insights_chunks_id": {
          "name": "idx_ai_insights_chunks_id",
          "columns": [
            {
              "expression": "chunks_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_insights_created_at": {
          "name": "idx_ai_insights_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_insights_document_id": {
          "name": "idx_ai_insights_document_id",
          "columns": [
            {
              "expression": "document_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_insights_due_date": {
          "name": "idx_ai_insights_due_date",
          "columns": [
            {
              "expression": "due_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(due_date IS NOT NULL)",
          "with": {}
        },
        "idx_ai_insights_exact_quotes_search": {
          "name": "idx_ai_insights_exact_quotes_search",
          "columns": [
            {
              "expression": "to_tsvector('english'::regconfig, COALESCE((exact_quotes)::text",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "where": "(exact_quotes IS NOT NULL)",
          "with": {}
        },
        "idx_ai_insights_exact_quotes_tsv": {
          "name": "idx_ai_insights_exact_quotes_tsv",
          "columns": [
            {
              "expression": "to_tsvector('english'::regconfig, COALESCE(exact_quotes_text, '",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "where": "(exact_quotes_text IS NOT NULL)",
          "with": {}
        },
        "idx_ai_insights_meeting_name": {
          "name": "idx_ai_insights_meeting_name",
          "columns": [
            {
              "expression": "meeting_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_insights_project": {
          "name": "idx_ai_insights_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_insights_project_id": {
          "name": "idx_ai_insights_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_insights_project_name": {
          "name": "idx_ai_insights_project_name",
          "columns": [
            {
              "expression": "project_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_insights_status": {
          "name": "idx_ai_insights_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_insights_type": {
          "name": "idx_ai_insights_type",
          "columns": [
            {
              "expression": "insight_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_insights_chunks_id_fkey": {
          "name": "ai_insights_chunks_id_fkey",
          "tableFrom": "ai_insights",
          "tableTo": "chunks",
          "schemaTo": "public",
          "columnsFrom": [
            "chunks_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ai_insights_id_key": {
          "columns": [
            "id"
          ],
          "nullsNotDistinct": false,
          "name": "ai_insights_id_key"
        }
      },
      "checkConstraints": {
        "ai_insights_flexible_parent_check": {
          "name": "ai_insights_flexible_parent_check",
          "value": "(document_id IS NOT NULL) OR (meeting_id IS NOT NULL) OR ((document_id IS NULL) AND (meeting_id IS NULL))"
        },
        "ai_insights_insight_type_check": {
          "name": "ai_insights_insight_type_check",
          "value": "insight_type = ANY (ARRAY['action_item'::text, 'decision'::text, 'risk'::text, 'milestone'::text, 'fact'::text, 'blocker'::text, 'dependency'::text, 'budget_update'::text, 'timeline_change'::text, 'stakeholder_feedback'::text, 'technical_debt'::text])"
        },
        "ai_insights_severity_check": {
          "name": "ai_insights_severity_check",
          "value": "severity = ANY (ARRAY['low'::text, 'medium'::text, 'high'::text, 'critical'::text])"
        },
        "ai_insights_status_check": {
          "name": "ai_insights_status_check",
          "value": "status = ANY (ARRAY['open'::text, 'in_progress'::text, 'completed'::text, 'cancelled'::text])"
        }
      },
      "policies": {
        "Allow anon users to view ai_insights": {
          "name": "Allow anon users to view ai_insights",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "anon"
          ],
          "using": "true"
        },
        "Allow authenticated users full access to ai_insights": {
          "name": "Allow authenticated users full access to ai_insights",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ]
        },
        "ai_insights_select_project_visible": {
          "name": "ai_insights_select_project_visible",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.daily_log_equipment": {
      "name": "daily_log_equipment",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "daily_log_id": {
          "name": "daily_log_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "equipment_name": {
          "name": "equipment_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "hours_operated": {
          "name": "hours_operated",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "hours_idle": {
          "name": "hours_idle",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "daily_log_equipment_daily_log_id_fkey": {
          "name": "daily_log_equipment_daily_log_id_fkey",
          "tableFrom": "daily_log_equipment",
          "tableTo": "daily_logs",
          "schemaTo": "public",
          "columnsFrom": [
            "daily_log_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.daily_logs": {
      "name": "daily_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "log_date": {
          "name": "log_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "weather_conditions": {
          "name": "weather_conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "daily_logs_created_by_fkey": {
          "name": "daily_logs_created_by_fkey",
          "tableFrom": "daily_logs",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "daily_logs_project_id_fkey": {
          "name": "daily_logs_project_id_fkey",
          "tableFrom": "daily_logs",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "daily_logs_project_id_log_date_key": {
          "columns": [
            "project_id",
            "log_date"
          ],
          "nullsNotDistinct": false,
          "name": "daily_logs_project_id_log_date_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.daily_log_manpower": {
      "name": "daily_log_manpower",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "daily_log_id": {
          "name": "daily_log_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "trade": {
          "name": "trade",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "workers_count": {
          "name": "workers_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "hours_worked": {
          "name": "hours_worked",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "daily_log_manpower_company_id_fkey": {
          "name": "daily_log_manpower_company_id_fkey",
          "tableFrom": "daily_log_manpower",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "daily_log_manpower_daily_log_id_fkey": {
          "name": "daily_log_manpower_daily_log_id_fkey",
          "tableFrom": "daily_log_manpower",
          "tableTo": "daily_logs",
          "schemaTo": "public",
          "columnsFrom": [
            "daily_log_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.daily_log_notes": {
      "name": "daily_log_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "daily_log_id": {
          "name": "daily_log_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "daily_log_notes_daily_log_id_fkey": {
          "name": "daily_log_notes_daily_log_id_fkey",
          "tableFrom": "daily_log_notes",
          "tableTo": "daily_logs",
          "schemaTo": "public",
          "columnsFrom": [
            "daily_log_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.cost_forecasts": {
      "name": "cost_forecasts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "budget_item_id": {
          "name": "budget_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "forecast_date": {
          "name": "forecast_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "forecast_to_complete": {
          "name": "forecast_to_complete",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "cost_forecasts_created_by_fkey": {
          "name": "cost_forecasts_created_by_fkey",
          "tableFrom": "cost_forecasts",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "cost_forecasts_budget_item_id_forecast_date_key": {
          "columns": [
            "budget_item_id",
            "forecast_date"
          ],
          "nullsNotDistinct": false,
          "name": "cost_forecasts_budget_item_id_forecast_date_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.sub_jobs": {
      "name": "sub_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_sub_jobs_active": {
          "name": "idx_sub_jobs_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_sub_jobs_project": {
          "name": "idx_sub_jobs_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sub_jobs_project_id_fkey": {
          "name": "sub_jobs_project_id_fkey",
          "tableFrom": "sub_jobs",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_subjob_code": {
          "columns": [
            "project_id",
            "code"
          ],
          "nullsNotDistinct": false,
          "name": "uq_subjob_code"
        }
      },
      "checkConstraints": {},
      "policies": {
        "sub_jobs_read": {
          "name": "sub_jobs_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(auth.uid() IS NOT NULL)"
        },
        "sub_jobs_write": {
          "name": "sub_jobs_write",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.direct_cost_line_items": {
      "name": "direct_cost_line_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "budget_code_id": {
          "name": "budget_code_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cost_code_id": {
          "name": "cost_code_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_date": {
          "name": "transaction_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "vendor_name": {
          "name": "vendor_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_number": {
          "name": "invoice_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "approved": {
          "name": "approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cost_type": {
          "name": "cost_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_direct_cost_line_items_approved": {
          "name": "idx_direct_cost_line_items_approved",
          "columns": [
            {
              "expression": "approved",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_direct_cost_line_items_budget": {
          "name": "idx_direct_cost_line_items_budget",
          "columns": [
            {
              "expression": "budget_code_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(budget_code_id IS NOT NULL)",
          "with": {}
        },
        "idx_direct_cost_line_items_cost_code": {
          "name": "idx_direct_cost_line_items_cost_code",
          "columns": [
            {
              "expression": "cost_code_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(cost_code_id IS NOT NULL)",
          "with": {}
        },
        "idx_direct_cost_line_items_date": {
          "name": "idx_direct_cost_line_items_date",
          "columns": [
            {
              "expression": "transaction_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_direct_cost_line_items_project": {
          "name": "idx_direct_cost_line_items_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "direct_cost_line_items_approved_by_fkey": {
          "name": "direct_cost_line_items_approved_by_fkey",
          "tableFrom": "direct_cost_line_items",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "direct_cost_line_items_cost_code_id_fkey": {
          "name": "direct_cost_line_items_cost_code_id_fkey",
          "tableFrom": "direct_cost_line_items",
          "tableTo": "cost_codes",
          "schemaTo": "public",
          "columnsFrom": [
            "cost_code_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "direct_cost_line_items_created_by_fkey": {
          "name": "direct_cost_line_items_created_by_fkey",
          "tableFrom": "direct_cost_line_items",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "direct_cost_line_items_project_id_fkey": {
          "name": "direct_cost_line_items_project_id_fkey",
          "tableFrom": "direct_cost_line_items",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "direct_cost_line_items_read": {
          "name": "direct_cost_line_items_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(auth.uid() IS NOT NULL)"
        },
        "direct_cost_line_items_write": {
          "name": "direct_cost_line_items_write",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.companies": {
      "name": "companies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "currency_symbol": {
          "name": "currency_symbol",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'$'"
        },
        "currency_code": {
          "name": "currency_code",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Allow authenticated users select": {
          "name": "Allow authenticated users select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": false
    },
    "public.forecasting_curves": {
      "name": "forecasting_curves",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "curve_type": {
          "name": "curve_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "curve_config": {
          "name": "curve_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_forecasting_curves_active": {
          "name": "idx_forecasting_curves_active",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_forecasting_curves_company": {
          "name": "idx_forecasting_curves_company",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "forecasting_curves_company_id_fkey": {
          "name": "forecasting_curves_company_id_fkey",
          "tableFrom": "forecasting_curves",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "forecasting_curves_created_by_fkey": {
          "name": "forecasting_curves_created_by_fkey",
          "tableFrom": "forecasting_curves",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "forecasting_curves_updated_by_fkey": {
          "name": "forecasting_curves_updated_by_fkey",
          "tableFrom": "forecasting_curves",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "forecasting_curves_company_name_unique": {
          "columns": [
            "company_id",
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "forecasting_curves_company_name_unique"
        }
      },
      "checkConstraints": {
        "forecasting_curves_curve_type_check": {
          "name": "forecasting_curves_curve_type_check",
          "value": "(curve_type)::text = ANY ((ARRAY['linear'::character varying, 's_curve'::character varying, 'custom'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": true
    },
    "public.financial_contracts": {
      "name": "financial_contracts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "contract_number": {
          "name": "contract_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "contract_type": {
          "name": "contract_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "subcontractor_id": {
          "name": "subcontractor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "contract_amount": {
          "name": "contract_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "change_order_amount": {
          "name": "change_order_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "revised_amount": {
          "name": "revised_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "(contract_amount + change_order_amount)",
            "type": "stored"
          }
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "financial_contracts_company_id_fkey": {
          "name": "financial_contracts_company_id_fkey",
          "tableFrom": "financial_contracts",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "financial_contracts_created_by_fkey": {
          "name": "financial_contracts_created_by_fkey",
          "tableFrom": "financial_contracts",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "financial_contracts_project_id_fkey": {
          "name": "financial_contracts_project_id_fkey",
          "tableFrom": "financial_contracts",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "financial_contracts_subcontractor_id_fkey": {
          "name": "financial_contracts_subcontractor_id_fkey",
          "tableFrom": "financial_contracts",
          "tableTo": "subcontractors",
          "schemaTo": "public",
          "columnsFrom": [
            "subcontractor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "financial_contracts_contract_number_key": {
          "columns": [
            "contract_number"
          ],
          "nullsNotDistinct": false,
          "name": "financial_contracts_contract_number_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.schedule_of_values": {
      "name": "schedule_of_values",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "contract_id": {
          "name": "contract_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "commitment_id": {
          "name": "commitment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "total_amount": {
          "name": "total_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_schedule_of_values_commitment": {
          "name": "idx_schedule_of_values_commitment",
          "columns": [
            {
              "expression": "commitment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_schedule_of_values_contract": {
          "name": "idx_schedule_of_values_contract",
          "columns": [
            {
              "expression": "contract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_schedule_of_values_status": {
          "name": "idx_schedule_of_values_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "schedule_of_values_approved_by_fkey": {
          "name": "schedule_of_values_approved_by_fkey",
          "tableFrom": "schedule_of_values",
          "tableTo": "app_users",
          "schemaTo": "public",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "schedule_of_values_commitment_id_fkey": {
          "name": "schedule_of_values_commitment_id_fkey",
          "tableFrom": "schedule_of_values",
          "tableTo": "commitments",
          "schemaTo": "public",
          "columnsFrom": [
            "commitment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "schedule_of_values_contract_id_fkey": {
          "name": "schedule_of_values_contract_id_fkey",
          "tableFrom": "schedule_of_values",
          "tableTo": "contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "either_contract_or_commitment": {
          "name": "either_contract_or_commitment",
          "value": "((contract_id IS NOT NULL) AND (commitment_id IS NULL)) OR ((contract_id IS NULL) AND (commitment_id IS NOT NULL))"
        },
        "schedule_of_values_status_check": {
          "name": "schedule_of_values_status_check",
          "value": "status = ANY (ARRAY['draft'::text, 'pending_approval'::text, 'approved'::text, 'revised'::text])"
        }
      },
      "policies": {
        "Users can view SOVs for their projects": {
          "name": "Users can view SOVs for their projects",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        },
        "Users can manage SOVs for their projects": {
          "name": "Users can manage SOVs for their projects",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.app_users": {
      "name": "app_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "full_name": {
          "name": "full_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'viewer'"
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_app_users_email": {
          "name": "idx_app_users_email",
          "columns": [
            {
              "expression": "email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "app_users_email_key": {
          "columns": [
            "email"
          ],
          "nullsNotDistinct": false,
          "name": "app_users_email_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Service role can manage all users": {
          "name": "Service role can manage all users",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "withCheck": "true",
          "using": "true"
        },
        "Users can read own data": {
          "name": "Users can read own data",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Service role can insert users": {
          "name": "Service role can insert users",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Users can update own data": {
          "name": "Users can update own data",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.daily_recaps": {
      "name": "daily_recaps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "recap_date": {
          "name": "recap_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "date_range_start": {
          "name": "date_range_start",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "date_range_end": {
          "name": "date_range_end",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "recap_text": {
          "name": "recap_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recap_html": {
          "name": "recap_html",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_count": {
          "name": "meeting_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "project_count": {
          "name": "project_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "meetings_analyzed": {
          "name": "meetings_analyzed",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "risks": {
          "name": "risks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "decisions": {
          "name": "decisions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "blockers": {
          "name": "blockers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "commitments": {
          "name": "commitments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "wins": {
          "name": "wins",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "sent_email": {
          "name": "sent_email",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sent_teams": {
          "name": "sent_teams",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "recipients": {
          "name": "recipients",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "generation_time_seconds": {
          "name": "generation_time_seconds",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "model_used": {
          "name": "model_used",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'gpt-4o'"
        }
      },
      "indexes": {
        "idx_daily_recaps_date": {
          "name": "idx_daily_recaps_date",
          "columns": [
            {
              "expression": "recap_date",
              "asc": false,
              "nulls": "first",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.todos": {
      "name": "todos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "todos_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "task": {
          "name": "task",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_complete": {
          "name": "is_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "inserted_at": {
          "name": "inserted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "timezone('utc'::text, now())"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "todos_user_id_fkey": {
          "name": "todos_user_id_fkey",
          "tableFrom": "todos",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "todos_task_check": {
          "name": "todos_task_check",
          "value": "char_length(task) > 3"
        }
      },
      "policies": {
        "Individuals can create todos.": {
          "name": "Individuals can create todos.",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(auth.uid() = user_id)"
        },
        "Individuals can view their own todos. ": {
          "name": "Individuals can view their own todos. ",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Individuals can update their own todos.": {
          "name": "Individuals can update their own todos.",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Individuals can delete their own todos.": {
          "name": "Individuals can delete their own todos.",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.sov_line_items": {
      "name": "sov_line_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "sov_id": {
          "name": "sov_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "line_number": {
          "name": "line_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cost_code_id": {
          "name": "cost_code_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_value": {
          "name": "scheduled_value",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_sov_line_items_cost_code": {
          "name": "idx_sov_line_items_cost_code",
          "columns": [
            {
              "expression": "cost_code_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sov_line_items_sov": {
          "name": "idx_sov_line_items_sov",
          "columns": [
            {
              "expression": "sov_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sov_line_items_sov_id_fkey": {
          "name": "sov_line_items_sov_id_fkey",
          "tableFrom": "sov_line_items",
          "tableTo": "schedule_of_values",
          "schemaTo": "public",
          "columnsFrom": [
            "sov_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Users can view SOV line items": {
          "name": "Users can view SOV line items",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        },
        "Users can manage SOV line items": {
          "name": "Users can manage SOV line items",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.vertical_markup": {
      "name": "vertical_markup",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "markup_type": {
          "name": "markup_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "percentage": {
          "name": "percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "calculation_order": {
          "name": "calculation_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "compound": {
          "name": "compound",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_vertical_markup_project": {
          "name": "idx_vertical_markup_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "vertical_markup_project_id_fkey": {
          "name": "vertical_markup_project_id_fkey",
          "tableFrom": "vertical_markup",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "vertical_markup_project_id_markup_type_key": {
          "columns": [
            "project_id",
            "markup_type"
          ],
          "nullsNotDistinct": false,
          "name": "vertical_markup_project_id_markup_type_key"
        }
      },
      "checkConstraints": {
        "vertical_markup_markup_type_check": {
          "name": "vertical_markup_markup_type_check",
          "value": "markup_type = ANY (ARRAY['insurance'::text, 'bond'::text, 'fee'::text, 'overhead'::text, 'custom'::text])"
        },
        "vertical_markup_percentage_check": {
          "name": "vertical_markup_percentage_check",
          "value": "(percentage >= (0)::numeric) AND (percentage <= (100)::numeric)"
        }
      },
      "policies": {
        "Users can view vertical markup": {
          "name": "Users can view vertical markup",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        },
        "Users can manage vertical markup": {
          "name": "Users can manage vertical markup",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.contracts": {
      "name": "contracts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "contracts_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "contract_number": {
          "name": "contract_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "erp_status": {
          "name": "erp_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "executed": {
          "name": "executed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "original_contract_amount": {
          "name": "original_contract_amount",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "approved_change_orders": {
          "name": "approved_change_orders",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "revised_contract_amount": {
          "name": "revised_contract_amount",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "pending_change_orders": {
          "name": "pending_change_orders",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "draft_change_orders": {
          "name": "draft_change_orders",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "invoiced_amount": {
          "name": "invoiced_amount",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "payments_received": {
          "name": "payments_received",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "percent_paid": {
          "name": "percent_paid",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "\nCASE\n    WHEN (revised_contract_amount > (0)::numeric) THEN ((payments_received / revised_contract_amount) * (100)::numeric)\n    ELSE (0)::numeric\nEND",
            "type": "stored"
          }
        },
        "remaining_balance": {
          "name": "remaining_balance",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "private": {
          "name": "private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "attachment_count": {
          "name": "attachment_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retention_percentage": {
          "name": "retention_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "apply_vertical_markup": {
          "name": "apply_vertical_markup",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "owner_client_id": {
          "name": "owner_client_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "contractor_id": {
          "name": "contractor_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "architect_engineer_id": {
          "name": "architect_engineer_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_completion_date": {
          "name": "estimated_completion_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "substantial_completion_date": {
          "name": "substantial_completion_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "actual_completion_date": {
          "name": "actual_completion_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "signed_contract_received_date": {
          "name": "signed_contract_received_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "contract_termination_date": {
          "name": "contract_termination_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "inclusions": {
          "name": "inclusions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "exclusions": {
          "name": "exclusions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_retainage": {
          "name": "default_retainage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'10'"
        }
      },
      "indexes": {
        "idx_contracts_client_id": {
          "name": "idx_contracts_client_id",
          "columns": [
            {
              "expression": "client_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contracts_erp_status": {
          "name": "idx_contracts_erp_status",
          "columns": [
            {
              "expression": "erp_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contracts_project_id": {
          "name": "idx_contracts_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contracts_status": {
          "name": "idx_contracts_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "contracts_architect_engineer_id_fkey": {
          "name": "contracts_architect_engineer_id_fkey",
          "tableFrom": "contracts",
          "tableTo": "clients",
          "schemaTo": "public",
          "columnsFrom": [
            "architect_engineer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contracts_client_id_fkey": {
          "name": "contracts_client_id_fkey",
          "tableFrom": "contracts",
          "tableTo": "clients",
          "schemaTo": "public",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "contracts_contractor_id_fkey": {
          "name": "contracts_contractor_id_fkey",
          "tableFrom": "contracts",
          "tableTo": "clients",
          "schemaTo": "public",
          "columnsFrom": [
            "contractor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contracts_owner_client_id_fkey": {
          "name": "contracts_owner_client_id_fkey",
          "tableFrom": "contracts",
          "tableTo": "clients",
          "schemaTo": "public",
          "columnsFrom": [
            "owner_client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contracts_project_id_fkey": {
          "name": "contracts_project_id_fkey",
          "tableFrom": "contracts",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "contracts_default_retainage_check": {
          "name": "contracts_default_retainage_check",
          "value": "(default_retainage >= (0)::numeric) AND (default_retainage <= (100)::numeric)"
        },
        "contracts_retention_percentage_check": {
          "name": "contracts_retention_percentage_check",
          "value": "(retention_percentage >= (0)::numeric) AND (retention_percentage <= (100)::numeric)"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.cost_codes": {
      "name": "cost_codes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "division_id": {
          "name": "division_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "division_title": {
          "name": "division_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'True'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "cost_codes_division_id_fkey": {
          "name": "cost_codes_division_id_fkey",
          "tableFrom": "cost_codes",
          "tableTo": "cost_code_divisions",
          "schemaTo": "public",
          "columnsFrom": [
            "division_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.project_cost_codes": {
      "name": "project_cost_codes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "cost_code_id": {
          "name": "cost_code_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cost_type_id": {
          "name": "cost_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "default": "'f3f04b56-0bd1-5c8e-a57b-7c46c5b45b18'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "project_cost_codes_code_idx": {
          "name": "project_cost_codes_code_idx",
          "columns": [
            {
              "expression": "cost_code_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "project_cost_codes_project_idx": {
          "name": "project_cost_codes_project_idx",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_cost_codes_cost_code_id_fkey": {
          "name": "project_cost_codes_cost_code_id_fkey",
          "tableFrom": "project_cost_codes",
          "tableTo": "cost_codes",
          "schemaTo": "public",
          "columnsFrom": [
            "cost_code_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "project_cost_codes_cost_type_id_fkey": {
          "name": "project_cost_codes_cost_type_id_fkey",
          "tableFrom": "project_cost_codes",
          "tableTo": "cost_code_types",
          "schemaTo": "public",
          "columnsFrom": [
            "cost_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "project_cost_codes_project_id_fkey": {
          "name": "project_cost_codes_project_id_fkey",
          "tableFrom": "project_cost_codes",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.cost_code_types": {
      "name": "cost_code_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "cost_code_types_code_key": {
          "columns": [
            "code"
          ],
          "nullsNotDistinct": false,
          "name": "cost_code_types_code_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.commitments": {
      "name": "commitments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "budget_item_id": {
          "name": "budget_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "vendor_id": {
          "name": "vendor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contract_amount": {
          "name": "contract_amount",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "executed_at": {
          "name": "executed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "retention_percentage": {
          "name": "retention_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        }
      },
      "indexes": {
        "idx_commitments_project": {
          "name": "idx_commitments_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_commitments_status": {
          "name": "idx_commitments_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_commitments_vendor": {
          "name": "idx_commitments_vendor",
          "columns": [
            {
              "expression": "vendor_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "commitments_project_id_fkey": {
          "name": "commitments_project_id_fkey",
          "tableFrom": "commitments",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "commitments_retention_percentage_check": {
          "name": "commitments_retention_percentage_check",
          "value": "(retention_percentage >= (0)::numeric) AND (retention_percentage <= (100)::numeric)"
        },
        "commitments_status_check": {
          "name": "commitments_status_check",
          "value": "status = ANY (ARRAY['draft'::text, 'pending'::text, 'executed'::text, 'closed'::text, 'approved'::text])"
        }
      },
      "policies": {
        "Users can view commitments in their projects": {
          "name": "Users can view commitments in their projects",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM project_members\n  WHERE ((project_members.project_id = commitments.project_id) AND (project_members.user_id = auth.uid()))))"
        },
        "Editors can create commitments": {
          "name": "Editors can create commitments",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Editors can update commitments": {
          "name": "Editors can update commitments",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.subcontract_sov_items": {
      "name": "subcontract_sov_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "subcontract_id": {
          "name": "subcontract_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "line_number": {
          "name": "line_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "change_event_line_item": {
          "name": "change_event_line_item",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "budget_code": {
          "name": "budget_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "billed_to_date": {
          "name": "billed_to_date",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_sov_items_budget_code": {
          "name": "idx_sov_items_budget_code",
          "columns": [
            {
              "expression": "budget_code",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sov_items_sort_order": {
          "name": "idx_sov_items_sort_order",
          "columns": [
            {
              "expression": "subcontract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "sort_order",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sov_items_subcontract_id": {
          "name": "idx_sov_items_subcontract_id",
          "columns": [
            {
              "expression": "subcontract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "subcontract_sov_items_subcontract_id_fkey": {
          "name": "subcontract_sov_items_subcontract_id_fkey",
          "tableFrom": "subcontract_sov_items",
          "tableTo": "subcontracts",
          "schemaTo": "public",
          "columnsFrom": [
            "subcontract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sov_line_number_unique": {
          "columns": [
            "subcontract_id",
            "line_number"
          ],
          "nullsNotDistinct": false,
          "name": "sov_line_number_unique"
        }
      },
      "checkConstraints": {
        "subcontract_sov_items_amount_check": {
          "name": "subcontract_sov_items_amount_check",
          "value": "amount >= (0)::numeric"
        },
        "subcontract_sov_items_billed_to_date_check": {
          "name": "subcontract_sov_items_billed_to_date_check",
          "value": "billed_to_date >= (0)::numeric"
        }
      },
      "policies": {
        "Users can view SOV items": {
          "name": "Users can view SOV items",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (subcontracts s\n     JOIN project_users pu ON ((pu.project_id = s.project_id)))\n  WHERE ((s.id = subcontract_sov_items.subcontract_id) AND (pu.user_id = auth.uid()) AND ((s.is_private = false) OR (auth.uid() = ANY (s.non_admin_user_ids)) OR ((s.allow_non_admin_view_sov_items = true) AND (auth.uid() = ANY (s.non_admin_user_ids)))))))"
        },
        "Users can manage SOV items": {
          "name": "Users can manage SOV items",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.subcontracts": {
      "name": "subcontracts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "contract_number": {
          "name": "contract_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contract_company_id": {
          "name": "contract_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'Draft'"
        },
        "executed": {
          "name": "executed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "default_retainage_percent": {
          "name": "default_retainage_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "inclusions": {
          "name": "inclusions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "exclusions": {
          "name": "exclusions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_completion_date": {
          "name": "estimated_completion_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actual_completion_date": {
          "name": "actual_completion_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contract_date": {
          "name": "contract_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "signed_contract_received_date": {
          "name": "signed_contract_received_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "issued_on_date": {
          "name": "issued_on_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_private": {
          "name": "is_private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "non_admin_user_ids": {
          "name": "non_admin_user_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "allow_non_admin_view_sov_items": {
          "name": "allow_non_admin_view_sov_items",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "invoice_contact_ids": {
          "name": "invoice_contact_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_subcontracts_company_id": {
          "name": "idx_subcontracts_company_id",
          "columns": [
            {
              "expression": "contract_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_subcontracts_contract_number": {
          "name": "idx_subcontracts_contract_number",
          "columns": [
            {
              "expression": "contract_number",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_subcontracts_created_at": {
          "name": "idx_subcontracts_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_subcontracts_project_id": {
          "name": "idx_subcontracts_project_id",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_subcontracts_status": {
          "name": "idx_subcontracts_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "subcontracts_contract_company_id_fkey": {
          "name": "subcontracts_contract_company_id_fkey",
          "tableFrom": "subcontracts",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "contract_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subcontracts_created_by_fkey": {
          "name": "subcontracts_created_by_fkey",
          "tableFrom": "subcontracts",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subcontracts_project_id_fkey": {
          "name": "subcontracts_project_id_fkey",
          "tableFrom": "subcontracts",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "contract_number_project_unique": {
          "columns": [
            "contract_number",
            "project_id"
          ],
          "nullsNotDistinct": false,
          "name": "contract_number_project_unique"
        }
      },
      "checkConstraints": {
        "subcontracts_default_retainage_percent_check": {
          "name": "subcontracts_default_retainage_percent_check",
          "value": "(default_retainage_percent >= (0)::numeric) AND (default_retainage_percent <= (100)::numeric)"
        },
        "subcontracts_status_check": {
          "name": "subcontracts_status_check",
          "value": "status = ANY (ARRAY['Draft'::text, 'Sent'::text, 'Pending'::text, 'Approved'::text, 'Executed'::text, 'Closed'::text, 'Void'::text])"
        }
      },
      "policies": {
        "Users can view subcontracts for their projects": {
          "name": "Users can view subcontracts for their projects",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "((EXISTS ( SELECT 1\n   FROM project_users pu\n  WHERE ((pu.project_id = subcontracts.project_id) AND (pu.user_id = auth.uid())))) OR (is_private = false) OR ((is_private = true) AND (auth.uid() = ANY (non_admin_user_ids))))"
        },
        "Users can create subcontracts for their projects": {
          "name": "Users can create subcontracts for their projects",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Users can update subcontracts for their projects": {
          "name": "Users can update subcontracts for their projects",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Users can delete subcontracts for their projects": {
          "name": "Users can delete subcontracts for their projects",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.project_directory": {
      "name": "project_directory",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_project_directory_company": {
          "name": "idx_project_directory_company",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_project_directory_project": {
          "name": "idx_project_directory_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_directory_company_id_fkey": {
          "name": "project_directory_company_id_fkey",
          "tableFrom": "project_directory",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "project_directory_project_id_fkey": {
          "name": "project_directory_project_id_fkey",
          "tableFrom": "project_directory",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "project_directory_project_id_company_id_role_key": {
          "columns": [
            "project_id",
            "company_id",
            "role"
          ],
          "nullsNotDistinct": false,
          "name": "project_directory_project_id_company_id_role_key"
        }
      },
      "checkConstraints": {
        "project_directory_role_check": {
          "name": "project_directory_role_check",
          "value": "role = ANY (ARRAY['owner'::text, 'architect'::text, 'engineer'::text, 'subcontractor'::text, 'vendor'::text])"
        }
      },
      "policies": {
        "Users can view project directory": {
          "name": "Users can view project directory",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        },
        "Users can manage project directory": {
          "name": "Users can manage project directory",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.prime_contracts": {
      "name": "prime_contracts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "contract_number": {
          "name": "contract_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "vendor_id": {
          "name": "vendor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "original_contract_value": {
          "name": "original_contract_value",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "revised_contract_value": {
          "name": "revised_contract_value",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "retention_percentage": {
          "name": "retention_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "payment_terms": {
          "name": "payment_terms",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_schedule": {
          "name": "billing_schedule",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_prime_contracts_created_at": {
          "name": "idx_prime_contracts_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_prime_contracts_created_by": {
          "name": "idx_prime_contracts_created_by",
          "columns": [
            {
              "expression": "created_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_prime_contracts_number": {
          "name": "idx_prime_contracts_number",
          "columns": [
            {
              "expression": "contract_number",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_prime_contracts_project": {
          "name": "idx_prime_contracts_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_prime_contracts_status": {
          "name": "idx_prime_contracts_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_prime_contracts_vendor": {
          "name": "idx_prime_contracts_vendor",
          "columns": [
            {
              "expression": "vendor_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "prime_contracts_created_by_fkey": {
          "name": "prime_contracts_created_by_fkey",
          "tableFrom": "prime_contracts",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "prime_contracts_project_id_fkey": {
          "name": "prime_contracts_project_id_fkey",
          "tableFrom": "prime_contracts",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "prime_contracts_vendor_id_fkey": {
          "name": "prime_contracts_vendor_id_fkey",
          "tableFrom": "prime_contracts",
          "tableTo": "vendors",
          "schemaTo": "public",
          "columnsFrom": [
            "vendor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "prime_contracts_project_id_contract_number_key": {
          "columns": [
            "project_id",
            "contract_number"
          ],
          "nullsNotDistinct": false,
          "name": "prime_contracts_project_id_contract_number_key"
        }
      },
      "checkConstraints": {
        "prime_contracts_original_contract_value_check": {
          "name": "prime_contracts_original_contract_value_check",
          "value": "original_contract_value >= (0)::numeric"
        },
        "prime_contracts_retention_percentage_check": {
          "name": "prime_contracts_retention_percentage_check",
          "value": "(retention_percentage >= (0)::numeric) AND (retention_percentage <= (100)::numeric)"
        },
        "prime_contracts_revised_contract_value_check": {
          "name": "prime_contracts_revised_contract_value_check",
          "value": "revised_contract_value >= (0)::numeric"
        },
        "prime_contracts_status_check": {
          "name": "prime_contracts_status_check",
          "value": "status = ANY (ARRAY['draft'::text, 'active'::text, 'completed'::text, 'cancelled'::text, 'on_hold'::text])"
        },
        "valid_date_range": {
          "name": "valid_date_range",
          "value": "(end_date IS NULL) OR (start_date IS NULL) OR (end_date >= start_date)"
        }
      },
      "policies": {
        "Users can view contracts in their projects": {
          "name": "Users can view contracts in their projects",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM project_members\n  WHERE ((project_members.project_id = prime_contracts.project_id) AND (project_members.user_id = auth.uid()))))"
        },
        "Editors can create contracts": {
          "name": "Editors can create contracts",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Editors can update contracts": {
          "name": "Editors can update contracts",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Admins can delete contracts": {
          "name": "Admins can delete contracts",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.subcontract_attachments": {
      "name": "subcontract_attachments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "subcontract_id": {
          "name": "subcontract_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "file_type": {
          "name": "file_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "storage_path": {
          "name": "storage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_attachments_subcontract_id": {
          "name": "idx_attachments_subcontract_id",
          "columns": [
            {
              "expression": "subcontract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "subcontract_attachments_subcontract_id_fkey": {
          "name": "subcontract_attachments_subcontract_id_fkey",
          "tableFrom": "subcontract_attachments",
          "tableTo": "subcontracts",
          "schemaTo": "public",
          "columnsFrom": [
            "subcontract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "subcontract_attachments_uploaded_by_fkey": {
          "name": "subcontract_attachments_uploaded_by_fkey",
          "tableFrom": "subcontract_attachments",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Users can view attachments": {
          "name": "Users can view attachments",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (subcontracts s\n     JOIN project_users pu ON ((pu.project_id = s.project_id)))\n  WHERE ((s.id = subcontract_attachments.subcontract_id) AND (pu.user_id = auth.uid()))))"
        },
        "Users can manage attachments": {
          "name": "Users can manage attachments",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.budget_views": {
      "name": "budget_views",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_budget_views_default": {
          "name": "idx_budget_views_default",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_default",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_default = true)",
          "with": {}
        },
        "idx_budget_views_project": {
          "name": "idx_budget_views_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "budget_views_created_by_fkey": {
          "name": "budget_views_created_by_fkey",
          "tableFrom": "budget_views",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "budget_views_project_id_fkey": {
          "name": "budget_views_project_id_fkey",
          "tableFrom": "budget_views",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "budget_views_project_id_name_key": {
          "columns": [
            "project_id",
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "budget_views_project_id_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "budget_views_select_policy": {
          "name": "budget_views_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(project_id IN ( SELECT p.id\n   FROM (projects p\n     JOIN project_users pu ON ((p.id = pu.project_id)))\n  WHERE (pu.user_id = auth.uid())))"
        },
        "budget_views_insert_policy": {
          "name": "budget_views_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "budget_views_update_policy": {
          "name": "budget_views_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "budget_views_delete_policy": {
          "name": "budget_views_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.budget_view_columns": {
      "name": "budget_view_columns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "view_id": {
          "name": "view_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "column_key": {
          "name": "column_key",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_visible": {
          "name": "is_visible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_locked": {
          "name": "is_locked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_budget_view_columns_order": {
          "name": "idx_budget_view_columns_order",
          "columns": [
            {
              "expression": "view_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "display_order",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_budget_view_columns_view": {
          "name": "idx_budget_view_columns_view",
          "columns": [
            {
              "expression": "view_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "budget_view_columns_view_id_fkey": {
          "name": "budget_view_columns_view_id_fkey",
          "tableFrom": "budget_view_columns",
          "tableTo": "budget_views",
          "schemaTo": "public",
          "columnsFrom": [
            "view_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "budget_view_columns_view_id_column_key_key": {
          "columns": [
            "view_id",
            "column_key"
          ],
          "nullsNotDistinct": false,
          "name": "budget_view_columns_view_id_column_key_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "budget_view_columns_select_policy": {
          "name": "budget_view_columns_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(view_id IN ( SELECT bv.id\n   FROM ((budget_views bv\n     JOIN projects p ON ((bv.project_id = p.id)))\n     JOIN project_users pu ON ((p.id = pu.project_id)))\n  WHERE (pu.user_id = auth.uid())))"
        },
        "budget_view_columns_insert_policy": {
          "name": "budget_view_columns_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "budget_view_columns_update_policy": {
          "name": "budget_view_columns_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "budget_view_columns_delete_policy": {
          "name": "budget_view_columns_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.contract_line_items": {
      "name": "contract_line_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "contract_id": {
          "name": "contract_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "line_number": {
          "name": "line_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cost_code_id": {
          "name": "cost_code_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "unit_of_measure": {
          "name": "unit_of_measure",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "unit_cost": {
          "name": "unit_cost",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_cost": {
          "name": "total_cost",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "(quantity * unit_cost)",
            "type": "stored"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_contract_line_items_contract": {
          "name": "idx_contract_line_items_contract",
          "columns": [
            {
              "expression": "contract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contract_line_items_cost_code": {
          "name": "idx_contract_line_items_cost_code",
          "columns": [
            {
              "expression": "cost_code_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contract_line_items_created_at": {
          "name": "idx_contract_line_items_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "contract_line_items_contract_id_fkey": {
          "name": "contract_line_items_contract_id_fkey",
          "tableFrom": "contract_line_items",
          "tableTo": "prime_contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "contract_line_items_contract_id_line_number_key": {
          "columns": [
            "contract_id",
            "line_number"
          ],
          "nullsNotDistinct": false,
          "name": "contract_line_items_contract_id_line_number_key"
        }
      },
      "checkConstraints": {
        "contract_line_items_quantity_check": {
          "name": "contract_line_items_quantity_check",
          "value": "quantity >= (0)::numeric"
        },
        "contract_line_items_unit_cost_check": {
          "name": "contract_line_items_unit_cost_check",
          "value": "unit_cost >= (0)::numeric"
        }
      },
      "policies": {
        "Users can view line items in their projects": {
          "name": "Users can view line items in their projects",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (prime_contracts\n     JOIN project_members ON ((project_members.project_id = prime_contracts.project_id)))\n  WHERE ((prime_contracts.id = contract_line_items.contract_id) AND (project_members.user_id = auth.uid()))))"
        },
        "Editors can create line items": {
          "name": "Editors can create line items",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Editors can update line items": {
          "name": "Editors can update line items",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Admins can delete line items": {
          "name": "Admins can delete line items",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.change_order_lines": {
      "name": "change_order_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "change_order_id": {
          "name": "change_order_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "sub_job_id": {
          "name": "sub_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cost_code_id": {
          "name": "cost_code_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cost_type_id": {
          "name": "cost_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_co_lines_change_order": {
          "name": "idx_co_lines_change_order",
          "columns": [
            {
              "expression": "change_order_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_co_lines_cost_code": {
          "name": "idx_co_lines_cost_code",
          "columns": [
            {
              "expression": "cost_code_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_co_lines_cost_type": {
          "name": "idx_co_lines_cost_type",
          "columns": [
            {
              "expression": "cost_type_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_co_lines_project": {
          "name": "idx_co_lines_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "change_order_lines_change_order_id_fkey": {
          "name": "change_order_lines_change_order_id_fkey",
          "tableFrom": "change_order_lines",
          "tableTo": "change_orders",
          "schemaTo": "public",
          "columnsFrom": [
            "change_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "change_order_lines_cost_code_id_fkey": {
          "name": "change_order_lines_cost_code_id_fkey",
          "tableFrom": "change_order_lines",
          "tableTo": "cost_codes",
          "schemaTo": "public",
          "columnsFrom": [
            "cost_code_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "change_order_lines_cost_type_id_fkey": {
          "name": "change_order_lines_cost_type_id_fkey",
          "tableFrom": "change_order_lines",
          "tableTo": "cost_code_types",
          "schemaTo": "public",
          "columnsFrom": [
            "cost_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "change_order_lines_project_id_fkey": {
          "name": "change_order_lines_project_id_fkey",
          "tableFrom": "change_order_lines",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "change_order_lines_sub_job_id_fkey": {
          "name": "change_order_lines_sub_job_id_fkey",
          "tableFrom": "change_order_lines",
          "tableTo": "sub_jobs",
          "schemaTo": "public",
          "columnsFrom": [
            "sub_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "change_order_lines_select": {
          "name": "change_order_lines_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(auth.uid() IS NOT NULL)"
        },
        "change_order_lines_insert": {
          "name": "change_order_lines_insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "change_order_lines_update": {
          "name": "change_order_lines_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "change_order_lines_delete": {
          "name": "change_order_lines_delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.budget_mod_lines": {
      "name": "budget_mod_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "budget_modification_id": {
          "name": "budget_modification_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "sub_job_id": {
          "name": "sub_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cost_code_id": {
          "name": "cost_code_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cost_type_id": {
          "name": "cost_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_budget_mod_lines_cost_code": {
          "name": "idx_budget_mod_lines_cost_code",
          "columns": [
            {
              "expression": "cost_code_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_budget_mod_lines_cost_type": {
          "name": "idx_budget_mod_lines_cost_type",
          "columns": [
            {
              "expression": "cost_type_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_budget_mod_lines_mod": {
          "name": "idx_budget_mod_lines_mod",
          "columns": [
            {
              "expression": "budget_modification_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_budget_mod_lines_project": {
          "name": "idx_budget_mod_lines_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "budget_mod_lines_budget_modification_id_fkey": {
          "name": "budget_mod_lines_budget_modification_id_fkey",
          "tableFrom": "budget_mod_lines",
          "tableTo": "budget_modifications",
          "schemaTo": "public",
          "columnsFrom": [
            "budget_modification_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "budget_mod_lines_cost_code_id_fkey": {
          "name": "budget_mod_lines_cost_code_id_fkey",
          "tableFrom": "budget_mod_lines",
          "tableTo": "cost_codes",
          "schemaTo": "public",
          "columnsFrom": [
            "cost_code_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "budget_mod_lines_cost_type_id_fkey": {
          "name": "budget_mod_lines_cost_type_id_fkey",
          "tableFrom": "budget_mod_lines",
          "tableTo": "cost_code_types",
          "schemaTo": "public",
          "columnsFrom": [
            "cost_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "budget_mod_lines_project_id_fkey": {
          "name": "budget_mod_lines_project_id_fkey",
          "tableFrom": "budget_mod_lines",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "budget_mod_lines_sub_job_id_fkey": {
          "name": "budget_mod_lines_sub_job_id_fkey",
          "tableFrom": "budget_mod_lines",
          "tableTo": "sub_jobs",
          "schemaTo": "public",
          "columnsFrom": [
            "sub_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "budget_mod_lines_select": {
          "name": "budget_mod_lines_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(auth.uid() IS NOT NULL)"
        },
        "budget_mod_lines_insert": {
          "name": "budget_mod_lines_insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "budget_mod_lines_update": {
          "name": "budget_mod_lines_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "budget_mod_lines_delete": {
          "name": "budget_mod_lines_delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.budget_lines": {
      "name": "budget_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "sub_job_id": {
          "name": "sub_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cost_code_id": {
          "name": "cost_code_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cost_type_id": {
          "name": "cost_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_amount": {
          "name": "original_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "sub_job_key": {
          "name": "sub_job_key",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "COALESCE(sub_job_id, '00000000-0000-0000-0000-000000000000'::uuid)",
            "type": "stored"
          }
        },
        "project_budget_code_id": {
          "name": "project_budget_code_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "unit_of_measure": {
          "name": "unit_of_measure",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "unit_cost": {
          "name": "unit_cost",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "default_ftc_method": {
          "name": "default_ftc_method",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'automatic'"
        },
        "default_curve_id": {
          "name": "default_curve_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "forecasting_enabled": {
          "name": "forecasting_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {
        "idx_budget_lines_cost_code": {
          "name": "idx_budget_lines_cost_code",
          "columns": [
            {
              "expression": "cost_code_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_budget_lines_cost_type": {
          "name": "idx_budget_lines_cost_type",
          "columns": [
            {
              "expression": "cost_type_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_budget_lines_project": {
          "name": "idx_budget_lines_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_budget_lines_project_budget_code_id": {
          "name": "idx_budget_lines_project_budget_code_id",
          "columns": [
            {
              "expression": "project_budget_code_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_budget_lines_sub_job": {
          "name": "idx_budget_lines_sub_job",
          "columns": [
            {
              "expression": "sub_job_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(sub_job_id IS NOT NULL)",
          "with": {}
        },
        "idx_budget_lines_updated_at": {
          "name": "idx_budget_lines_updated_at",
          "columns": [
            {
              "expression": "updated_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "budget_lines_cost_code_id_fkey": {
          "name": "budget_lines_cost_code_id_fkey",
          "tableFrom": "budget_lines",
          "tableTo": "cost_codes",
          "schemaTo": "public",
          "columnsFrom": [
            "cost_code_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "budget_lines_cost_type_id_fkey": {
          "name": "budget_lines_cost_type_id_fkey",
          "tableFrom": "budget_lines",
          "tableTo": "cost_code_types",
          "schemaTo": "public",
          "columnsFrom": [
            "cost_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "budget_lines_created_by_fkey": {
          "name": "budget_lines_created_by_fkey",
          "tableFrom": "budget_lines",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "budget_lines_default_curve_id_fkey": {
          "name": "budget_lines_default_curve_id_fkey",
          "tableFrom": "budget_lines",
          "tableTo": "forecasting_curves",
          "schemaTo": "public",
          "columnsFrom": [
            "default_curve_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "budget_lines_project_budget_code_id_fkey": {
          "name": "budget_lines_project_budget_code_id_fkey",
          "tableFrom": "budget_lines",
          "tableTo": "project_budget_codes",
          "schemaTo": "public",
          "columnsFrom": [
            "project_budget_code_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "budget_lines_project_id_fkey": {
          "name": "budget_lines_project_id_fkey",
          "tableFrom": "budget_lines",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "budget_lines_sub_job_id_fkey": {
          "name": "budget_lines_sub_job_id_fkey",
          "tableFrom": "budget_lines",
          "tableTo": "sub_jobs",
          "schemaTo": "public",
          "columnsFrom": [
            "sub_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "budget_lines_updated_by_fkey": {
          "name": "budget_lines_updated_by_fkey",
          "tableFrom": "budget_lines",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_budget_line": {
          "columns": [
            "project_id",
            "cost_code_id",
            "cost_type_id",
            "sub_job_key"
          ],
          "nullsNotDistinct": false,
          "name": "uq_budget_line"
        }
      },
      "checkConstraints": {
        "budget_lines_default_ftc_method_check": {
          "name": "budget_lines_default_ftc_method_check",
          "value": "(default_ftc_method)::text = ANY ((ARRAY['manual'::character varying, 'automatic'::character varying, 'lump_sum'::character varying, 'monitored_resources'::character varying])::text[])"
        }
      },
      "policies": {
        "budget_lines_select": {
          "name": "budget_lines_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(auth.uid() IS NOT NULL)"
        },
        "budget_lines_insert": {
          "name": "budget_lines_insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "budget_lines_update": {
          "name": "budget_lines_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "budget_lines_delete": {
          "name": "budget_lines_delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.budget_modifications": {
      "name": "budget_modifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "number": {
          "name": "number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_budget_modifications_project": {
          "name": "idx_budget_modifications_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_budget_modifications_status": {
          "name": "idx_budget_modifications_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_budget_mods_project": {
          "name": "idx_budget_mods_project",
          "columns": [
            {
              "expression": "project_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_budget_mods_status": {
          "name": "idx_budget_mods_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "budget_modifications_created_by_fkey": {
          "name": "budget_modifications_created_by_fkey",
          "tableFrom": "budget_modifications",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "budget_modifications_project_id_fkey": {
          "name": "budget_modifications_project_id_fkey",
          "tableFrom": "budget_modifications",
          "tableTo": "projects",
          "schemaTo": "public",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_budget_mod_number": {
          "columns": [
            "project_id",
            "number"
          ],
          "nullsNotDistinct": false,
          "name": "uq_budget_mod_number"
        }
      },
      "checkConstraints": {
        "budget_modifications_status_check": {
          "name": "budget_modifications_status_check",
          "value": "status = ANY (ARRAY['draft'::text, 'pending'::text, 'approved'::text, 'void'::text])"
        }
      },
      "policies": {
        "budget_modifications_select": {
          "name": "budget_modifications_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(auth.uid() IS NOT NULL)"
        },
        "budget_modifications_insert": {
          "name": "budget_modifications_insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "budget_modifications_update": {
          "name": "budget_modifications_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "budget_modifications_delete": {
          "name": "budget_modifications_delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        },
        "Users can view budget modifications in their projects": {
          "name": "Users can view budget modifications in their projects",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Editors can create budget modifications": {
          "name": "Editors can create budget modifications",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Editors can update budget modifications": {
          "name": "Editors can update budget modifications",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.contract_change_orders": {
      "name": "contract_change_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "contract_id": {
          "name": "contract_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "change_order_number": {
          "name": "change_order_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "requested_by": {
          "name": "requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "requested_date": {
          "name": "requested_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_DATE"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_date": {
          "name": "approved_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_change_orders_approved_by": {
          "name": "idx_change_orders_approved_by",
          "columns": [
            {
              "expression": "approved_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_change_orders_contract": {
          "name": "idx_change_orders_contract",
          "columns": [
            {
              "expression": "contract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_change_orders_created_at": {
          "name": "idx_change_orders_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_change_orders_requested_by": {
          "name": "idx_change_orders_requested_by",
          "columns": [
            {
              "expression": "requested_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_change_orders_status": {
          "name": "idx_change_orders_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "contract_change_orders_approved_by_fkey": {
          "name": "contract_change_orders_approved_by_fkey",
          "tableFrom": "contract_change_orders",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contract_change_orders_contract_id_fkey": {
          "name": "contract_change_orders_contract_id_fkey",
          "tableFrom": "contract_change_orders",
          "tableTo": "prime_contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contract_change_orders_requested_by_fkey": {
          "name": "contract_change_orders_requested_by_fkey",
          "tableFrom": "contract_change_orders",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "requested_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "contract_change_orders_contract_id_change_order_number_key": {
          "columns": [
            "contract_id",
            "change_order_number"
          ],
          "nullsNotDistinct": false,
          "name": "contract_change_orders_contract_id_change_order_number_key"
        }
      },
      "checkConstraints": {
        "contract_change_orders_status_check": {
          "name": "contract_change_orders_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'approved'::text, 'rejected'::text])"
        },
        "valid_approval_date": {
          "name": "valid_approval_date",
          "value": "((status = 'approved'::text) AND (approved_date IS NOT NULL) AND (approved_by IS NOT NULL)) OR ((status = 'rejected'::text) AND (approved_date IS NOT NULL) AND (approved_by IS NOT NULL) AND (rejection_reason IS NOT NULL)) OR (status = 'pending'::text)"
        }
      },
      "policies": {
        "Users can view change orders in their projects": {
          "name": "Users can view change orders in their projects",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (prime_contracts\n     JOIN project_members ON ((project_members.project_id = prime_contracts.project_id)))\n  WHERE ((prime_contracts.id = contract_change_orders.contract_id) AND (project_members.user_id = auth.uid()))))"
        },
        "Editors can create change orders": {
          "name": "Editors can create change orders",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Editors can update change orders": {
          "name": "Editors can update change orders",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Admins can delete change orders": {
          "name": "Admins can delete change orders",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": false
    },
    "public.group_members": {
      "name": "group_members",
      "schema": "",
      "columns": {
        "group_id": {
          "name": "group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'member'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "group_members_group_id_fkey": {
          "name": "group_members_group_id_fkey",
          "tableFrom": "group_members",
          "tableTo": "groups",
          "schemaTo": "public",
          "columnsFrom": [
            "group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "group_members_user_id_fkey": {
          "name": "group_members_user_id_fkey",
          "tableFrom": "group_members",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "group_members_pkey": {
          "name": "group_members_pkey",
          "columns": [
            "group_id",
            "user_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.document_user_access": {
      "name": "document_user_access",
      "schema": "",
      "columns": {
        "document_id": {
          "name": "document_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "access_level": {
          "name": "access_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'viewer'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "document_user_access_document_id_fkey": {
          "name": "document_user_access_document_id_fkey",
          "tableFrom": "document_user_access",
          "tableTo": "document_metadata",
          "schemaTo": "public",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "document_user_access_user_id_fkey": {
          "name": "document_user_access_user_id_fkey",
          "tableFrom": "document_user_access",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "document_user_access_pkey": {
          "name": "document_user_access_pkey",
          "columns": [
            "document_id",
            "user_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Admins manage document_user_access": {
          "name": "Admins manage document_user_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "withCheck": "((auth.jwt() ->> 'role'::text) = 'admin'::text)",
          "using": "((auth.jwt() ->> 'role'::text) = 'admin'::text)"
        }
      },
      "isRLSEnabled": true
    },
    "public.document_group_access": {
      "name": "document_group_access",
      "schema": "",
      "columns": {
        "document_id": {
          "name": "document_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "group_id": {
          "name": "group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "access_level": {
          "name": "access_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'viewer'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "document_group_access_document_id_fkey": {
          "name": "document_group_access_document_id_fkey",
          "tableFrom": "document_group_access",
          "tableTo": "document_metadata",
          "schemaTo": "public",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "document_group_access_group_id_fkey": {
          "name": "document_group_access_group_id_fkey",
          "tableFrom": "document_group_access",
          "tableTo": "groups",
          "schemaTo": "public",
          "columnsFrom": [
            "group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "document_group_access_pkey": {
          "name": "document_group_access_pkey",
          "columns": [
            "document_id",
            "group_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Admins manage document_group_access": {
          "name": "Admins manage document_group_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "withCheck": "((auth.jwt() ->> 'role'::text) = 'admin'::text)",
          "using": "((auth.jwt() ->> 'role'::text) = 'admin'::text)"
        }
      },
      "isRLSEnabled": true
    },
    "public.rfi_assignees": {
      "name": "rfi_assignees",
      "schema": "",
      "columns": {
        "rfi_id": {
          "name": "rfi_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "employee_id": {
          "name": "employee_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "rfi_assignees_employee_id_fkey": {
          "name": "rfi_assignees_employee_id_fkey",
          "tableFrom": "rfi_assignees",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "rfi_assignees_rfi_id_fkey": {
          "name": "rfi_assignees_rfi_id_fkey",
          "tableFrom": "rfi_assignees",
          "tableTo": "rfis",
          "schemaTo": "public",
          "columnsFrom": [
            "rfi_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "rfi_assignees_pkey": {
          "name": "rfi_assignees_pkey",
          "columns": [
            "rfi_id",
            "employee_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.database_tables_catalog": {
      "name": "database_tables_catalog",
      "schema": "",
      "columns": {
        "schema_name": {
          "name": "schema_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "table_name": {
          "name": "table_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "row_count": {
          "name": "row_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "rls_enabled": {
          "name": "rls_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "primary_keys": {
          "name": "primary_keys",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "table_comment": {
          "name": "table_comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "database_tables_catalog_pkey": {
          "name": "database_tables_catalog_pkey",
          "columns": [
            "schema_name",
            "table_name"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.billing_period_status": {
      "name": "billing_period_status",
      "values": [
        "open",
        "closed",
        "approved"
      ],
      "schema": "public"
    },
    "public.budget_status": {
      "name": "budget_status",
      "values": [
        "locked",
        "unlocked"
      ],
      "schema": "public"
    },
    "public.calculation_method": {
      "name": "calculation_method",
      "values": [
        "unit_price",
        "lump_sum",
        "percentage"
      ],
      "schema": "public"
    },
    "public.change_event_status": {
      "name": "change_event_status",
      "values": [
        "open",
        "closed"
      ],
      "schema": "public"
    },
    "public.change_order_status": {
      "name": "change_order_status",
      "values": [
        "draft",
        "pending",
        "approved",
        "void"
      ],
      "schema": "public"
    },
    "public.commitment_type": {
      "name": "commitment_type",
      "values": [
        "subcontract",
        "purchase_order",
        "service_order"
      ],
      "schema": "public"
    },
    "public.company_type": {
      "name": "company_type",
      "values": [
        "vendor",
        "subcontractor",
        "owner",
        "architect",
        "other"
      ],
      "schema": "public"
    },
    "public.contract_status": {
      "name": "contract_status",
      "values": [
        "draft",
        "pending",
        "executed",
        "closed",
        "terminated"
      ],
      "schema": "public"
    },
    "public.contract_type": {
      "name": "contract_type",
      "values": [
        "prime_contract",
        "commitment"
      ],
      "schema": "public"
    },
    "public.erp_sync_status": {
      "name": "erp_sync_status",
      "values": [
        "pending",
        "synced",
        "failed",
        "resyncing"
      ],
      "schema": "public"
    },
    "public.invoice_status": {
      "name": "invoice_status",
      "values": [
        "draft",
        "pending",
        "approved",
        "paid",
        "void"
      ],
      "schema": "public"
    },
    "public.issue_category": {
      "name": "issue_category",
      "values": [
        "Design",
        "Submittal",
        "Scheduling",
        "Procurement",
        "Installation",
        "Safety",
        "Change Order",
        "Other"
      ],
      "schema": "public"
    },
    "public.issue_severity": {
      "name": "issue_severity",
      "values": [
        "Low",
        "Medium",
        "High",
        "Critical"
      ],
      "schema": "public"
    },
    "public.issue_status": {
      "name": "issue_status",
      "values": [
        "Open",
        "In Progress",
        "Resolved",
        "Pending Verification"
      ],
      "schema": "public"
    },
    "public.project_status": {
      "name": "project_status",
      "values": [
        "active",
        "inactive",
        "complete"
      ],
      "schema": "public"
    },
    "public.task_status": {
      "name": "task_status",
      "values": [
        "todo",
        "doing",
        "review",
        "done"
      ],
      "schema": "public"
    }
  },
  "schemas": {},
  "sequences": {
    "public.ai_insights_id_seq1": {
      "name": "ai_insights_id_seq1",
      "schema": "public",
      "startWith": "1",
      "minValue": "1",
      "maxValue": "9223372036854775807",
      "increment": "1",
      "cycle": false,
      "cache": "1"
    }
  },
  "roles": {},
  "policies": {},
  "views": {
    "public.cost_codes_with_division_title": {
      "name": "cost_codes_with_division_title",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "division_id": {
          "name": "division_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "division_title": {
          "name": "division_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "division_title_current": {
          "name": "division_title_current",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT c.id, c.division_id, c.division_title, c.title, c.status, c.created_at, c.updated_at, d.title AS division_title_current FROM cost_codes c LEFT JOIN cost_code_divisions d ON c.division_id = d.id",
      "materialized": false
    },
    "public.document_metadata_manual_only": {
      "name": "document_metadata_manual_only",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "participants": {
          "name": "participants",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fireflies_id": {
          "name": "fireflies_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fireflies_link": {
          "name": "fireflies_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "project": {
          "name": "project",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "date": {
          "name": "date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "bullet_points": {
          "name": "bullet_points",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action_items": {
          "name": "action_items",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_id": {
          "name": "file_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "overview": {
          "name": "overview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_level": {
          "name": "access_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "content_hash": {
          "name": "content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "participants_array": {
          "name": "participants_array",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "phase": {
          "name": "phase",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "audio": {
          "name": "audio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "video": {
          "name": "video",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id, title, url, created_at, type, source, content, summary, participants, tags, category, fireflies_id, fireflies_link, project_id, project, date, duration_minutes, bullet_points, action_items, file_id, overview, description, status, access_level, captured_at, content_hash, participants_array, phase, audio, video FROM document_metadata WHERE fireflies_id ~~* '%MANUAL%'::text",
      "materialized": false
    },
    "public.project_health_dashboard_no_summary": {
      "name": "project_health_dashboard_no_summary",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_phase": {
          "name": "current_phase",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "completion_percentage": {
          "name": "completion_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "health_score": {
          "name": "health_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "health_status": {
          "name": "health_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary_updated_at": {
          "name": "summary_updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "budget_utilization": {
          "name": "budget_utilization",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "est completion": {
          "name": "est completion",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "total_insights_count": {
          "name": "total_insights_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "open_critical_items": {
          "name": "open_critical_items",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "recent_documents_count": {
          "name": "recent_documents_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "last_document_date": {
          "name": "last_document_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id, name, current_phase, completion_percentage, health_score, health_status, summary_updated_at, CASE WHEN budget IS NOT NULL AND budget > 0::numeric AND budget_used IS NOT NULL THEN budget_used::numeric / budget::numeric * 100::numeric ELSE 0::numeric END AS budget_utilization, \"est completion\", ( SELECT count(*) AS count FROM ai_insights ai WHERE ai.project_id = p.id) AS total_insights_count, ( SELECT count(*) AS count FROM ai_insights ai WHERE ai.project_id = p.id AND ai.severity = 'critical'::text AND (ai.resolved = 0 OR ai.resolved IS NULL)) AS open_critical_items, ( SELECT count(*) AS count FROM documents d WHERE d.project_id = p.id AND d.created_at > (now() - '30 days'::interval)) AS recent_documents_count, ( SELECT max(d.created_at::date) AS max FROM documents d WHERE d.project_id = p.id) AS last_document_date FROM projects p WHERE name IS NOT NULL ORDER BY ( CASE WHEN health_score IS NULL THEN 999::numeric ELSE health_score END)",
      "materialized": false,
      "with": {
        "securityInvoker": "on"
      }
    },
    "public.ai_insights_with_project": {
      "name": "ai_insights_with_project",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "insight_type": {
          "name": "insight_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_meetings": {
          "name": "source_meetings",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "resolved": {
          "name": "resolved",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_id": {
          "name": "meeting_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "project_name": {
          "name": "project_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT ai.id, ai.project_id, ai.insight_type, ai.severity, ai.title, ai.description, ai.source_meetings, ai.confidence_score, ai.resolved, ai.created_at, ai.meeting_id, p.name AS project_name FROM ai_insights ai LEFT JOIN projects p ON ai.project_id = p.id",
      "materialized": false
    },
    "public.figure_summary": {
      "name": "figure_summary",
      "schema": "public",
      "columns": {
        "figure_number": {
          "name": "figure_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "normalized_summary": {
          "name": "normalized_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "figure_type": {
          "name": "figure_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "asrs_type": {
          "name": "asrs_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "container_type": {
          "name": "container_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_depth": {
          "name": "max_depth",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_spacing": {
          "name": "max_spacing",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "related_tables": {
          "name": "related_tables",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        },
        "page_number": {
          "name": "page_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "keywords": {
          "name": "keywords",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "keyword_count": {
          "name": "keyword_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT figure_number, title, normalized_summary, figure_type, asrs_type, container_type, CASE WHEN max_depth_ft IS NOT NULL THEN max_depth_ft || ' ft'::text ELSE 'Variable'::text END AS max_depth, CASE WHEN max_spacing_ft IS NOT NULL THEN max_spacing_ft || ' ft'::text ELSE 'Variable'::text END AS max_spacing, related_tables, page_number, array_to_string(search_keywords, ', '::text) AS keywords, array_length(search_keywords, 1) AS keyword_count FROM fm_global_figures ORDER BY figure_number",
      "materialized": false
    },
    "public.ai_insights_today": {
      "name": "ai_insights_today",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "insight_type": {
          "name": "insight_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_meetings": {
          "name": "source_meetings",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "resolved": {
          "name": "resolved",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_id": {
          "name": "meeting_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_name": {
          "name": "meeting_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_name": {
          "name": "project_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "business_impact": {
          "name": "business_impact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assignee": {
          "name": "assignee",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "dependencies": {
          "name": "dependencies",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "financial_impact": {
          "name": "financial_impact",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "timeline_impact_days": {
          "name": "timeline_impact_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stakeholders_affected": {
          "name": "stakeholders_affected",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "exact_quotes": {
          "name": "exact_quotes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "numerical_data": {
          "name": "numerical_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "urgency_indicators": {
          "name": "urgency_indicators",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "cross_project_impact": {
          "name": "cross_project_impact",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id, project_id, insight_type, severity, title, description, source_meetings, confidence_score, resolved, created_at, meeting_id, meeting_name, project_name, document_id, status, assigned_to, due_date, metadata, resolved_at, business_impact, assignee, dependencies, financial_impact, timeline_impact_days, stakeholders_affected, exact_quotes, numerical_data, urgency_indicators, cross_project_impact FROM ai_insights WHERE created_at::timestamp with time zone >= date_trunc('day'::text, now()) AND created_at::timestamp with time zone < (date_trunc('day'::text, now()) + '1 day'::interval)",
      "materialized": false,
      "with": {
        "securityInvoker": "on"
      }
    },
    "public.project_health_dashboard": {
      "name": "project_health_dashboard",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_phase": {
          "name": "current_phase",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "completion_percentage": {
          "name": "completion_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "health_score": {
          "name": "health_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "health_status": {
          "name": "health_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary_updated_at": {
          "name": "summary_updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "budget_utilization": {
          "name": "budget_utilization",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "est completion": {
          "name": "est completion",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "total_insights_count": {
          "name": "total_insights_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "open_critical_items": {
          "name": "open_critical_items",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "recent_documents_count": {
          "name": "recent_documents_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "last_document_date": {
          "name": "last_document_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id, name, current_phase, completion_percentage, health_score, health_status, summary, summary_updated_at, CASE WHEN budget IS NOT NULL AND budget > 0::numeric AND budget_used IS NOT NULL THEN budget_used::numeric / budget::numeric * 100::numeric ELSE 0::numeric END AS budget_utilization, \"est completion\", ( SELECT count(*) AS count FROM ai_insights ai WHERE ai.project_id = p.id) AS total_insights_count, ( SELECT count(*) AS count FROM ai_insights ai WHERE ai.project_id = p.id AND ai.severity = 'critical'::text AND (ai.resolved = 0 OR ai.resolved IS NULL)) AS open_critical_items, ( SELECT count(*) AS count FROM documents d WHERE d.project_id = p.id AND d.created_at > (now() - '30 days'::interval)) AS recent_documents_count, ( SELECT max(d.created_at::date) AS max FROM documents d WHERE d.project_id = p.id) AS last_document_date FROM projects p WHERE name IS NOT NULL ORDER BY ( CASE WHEN health_score IS NULL THEN 999::numeric ELSE health_score END)",
      "materialized": false
    },
    "public.documents_ordered_view": {
      "name": "documents_ordered_view",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "date": {
          "name": "date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "project": {
          "name": "project",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fireflies_id": {
          "name": "fireflies_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id, title, file_date AS date, project_id, project, fireflies_id, created_at, updated_at FROM documents",
      "materialized": false,
      "with": {
        "securityInvoker": "on"
      }
    },
    "public.contract_financial_summary_mv": {
      "name": "contract_financial_summary_mv",
      "schema": "public",
      "columns": {
        "contract_id": {
          "name": "contract_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "contract_number": {
          "name": "contract_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "erp_status": {
          "name": "erp_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "executed": {
          "name": "executed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "private": {
          "name": "private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "original_contract_amount": {
          "name": "original_contract_amount",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "approved_change_orders": {
          "name": "approved_change_orders",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "revised_contract_amount": {
          "name": "revised_contract_amount",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "pending_change_orders": {
          "name": "pending_change_orders",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "draft_change_orders": {
          "name": "draft_change_orders",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "invoiced_amount": {
          "name": "invoiced_amount",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "payments_received": {
          "name": "payments_received",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "percent_paid": {
          "name": "percent_paid",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "remaining_balance": {
          "name": "remaining_balance",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "WITH original_sov AS ( SELECT prime_contract_sovs.contract_id, COALESCE(sum(prime_contract_sovs.line_amount), 0::numeric) AS original_contract_amount FROM prime_contract_sovs GROUP BY prime_contract_sovs.contract_id ), approved_pccos AS ( SELECT prime_contract_change_orders.contract_id, COALESCE(sum(pcco_line_items.line_amount), 0::numeric) AS approved_change_orders FROM prime_contract_change_orders JOIN pcco_line_items ON pcco_line_items.pcco_id = prime_contract_change_orders.id WHERE prime_contract_change_orders.status = 'Approved'::text GROUP BY prime_contract_change_orders.contract_id ), pending_pcos AS ( SELECT prime_potential_change_orders.contract_id, COALESCE(sum(pco_line_items.line_amount), 0::numeric) AS pending_change_orders FROM prime_potential_change_orders JOIN pco_line_items ON pco_line_items.pco_id = prime_potential_change_orders.id WHERE prime_potential_change_orders.status = 'Pending'::text GROUP BY prime_potential_change_orders.contract_id ), draft_pcos AS ( SELECT prime_potential_change_orders.contract_id, COALESCE(sum(pco_line_items.line_amount), 0::numeric) AS draft_change_orders FROM prime_potential_change_orders JOIN pco_line_items ON pco_line_items.pco_id = prime_potential_change_orders.id WHERE prime_potential_change_orders.status = 'Draft'::text GROUP BY prime_potential_change_orders.contract_id ), invoiced AS ( SELECT owner_invoices.contract_id, COALESCE(sum(owner_invoice_line_items.approved_amount), 0::numeric) AS invoiced_amount FROM owner_invoices JOIN owner_invoice_line_items ON owner_invoice_line_items.invoice_id = owner_invoices.id WHERE owner_invoices.status = 'Approved'::text GROUP BY owner_invoices.contract_id ), payments AS ( SELECT payment_transactions.contract_id, COALESCE(sum(payment_transactions.amount), 0::numeric) AS payments_received FROM payment_transactions GROUP BY payment_transactions.contract_id ) SELECT c.id AS contract_id, c.contract_number, c.client_id, c.project_id, c.title, c.status, c.erp_status, c.executed, c.private, COALESCE(os.original_contract_amount, 0::numeric) AS original_contract_amount, COALESCE(ap.approved_change_orders, 0::numeric) AS approved_change_orders, COALESCE(os.original_contract_amount, 0::numeric) + COALESCE(ap.approved_change_orders, 0::numeric) AS revised_contract_amount, COALESCE(pp.pending_change_orders, 0::numeric) AS pending_change_orders, COALESCE(dp.draft_change_orders, 0::numeric) AS draft_change_orders, COALESCE(inv.invoiced_amount, 0::numeric) AS invoiced_amount, COALESCE(pay.payments_received, 0::numeric) AS payments_received, CASE WHEN (COALESCE(os.original_contract_amount, 0::numeric) + COALESCE(ap.approved_change_orders, 0::numeric)) > 0::numeric THEN round(COALESCE(pay.payments_received, 0::numeric) / (COALESCE(os.original_contract_amount, 0::numeric) + COALESCE(ap.approved_change_orders, 0::numeric)) * 100::numeric, 2) ELSE 0::numeric END AS percent_paid, COALESCE(os.original_contract_amount, 0::numeric) + COALESCE(ap.approved_change_orders, 0::numeric) - COALESCE(pay.payments_received, 0::numeric) AS remaining_balance FROM contracts c LEFT JOIN original_sov os ON os.contract_id = c.id LEFT JOIN approved_pccos ap ON ap.contract_id = c.id LEFT JOIN pending_pcos pp ON pp.contract_id = c.id LEFT JOIN draft_pcos dp ON dp.contract_id = c.id LEFT JOIN invoiced inv ON inv.contract_id = c.id LEFT JOIN payments pay ON pay.contract_id = c.id",
      "materialized": true
    },
    "public.figure_statistics": {
      "name": "figure_statistics",
      "schema": "public",
      "columns": {
        "metric": {
          "name": "metric",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT 'Total Figures'::text AS metric, count(*)::text AS value FROM fm_global_figures UNION ALL SELECT 'Shuttle ASRS Figures'::text AS metric, count(*)::text AS value FROM fm_global_figures WHERE fm_global_figures.asrs_type = 'Shuttle'::text UNION ALL SELECT 'Mini-Load ASRS Figures'::text AS metric, count(*)::text AS value FROM fm_global_figures WHERE fm_global_figures.asrs_type = 'Mini-Load'::text UNION ALL SELECT 'Sprinkler Layout Figures'::text AS metric, count(*)::text AS value FROM fm_global_figures WHERE fm_global_figures.figure_type = 'Sprinkler Layout'::text UNION ALL SELECT 'Open-Top Container Figures'::text AS metric, count(*)::text AS value FROM fm_global_figures WHERE fm_global_figures.container_type = 'Open-Top'::text UNION ALL SELECT 'Closed-Top Container Figures'::text AS metric, count(*)::text AS value FROM fm_global_figures WHERE fm_global_figures.container_type = 'Closed-Top'::text",
      "materialized": false
    },
    "public.actionable_insights": {
      "name": "actionable_insights",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_id": {
          "name": "document_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "insight_type": {
          "name": "insight_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "generated_by": {
          "name": "generated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "doc_title": {
          "name": "doc_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "business_impact": {
          "name": "business_impact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assignee": {
          "name": "assignee",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "financial_impact": {
          "name": "financial_impact",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "urgency_indicators": {
          "name": "urgency_indicators",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "resolved": {
          "name": "resolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "source_meetings": {
          "name": "source_meetings",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "dependencies": {
          "name": "dependencies",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "stakeholders_affected": {
          "name": "stakeholders_affected",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "exact_quotes": {
          "name": "exact_quotes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "numerical_data": {
          "name": "numerical_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "critical_path_impact": {
          "name": "critical_path_impact",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "cross_project_impact": {
          "name": "cross_project_impact",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        },
        "document_title": {
          "name": "document_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_type": {
          "name": "document_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_date": {
          "name": "meeting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "project_name": {
          "name": "project_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT di.id, di.document_id, di.project_id, di.insight_type, di.title, di.description, di.confidence_score, di.generated_by, di.created_at, di.metadata, di.doc_title, di.severity, di.business_impact, di.assignee, di.due_date, di.financial_impact, di.urgency_indicators, di.resolved, di.source_meetings, di.dependencies, di.stakeholders_affected, di.exact_quotes, di.numerical_data, di.critical_path_impact, di.cross_project_impact, dm.title AS document_title, dm.type AS document_type, dm.date AS meeting_date, p.name AS project_name FROM document_insights di LEFT JOIN document_metadata dm ON di.document_id = dm.id LEFT JOIN projects p ON di.project_id = p.id WHERE di.resolved = false AND (di.severity::text = ANY (ARRAY['critical'::character varying, 'high'::character varying]::text[])) ORDER BY ( CASE di.severity WHEN 'critical'::text THEN 1 WHEN 'high'::text THEN 2 WHEN 'medium'::text THEN 3 WHEN 'low'::text THEN 4 ELSE NULL::integer END), di.due_date, di.confidence_score DESC",
      "materialized": false
    },
    "public.subcontractors_summary": {
      "name": "subcontractors_summary",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_contact_name": {
          "name": "primary_contact_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_contact_email": {
          "name": "primary_contact_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "specialties": {
          "name": "specialties",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "service_areas": {
          "name": "service_areas",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "fm_global_certified": {
          "name": "fm_global_certified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "asrs_experience_years": {
          "name": "asrs_experience_years",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tier_level": {
          "name": "tier_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_projects": {
          "name": "total_projects",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_rating": {
          "name": "avg_rating",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "on_time_percentage": {
          "name": "on_time_percentage",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT s.id, s.company_name, s.primary_contact_name, s.primary_contact_email, s.specialties, s.service_areas, s.fm_global_certified, s.asrs_experience_years, s.status, s.tier_level, count(sp.id) AS total_projects, avg(sp.project_rating) AS avg_rating, sum( CASE WHEN sp.on_time THEN 1 ELSE 0 END)::numeric / count(sp.id)::numeric * 100::numeric AS on_time_percentage FROM subcontractors s LEFT JOIN subcontractor_projects sp ON s.id = sp.subcontractor_id GROUP BY s.id, s.company_name, s.primary_contact_name, s.primary_contact_email, s.specialties, s.service_areas, s.fm_global_certified, s.asrs_experience_years, s.status, s.tier_level",
      "materialized": false
    },
    "public.document_metadata_view_no_summary": {
      "name": "document_metadata_view_no_summary",
      "schema": "public",
      "columns": {
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "date": {
          "name": "date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "project": {
          "name": "project",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fireflies_id": {
          "name": "fireflies_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fireflies_link": {
          "name": "fireflies_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT title, date, project_id, project, fireflies_id, fireflies_link FROM document_metadata",
      "materialized": false,
      "with": {
        "securityInvoker": "on"
      }
    },
    "public.active_submittals": {
      "name": "active_submittals",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "specification_id": {
          "name": "specification_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "submittal_type_id": {
          "name": "submittal_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "submittal_number": {
          "name": "submittal_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "submitter_company": {
          "name": "submitter_company",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "submission_date": {
          "name": "submission_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "required_approval_date": {
          "name": "required_approval_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "current_version": {
          "name": "current_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_versions": {
          "name": "total_versions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "project_name": {
          "name": "project_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by_email": {
          "name": "submitted_by_email",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "submittal_type_name": {
          "name": "submittal_type_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "discrepancy_count": {
          "name": "discrepancy_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "critical_discrepancies": {
          "name": "critical_discrepancies",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT s.id, s.project_id, s.specification_id, s.submittal_type_id, s.submittal_number, s.title, s.description, s.submitted_by, s.submitter_company, s.submission_date, s.required_approval_date, s.priority, s.status, s.current_version, s.total_versions, s.metadata, s.created_at, s.updated_at, p.name AS project_name, u.email AS submitted_by_email, st.name AS submittal_type_name, count(d.id) AS discrepancy_count, count( CASE WHEN d.severity::text = 'critical'::text THEN 1 ELSE NULL::integer END) AS critical_discrepancies FROM submittals s JOIN projects p ON s.project_id = p.id JOIN users u ON s.submitted_by = u.id JOIN submittal_types st ON s.submittal_type_id = st.id LEFT JOIN discrepancies d ON s.id = d.submittal_id AND d.status::text = 'open'::text WHERE s.status::text <> ALL (ARRAY['approved'::character varying, 'rejected'::character varying, 'superseded'::character varying]::text[]) GROUP BY s.id, p.name, u.email, st.name",
      "materialized": false
    },
    "public.submittal_project_dashboard": {
      "name": "submittal_project_dashboard",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_submittals": {
          "name": "total_submittals",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "pending_submittals": {
          "name": "pending_submittals",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "under_review": {
          "name": "under_review",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "approved_submittals": {
          "name": "approved_submittals",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "needs_revision": {
          "name": "needs_revision",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_discrepancies": {
          "name": "total_discrepancies",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "critical_discrepancies": {
          "name": "critical_discrepancies",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_review_time_days": {
          "name": "avg_review_time_days",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT p.id, p.name, p.state AS status, count(s.id) AS total_submittals, count( CASE WHEN s.status::text = 'submitted'::text THEN 1 ELSE NULL::integer END) AS pending_submittals, count( CASE WHEN s.status::text = 'under_review'::text THEN 1 ELSE NULL::integer END) AS under_review, count( CASE WHEN s.status::text = 'approved'::text THEN 1 ELSE NULL::integer END) AS approved_submittals, count( CASE WHEN s.status::text = 'requires_revision'::text THEN 1 ELSE NULL::integer END) AS needs_revision, count(d.id) AS total_discrepancies, count( CASE WHEN d.severity::text = 'critical'::text THEN 1 ELSE NULL::integer END) AS critical_discrepancies, avg(EXTRACT(days FROM COALESCE(r.completed_at, now()) - s.submission_date)) AS avg_review_time_days FROM projects p LEFT JOIN submittals s ON p.id = s.project_id LEFT JOIN discrepancies d ON s.id = d.submittal_id AND d.status::text = 'open'::text LEFT JOIN reviews r ON s.id = r.submittal_id AND r.review_type::text = 'final'::text GROUP BY p.id, p.name, p.state",
      "materialized": false
    },
    "public.project_issue_summary": {
      "name": "project_issue_summary",
      "schema": "public",
      "columns": {
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "project_name": {
          "name": "project_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_issues": {
          "name": "total_issues",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost": {
          "name": "total_cost",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_cost_per_issue": {
          "name": "avg_cost_per_issue",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT p.id AS project_id, p.name AS project_name, count(i.id) AS total_issues, sum(i.total_cost) AS total_cost, round(avg(i.total_cost), 2) AS avg_cost_per_issue FROM projects p LEFT JOIN issues i ON p.id = i.project_id GROUP BY p.id, p.name ORDER BY (sum(i.total_cost)) DESC NULLS LAST",
      "materialized": false
    },
    "public.cost_by_category": {
      "name": "cost_by_category",
      "schema": "public",
      "columns": {
        "category": {
          "name": "category",
          "type": "issue_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "issue_count": {
          "name": "issue_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost": {
          "name": "total_cost",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_cost": {
          "name": "avg_cost",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT category, count(*) AS issue_count, sum(total_cost) AS total_cost, round(avg(total_cost), 2) AS avg_cost FROM issues GROUP BY category ORDER BY (sum(total_cost)) DESC NULLS LAST",
      "materialized": false
    },
    "public.procore_capture_summary": {
      "name": "procore_capture_summary",
      "schema": "public",
      "columns": {
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "module_name": {
          "name": "module_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "complexity": {
          "name": "complexity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "screenshot_count": {
          "name": "screenshot_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "last_captured": {
          "name": "last_captured",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT m.category, m.name AS module_name, m.display_name, m.priority, m.complexity, count(DISTINCT s.id) AS screenshot_count, max(s.captured_at) AS last_captured FROM procore_modules m LEFT JOIN procore_screenshots s ON s.name ~~ (('%'::text || m.name) || '%'::text) GROUP BY m.category, m.name, m.display_name, m.priority, m.complexity ORDER BY m.category, m.priority",
      "materialized": false
    },
    "public.procore_rebuild_estimate": {
      "name": "procore_rebuild_estimate",
      "schema": "public",
      "columns": {
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "module_count": {
          "name": "module_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "must_have_weeks": {
          "name": "must_have_weeks",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "nice_to_have_weeks": {
          "name": "nice_to_have_weeks",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_weeks": {
          "name": "total_weeks",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT category, count(*) AS module_count, sum( CASE WHEN priority = 'must_have'::text THEN estimated_build_weeks ELSE 0 END) AS must_have_weeks, sum( CASE WHEN priority = 'nice_to_have'::text THEN estimated_build_weeks ELSE 0 END) AS nice_to_have_weeks, sum(estimated_build_weeks) AS total_weeks FROM procore_modules WHERE priority <> 'skip'::text GROUP BY category ORDER BY category",
      "materialized": false
    },
    "public.project_with_manager": {
      "name": "project_with_manager",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "job number": {
          "name": "job number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start date": {
          "name": "start date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "est completion": {
          "name": "est completion",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "est revenue": {
          "name": "est revenue",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "est profit": {
          "name": "est profit",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "onedrive": {
          "name": "onedrive",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phase": {
          "name": "phase",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aliases": {
          "name": "aliases",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "team_members": {
          "name": "team_members",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "current_phase": {
          "name": "current_phase",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "completion_percentage": {
          "name": "completion_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "budget": {
          "name": "budget",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "budget_used": {
          "name": "budget_used",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "client": {
          "name": "client",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary_metadata": {
          "name": "summary_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "summary_updated_at": {
          "name": "summary_updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "health_score": {
          "name": "health_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "health_status": {
          "name": "health_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access": {
          "name": "access",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "archived": {
          "name": "archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "archived_by": {
          "name": "archived_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "erp_system": {
          "name": "erp_system",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "erp_last_job_cost_sync": {
          "name": "erp_last_job_cost_sync",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "erp_last_direct_cost_sync": {
          "name": "erp_last_direct_cost_sync",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "erp_sync_status": {
          "name": "erp_sync_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_manager": {
          "name": "project_manager",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "manager_id": {
          "name": "manager_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "manager_name": {
          "name": "manager_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "manager_email": {
          "name": "manager_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT p.id, p.created_at, p.name, p.\"job number\", p.\"start date\", p.\"est completion\", p.\"est revenue\", p.\"est profit\", p.address, p.onedrive, p.phase, p.state, p.client_id, p.category, p.aliases, p.team_members, p.current_phase, p.completion_percentage, p.budget, p.budget_used, p.client, p.summary, p.summary_metadata, p.summary_updated_at, p.health_score, p.health_status, p.access, p.archived, p.archived_by, p.archived_at, p.erp_system, p.erp_last_job_cost_sync, p.erp_last_direct_cost_sync, p.erp_sync_status, p.project_manager, e.id AS manager_id, (e.first_name || ' '::text) || e.last_name AS manager_name, e.email AS manager_email FROM projects p LEFT JOIN employees e ON e.id = p.project_manager",
      "materialized": false
    },
    "public.contract_financial_summary": {
      "name": "contract_financial_summary",
      "schema": "public",
      "columns": {
        "contract_id": {
          "name": "contract_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "contract_number": {
          "name": "contract_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "erp_status": {
          "name": "erp_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "executed": {
          "name": "executed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "private": {
          "name": "private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "original_contract_amount": {
          "name": "original_contract_amount",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "approved_change_orders": {
          "name": "approved_change_orders",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "revised_contract_amount": {
          "name": "revised_contract_amount",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "pending_change_orders": {
          "name": "pending_change_orders",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "draft_change_orders": {
          "name": "draft_change_orders",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "invoiced_amount": {
          "name": "invoiced_amount",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "payments_received": {
          "name": "payments_received",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "percent_paid": {
          "name": "percent_paid",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "remaining_balance": {
          "name": "remaining_balance",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "WITH original_sov AS ( SELECT prime_contract_sovs.contract_id, COALESCE(sum(prime_contract_sovs.line_amount), 0::numeric) AS original_contract_amount FROM prime_contract_sovs GROUP BY prime_contract_sovs.contract_id ), approved_pccos AS ( SELECT prime_contract_change_orders.contract_id, COALESCE(sum(pcco_line_items.line_amount), 0::numeric) AS approved_change_orders FROM prime_contract_change_orders JOIN pcco_line_items ON pcco_line_items.pcco_id = prime_contract_change_orders.id WHERE prime_contract_change_orders.status = 'Approved'::text GROUP BY prime_contract_change_orders.contract_id ), pending_pcos AS ( SELECT prime_potential_change_orders.contract_id, COALESCE(sum(pco_line_items.line_amount), 0::numeric) AS pending_change_orders FROM prime_potential_change_orders JOIN pco_line_items ON pco_line_items.pco_id = prime_potential_change_orders.id WHERE prime_potential_change_orders.status = 'Pending'::text GROUP BY prime_potential_change_orders.contract_id ), draft_pcos AS ( SELECT prime_potential_change_orders.contract_id, COALESCE(sum(pco_line_items.line_amount), 0::numeric) AS draft_change_orders FROM prime_potential_change_orders JOIN pco_line_items ON pco_line_items.pco_id = prime_potential_change_orders.id WHERE prime_potential_change_orders.status = 'Draft'::text GROUP BY prime_potential_change_orders.contract_id ), invoiced AS ( SELECT owner_invoices.contract_id, COALESCE(sum(owner_invoice_line_items.approved_amount), 0::numeric) AS invoiced_amount FROM owner_invoices JOIN owner_invoice_line_items ON owner_invoice_line_items.invoice_id = owner_invoices.id WHERE owner_invoices.status = 'Approved'::text GROUP BY owner_invoices.contract_id ), payments AS ( SELECT payment_transactions.contract_id, COALESCE(sum(payment_transactions.amount), 0::numeric) AS payments_received FROM payment_transactions GROUP BY payment_transactions.contract_id ) SELECT c.id AS contract_id, c.contract_number, c.client_id, c.title, c.status, c.erp_status, c.executed, c.private, os.original_contract_amount, ap.approved_change_orders, os.original_contract_amount + ap.approved_change_orders AS revised_contract_amount, pp.pending_change_orders, dp.draft_change_orders, inv.invoiced_amount, pay.payments_received, CASE WHEN (os.original_contract_amount + ap.approved_change_orders) > 0::numeric THEN round(pay.payments_received / (os.original_contract_amount + ap.approved_change_orders) * 100::numeric, 2) ELSE 0::numeric END AS percent_paid, os.original_contract_amount + ap.approved_change_orders - pay.payments_received AS remaining_balance FROM contracts c LEFT JOIN original_sov os ON os.contract_id = c.id LEFT JOIN approved_pccos ap ON ap.contract_id = c.id LEFT JOIN pending_pcos pp ON pp.contract_id = c.id LEFT JOIN draft_pcos dp ON dp.contract_id = c.id LEFT JOIN invoiced inv ON inv.contract_id = c.id LEFT JOIN payments pay ON pay.contract_id = c.id",
      "materialized": false
    },
    "public.project_activity_view": {
      "name": "project_activity_view",
      "schema": "public",
      "columns": {
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_count": {
          "name": "meeting_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "open_tasks": {
          "name": "open_tasks",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "last_meeting_at": {
          "name": "last_meeting_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_task_update": {
          "name": "last_task_update",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT p.id AS project_id, p.name, COALESCE(count(DISTINCT dm.id), 0::bigint) AS meeting_count, COALESCE(count(DISTINCT CASE WHEN t.status = ANY (ARRAY['open'::text, 'in_progress'::text]) THEN t.id ELSE NULL::uuid END), 0::bigint) AS open_tasks, max(dm.captured_at) AS last_meeting_at, max(t.updated_at) AS last_task_update FROM projects p LEFT JOIN document_metadata dm ON dm.project_id = p.id LEFT JOIN ai_tasks t ON t.project_id = p.id GROUP BY p.id, p.name",
      "materialized": false
    },
    "public.open_tasks_view": {
      "name": "open_tasks_view",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "source_document_id": {
          "name": "source_document_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assignee": {
          "name": "assignee",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "project_name": {
          "name": "project_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_document_title": {
          "name": "source_document_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT t.id, t.project_id, t.source_document_id, t.title, t.description, t.assignee, t.status, t.due_date, t.created_by, t.metadata, t.created_at, t.updated_at, p.name AS project_name, dm.title AS source_document_title FROM ai_tasks t LEFT JOIN projects p ON p.id = t.project_id LEFT JOIN document_metadata dm ON dm.id = t.source_document_id WHERE t.status = ANY (ARRAY['open'::text, 'in_progress'::text])",
      "materialized": false
    },
    "public.sov_line_items_with_percentage": {
      "name": "sov_line_items_with_percentage",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sov_id": {
          "name": "sov_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "line_number": {
          "name": "line_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cost_code_id": {
          "name": "cost_code_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_value": {
          "name": "scheduled_value",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "percentage": {
          "name": "percentage",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT sli.id, sli.sov_id, sli.line_number, sli.description, sli.cost_code_id, sli.scheduled_value, sli.created_at, sli.updated_at, CASE WHEN sov.total_amount > 0::numeric THEN round(sli.scheduled_value / sov.total_amount * 100::numeric, 2) ELSE 0::numeric END AS percentage FROM sov_line_items sli JOIN schedule_of_values sov ON sov.id = sli.sov_id",
      "materialized": false
    },
    "public.subcontracts_with_totals": {
      "name": "subcontracts_with_totals",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contract_number": {
          "name": "contract_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contract_company_id": {
          "name": "contract_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "executed": {
          "name": "executed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "default_retainage_percent": {
          "name": "default_retainage_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "inclusions": {
          "name": "inclusions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "exclusions": {
          "name": "exclusions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_completion_date": {
          "name": "estimated_completion_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actual_completion_date": {
          "name": "actual_completion_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contract_date": {
          "name": "contract_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "signed_contract_received_date": {
          "name": "signed_contract_received_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "issued_on_date": {
          "name": "issued_on_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_private": {
          "name": "is_private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "non_admin_user_ids": {
          "name": "non_admin_user_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "allow_non_admin_view_sov_items": {
          "name": "allow_non_admin_view_sov_items",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_contact_ids": {
          "name": "invoice_contact_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "total_sov_amount": {
          "name": "total_sov_amount",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "total_billed_to_date": {
          "name": "total_billed_to_date",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "total_amount_remaining": {
          "name": "total_amount_remaining",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "sov_line_count": {
          "name": "sov_line_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "attachment_count": {
          "name": "attachment_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_type": {
          "name": "company_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT s.id, s.contract_number, s.contract_company_id, s.title, s.status, s.executed, s.default_retainage_percent, s.description, s.inclusions, s.exclusions, s.start_date, s.estimated_completion_date, s.actual_completion_date, s.contract_date, s.signed_contract_received_date, s.issued_on_date, s.is_private, s.non_admin_user_ids, s.allow_non_admin_view_sov_items, s.invoice_contact_ids, s.project_id, s.created_by, s.created_at, s.updated_at, COALESCE(sov_totals.total_amount, 0::numeric) AS total_sov_amount, COALESCE(sov_totals.total_billed, 0::numeric) AS total_billed_to_date, COALESCE(sov_totals.total_amount, 0::numeric) - COALESCE(sov_totals.total_billed, 0::numeric) AS total_amount_remaining, COALESCE(sov_totals.line_item_count, 0::bigint) AS sov_line_count, COALESCE(att_count.count, 0::bigint) AS attachment_count, c.name AS company_name, c.type AS company_type FROM subcontracts s LEFT JOIN ( SELECT subcontract_sov_items.subcontract_id, sum(subcontract_sov_items.amount) AS total_amount, sum(subcontract_sov_items.billed_to_date) AS total_billed, count(*) AS line_item_count FROM subcontract_sov_items GROUP BY subcontract_sov_items.subcontract_id) sov_totals ON s.id = sov_totals.subcontract_id LEFT JOIN ( SELECT subcontract_attachments.subcontract_id, count(*) AS count FROM subcontract_attachments GROUP BY subcontract_attachments.subcontract_id) att_count ON s.id = att_count.subcontract_id LEFT JOIN companies c ON s.contract_company_id = c.id",
      "materialized": false
    },
    "public.v_budget_lines": {
      "name": "v_budget_lines",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "sub_job_id": {
          "name": "sub_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cost_code_id": {
          "name": "cost_code_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cost_type_id": {
          "name": "cost_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_amount": {
          "name": "original_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "budget_mod_total": {
          "name": "budget_mod_total",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "approved_co_total": {
          "name": "approved_co_total",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "revised_budget": {
          "name": "revised_budget",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id, project_id, sub_job_id, cost_code_id, cost_type_id, description, original_amount, created_by, created_at, updated_at, COALESCE(( SELECT sum(bml.amount) AS sum FROM budget_mod_lines bml JOIN budget_modifications bm ON bml.budget_modification_id = bm.id WHERE bm.status = 'approved'::text AND bml.project_id = bl.project_id AND COALESCE(bml.sub_job_id, '00000000-0000-0000-0000-000000000000'::uuid) = bl.sub_job_key AND bml.cost_code_id = bl.cost_code_id AND bml.cost_type_id = bl.cost_type_id), 0::numeric) AS budget_mod_total, COALESCE(( SELECT sum(col.amount) AS sum FROM change_order_lines col JOIN change_orders co ON col.change_order_id = co.id WHERE co.status = 'approved'::text AND col.project_id = bl.project_id AND COALESCE(col.sub_job_id, '00000000-0000-0000-0000-000000000000'::uuid) = bl.sub_job_key AND col.cost_code_id = bl.cost_code_id AND col.cost_type_id = bl.cost_type_id), 0::numeric) AS approved_co_total, original_amount + COALESCE(( SELECT sum(bml.amount) AS sum FROM budget_mod_lines bml JOIN budget_modifications bm ON bml.budget_modification_id = bm.id WHERE bm.status = 'approved'::text AND bml.project_id = bl.project_id AND COALESCE(bml.sub_job_id, '00000000-0000-0000-0000-000000000000'::uuid) = bl.sub_job_key AND bml.cost_code_id = bl.cost_code_id AND bml.cost_type_id = bl.cost_type_id), 0::numeric) + COALESCE(( SELECT sum(col.amount) AS sum FROM change_order_lines col JOIN change_orders co ON col.change_order_id = co.id WHERE co.status = 'approved'::text AND col.project_id = bl.project_id AND COALESCE(col.sub_job_id, '00000000-0000-0000-0000-000000000000'::uuid) = bl.sub_job_key AND col.cost_code_id = bl.cost_code_id AND col.cost_type_id = bl.cost_type_id), 0::numeric) AS revised_budget FROM budget_lines bl",
      "materialized": false
    }
  },
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {
      "fm_text_chunks": {
        "columns": {
          "section_path": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "search_keywords": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "topics": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "extracted_requirements": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "related_figures": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "integer"
          },
          "related_tables": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "related_sections": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "savings_opportunities": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "meeting_segments": {
        "columns": {
          "project_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "integer"
          }
        }
      },
      "fm_optimization_suggestions": {
        "columns": {
          "applicable_codes": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "asrs_configurations": {
        "columns": {
          "container_types": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "typical_applications": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "fm_form_submissions": {
        "columns": {
          "matched_table_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "similarity_scores": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "numeric"
          }
        }
      },
      "fm_documents": {
        "columns": {
          "related_table_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "fm_global_tables": {
        "columns": {
          "commodity_types": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "special_conditions": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "applicable_figures": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "integer"
          },
          "section_references": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "fm_sections": {
        "columns": {
          "section_path": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "breadcrumb_display": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "fm_blocks": {
        "columns": {
          "inline_figures": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "integer"
          },
          "inline_tables": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "specifications": {
        "columns": {
          "keywords": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "contacts": {
        "columns": {
          "projects": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "submittal_types": {
        "columns": {
          "required_documents": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "initiatives": {
        "columns": {
          "team_members": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "stakeholders": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "keywords": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "aliases": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "documentation_links": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "related_project_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "integer"
          }
        }
      },
      "risks": {
        "columns": {
          "project_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "integer"
          }
        }
      },
      "subcontractors": {
        "columns": {
          "specialties": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "service_areas": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "nfpa_certifications": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "preferred_project_types": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "project_management_software": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "cad_software_proficiency": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "digital_collaboration_tools": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "quality_certifications": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "strengths": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "weaknesses": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "asrs_logic_cards": {
        "columns": {
          "related_table_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "related_figure_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "tasks": {
        "columns": {
          "project_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "integer"
          }
        }
      },
      "submittal_notifications": {
        "columns": {
          "delivery_methods": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "documents": {
        "columns": {
          "project_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "integer"
          }
        }
      },
      "fm_global_figures": {
        "columns": {
          "related_tables": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "integer"
          },
          "applicable_commodities": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "special_conditions": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "callouts_labels": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "axis_titles": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "axis_units": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "footnotes": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "search_keywords": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "section_references": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "project_briefings": {
        "columns": {
          "source_documents": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "briefing_runs": {
        "columns": {
          "input_doc_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "projects": {
        "columns": {
          "aliases": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "team_members": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "fm_sprinkler_configs": {
        "columns": {
          "special_conditions": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "prospects": {
        "columns": {
          "tags": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "decisions": {
        "columns": {
          "project_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "integer"
          }
        }
      },
      "opportunities": {
        "columns": {
          "project_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "integer"
          }
        }
      },
      "project": {
        "columns": {
          "team_members": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "keywords": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "procore_features": {
        "columns": {
          "screenshot_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "projects_audit": {
        "columns": {
          "changed_columns": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "document_metadata": {
        "columns": {
          "participants_array": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "project_insights": {
        "columns": {
          "source_document_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "chat_thread_feedback": {
        "columns": {
          "item_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "rfis": {
        "columns": {
          "assignees": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "distribution_list": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "document_insights": {
        "columns": {
          "urgency_indicators": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "source_meetings": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "dependencies": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "stakeholders_affected": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "exact_quotes": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "cross_project_impact": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "integer"
          }
        }
      },
      "ai_insights": {
        "columns": {
          "stakeholders_affected": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "urgency_indicators": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "cross_project_impact": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "integer"
          }
        }
      },
      "subcontracts": {
        "columns": {
          "non_admin_user_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "invoice_contact_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "document_metadata_manual_only": {
        "columns": {
          "participants_array": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          }
        }
      },
      "figure_summary": {
        "columns": {
          "related_tables": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "integer"
          }
        }
      },
      "ai_insights_today": {
        "columns": {
          "stakeholders_affected": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "urgency_indicators": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "cross_project_impact": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "integer"
          }
        }
      },
      "actionable_insights": {
        "columns": {
          "urgency_indicators": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "source_meetings": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "dependencies": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "stakeholders_affected": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "exact_quotes": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "cross_project_impact": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "integer"
          }
        }
      },
      "subcontractors_summary": {
        "columns": {
          "specialties": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "service_areas": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          }
        }
      },
      "project_with_manager": {
        "columns": {
          "aliases": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "team_members": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          }
        }
      },
      "subcontracts_with_totals": {
        "columns": {
          "non_admin_user_ids": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "uuid"
          },
          "invoice_contact_ids": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "uuid"
          }
        }
      }
    }
  }
}