@tailwind base;

@custom-variant dark (&:is(.dark *));
@tailwind components;
@tailwind utilities;

/* ============================================================================
   DESIGN SYSTEM - GLOBAL STYLES
   ============================================================================
   This file contains all global design system styles for the Alleato-PM platform.
   These styles follow best practices for maintainability and consistency.

   Table of Contents:
   1. CSS Variables (Theme)
   2. Base Styles
   3. Typography Components
   4. Layout Components
   5. Card Components
   6. Button Components
   7. Form Components
   8. Badge & Status Components
   9. Interactive Components
   10. Utility Components
   ============================================================================ */

/* ============================================================================
   1. CSS VARIABLES (THEME)
   ============================================================================ */

@layer base {
  :root {
    /* Core UI Colors */
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 180 1% 38%;
    --primary-foreground: 0 0% 100%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 29 71% 52%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 180 1% 38%;

    /* Chart Colors */
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;

    /* Border Radius */
    --radius: 0.5rem;
    --radius-sm: 0.375rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;

    /* Spacing Scale */
    --space-xs: 0.25rem;  /* 4px */
    --space-sm: 0.5rem;   /* 8px */
    --space-md: 1rem;     /* 16px */
    --space-lg: 1.5rem;   /* 24px */
    --space-xl: 2rem;     /* 32px */
    --space-2xl: 3rem;    /* 48px */
    --space-3xl: 4rem;    /* 64px */

    /* Typography */
    --font-sans: var(--font-geist-sans);
    --font-mono: var(--font-geist-mono);

    /* Procore Brand Colors */
    --procore-orange: 29 71% 52%;
    --procore-orange-hover: 29 71% 45%;
    --procore-header: 180 1% 38%;
    --procore-header-text: 0 0% 100%;
    --procore-info-bg: 214 95% 93%;
    --procore-info-text: 214 80% 40%;
    --procore-negative: 0 84% 60%;

    /* Brand color #DB802D - used sparingly as accent */
    --brand: 29 71% 52%;
    --brand-hover: 29 71% 45%;
    --brand-light: 29 71% 95%;

    /* Surface Colors */
    --surface-inverse: 0 0% 15.3%;
    --surface-elevated: 0 0% 100%;

    /* Semantic Status Colors */
    --status-success: 142 76% 36%;
    --status-warning: 38 92% 50%;
    --status-error: 0 84% 60%;
    --status-info: 214 80% 52%;

    /* Chat UI - Dark Luxury Theme */
    --chat-bg: 0 0% 7%;
    --chat-panel: 0 0% 10%;
    --chat-panel-2: 0 0% 13%;
    --chat-border: 0 0% 20%;
    --chat-text: 0 0% 95%;
    --chat-muted: 0 0% 60%;
    --chat-accent: 190 95% 45%;
    --chat-accent-2: 29 71% 52%;
    --chat-hover: 0 0% 15%;
  }

  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;

    /* Brand color - slightly brighter for dark mode */
    --brand: 29 71% 58%;
    --brand-hover: 29 71% 65%;
    --brand-light: 29 71% 15%;
  }
}

:root {
  --sidebar: hsl(0 0% 98%);
  --sidebar-foreground: hsl(240 5.3% 26.1%);
  --sidebar-primary: hsl(240 5.9% 10%);
  --sidebar-primary-foreground: hsl(0 0% 98%);
  --sidebar-accent: hsl(240 4.8% 95.9%);
  --sidebar-accent-foreground: hsl(240 5.9% 10%);
  --sidebar-border: hsl(220 13% 91%);
  --sidebar-ring: hsl(38, 91%, 52%);
}

.dark {
  --sidebar: hsl(240 5.9% 10%);
  --sidebar-foreground: hsl(240 4.8% 95.9%);
  --sidebar-primary: hsl(224.3 76.3% 48%);
  --sidebar-primary-foreground: hsl(0 0% 100%);
  --sidebar-accent: hsl(240 3.7% 15.9%);
  --sidebar-accent-foreground: hsl(240 4.8% 95.9%);
  --sidebar-border: hsl(240 3.7% 15.9%);
  --sidebar-ring: hsl(217.2 91.2% 59.8%);
}

@theme inline {
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
  --animate-marquee: marquee var(--duration) infinite linear;
  --animate-marquee-vertical: marquee-vertical var(--duration) linear infinite;
  @keyframes marquee {
  from {
    transform: translateX(0);
    }
  to {
    transform: translateX(calc(-100% - var(--gap)));
    }
  }
  @keyframes marquee-vertical {
  from {
    transform: translateY(0);
    }
  to {
    transform: translateY(calc(-100% - var(--gap)));
    }
  }
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground overflow-x-hidden;
    font-family: var(--font-sans);
  }
}

@layer utilities {
  .font-serif {
    font-family: var(--font-serif);
  }
}

/* ============================================================================
   2. TYPOGRAPHY COMPONENTS
   ============================================================================
   Consistent typography patterns used across the application.
   Based on the executive/editorial design language.
   ============================================================================ */

@layer components {
  /* Page Title - Large editorial serif typography */
  .text-page-title {
    @apply text-4xl md:text-5xl lg:text-6xl font-serif font-light tracking-tight text-neutral-900 leading-[1.05];
  }

  /* Section Title - Medium serif typography */
  .text-section-title {
    @apply text-2xl md:text-3xl font-serif font-light tracking-tight text-neutral-900;
  }

  /* Card Title - Clean serif typography */
  .text-card-title {
    @apply text-lg md:text-xl font-serif font-light text-neutral-900 tracking-tight;
  }

  /* Pre-heading/Eyebrow - Uppercase tracking label */
  .text-label-uppercase {
    @apply text-[11px] font-semibold tracking-[0.2em] uppercase text-neutral-400;
  }

  /* Section Label - Smaller uppercase tracking */
  .text-section-label {
    @apply text-[10px] font-semibold tracking-[0.15em] uppercase text-neutral-500;
  }

  /* Body text - Standard readable text */
  .text-body {
    @apply text-sm md:text-base text-neutral-600 leading-relaxed;
  }

  /* Body small - Smaller body text */
  .text-body-sm {
    @apply text-sm text-neutral-600 leading-relaxed;
  }

  /* Muted text - Secondary/helper text */
  .text-muted-custom {
    @apply text-xs text-neutral-500;
  }

  /* Metric/Number display - Large tabular numbers */
  .text-metric-lg {
    @apply text-4xl md:text-5xl font-light tabular-nums tracking-tight;
  }

  /* Metric medium - Medium tabular numbers */
  .text-metric-md {
    @apply text-3xl md:text-4xl font-light tabular-nums tracking-tight;
  }

  /* Metric small - Small tabular numbers */
  .text-metric-sm {
    @apply text-2xl font-light tabular-nums tracking-tight text-neutral-900;
  }

  /* Link text - Clickable text style */
  .text-link {
    @apply text-sm font-medium text-neutral-900 hover:text-brand transition-colors;
  }
}

/* ============================================================================
   3. LAYOUT COMPONENTS
   ============================================================================
   Page layouts, containers, and structural components.
   ============================================================================ */

@layer components {
  /* Main page container with responsive padding */
  .page-container {
    @apply min-h-screen px-4 sm:px-6 md:px-8 lg:px-12 py-2 sm:py-6 max-w-[1800px] mx-auto;
  }

  /* Page header section */
  .page-header {
    @apply mb-4 pb-4 sm:mb-8 sm:pb-8;
  }

  /* Section with bottom margin */
  .section-spacing {
    @apply mb-10;
  }

  /* Section with large bottom margin */
  .section-spacing-lg {
    @apply mb-20;
  }

  /* Standard content grid - 2 columns on large */
  .content-grid {
    @apply grid grid-cols-1 lg:grid-cols-3 gap-6;
  }

  /* Metrics row - horizontal on desktop */
  .metrics-row {
    @apply flex flex-col gap-4 md:flex-row md:gap-6;
  }

  /* Status row - responsive grid */
  .status-row {
    @apply grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4;
  }

  /* Dropdown menu grid layout */
  .dropdown-grid {
    @apply grid grid-cols-1 gap-8 md:grid-cols-3 md:gap-12;
  }
}

/* ============================================================================
   4. CARD COMPONENTS
   ============================================================================
   Card styles for content containers, metrics, and interactive elements.
   ============================================================================ */

@layer components {
  /* Base card - simple border and background */
  .card-base {
    @apply border border-neutral-200 bg-white;
  }

  /* Card with padding */
  .card-padded {
    @apply border border-neutral-200 bg-white p-6 md:p-8;
  }

  /* Card with smaller padding */
  .card-padded-sm {
    @apply border border-neutral-200 bg-white p-4 md:p-6;
  }

  /* Interactive card - with hover effects */
  .card-interactive {
    @apply border border-neutral-200 bg-white p-4 md:p-6 transition-all duration-300 hover:border-brand hover:shadow-sm;
  }

  /* Metric card - for displaying KPIs */
  .card-metric {
    @apply w-full border border-neutral-200 bg-white p-4 transition-all duration-300 hover:border-brand hover:shadow-sm md:w-1/3 md:p-6;
  }

  /* Sidebar card - for right column widgets */
  .card-sidebar {
    @apply border border-neutral-200 bg-white p-8 mb-6;
  }

  /* Card header with bottom border */
  .card-header {
    @apply flex items-center justify-between mb-6 pb-4 border-b border-neutral-100;
  }

  /* Card header without border */
  .card-header-clean {
    @apply flex items-start justify-between mb-6;
  }

  /* Card content spacing */
  .card-content {
    @apply space-y-4;
  }

  /* Card footer with top border */
  .card-footer {
    @apply pt-3 border-t border-neutral-100;
  }
}

/* ============================================================================
   5. BUTTON COMPONENTS
   ============================================================================
   Button styles for various actions and interactions.
   ============================================================================ */

@layer components {
  /* Primary brand button */
  .btn-primary {
    @apply bg-brand text-white hover:bg-brand/90 transition-colors px-4 py-2 text-sm font-medium;
  }

  /* Secondary button */
  .btn-secondary {
    @apply bg-neutral-100 text-neutral-900 hover:bg-neutral-200 transition-colors px-4 py-2 text-sm font-medium;
  }

  /* Ghost button - minimal styling */
  .btn-ghost {
    @apply text-neutral-600 hover:text-neutral-900 transition-colors px-4 py-2 text-sm font-medium;
  }

  /* Icon button - small circular button */
  .btn-icon {
    @apply p-2 rounded-full hover:bg-neutral-100 transition-colors;
  }

  /* Inline add button */
  .btn-add-inline {
    @apply inline-flex items-center gap-1.5 text-xs font-medium text-neutral-600 hover:text-brand transition-colors duration-200;
  }

  /* Editable field trigger */
  .btn-editable {
    @apply group w-full cursor-pointer hover:opacity-70 transition-opacity duration-200 border-0 bg-transparent text-left p-0;
  }

  /* Menu link button */
  .btn-menu-link {
    @apply flex w-full items-center justify-between rounded px-3 py-2 text-left text-sm hover:bg-neutral-100 transition-colors;
  }

  /* Dropdown action icon */
  .btn-dropdown-icon {
    @apply ml-1 h-4 w-4 rounded-full bg-brand p-0.5 text-white;
  }
}

/* ============================================================================
   6. FORM COMPONENTS
   ============================================================================
   Form input styles for consistent form elements.
   ============================================================================ */

@layer components {
  /* Standard input field */
  .input-base {
    @apply border-neutral-300 focus:border-brand focus:ring-brand/20;
  }

  /* Compact input field */
  .input-compact {
    @apply h-9 border-neutral-300 focus:border-brand focus:ring-brand/20;
  }

  /* Form label */
  .label-base {
    @apply text-xs font-semibold text-neutral-500;
  }

  /* Form field group spacing */
  .field-group {
    @apply space-y-2;
  }

  /* Dialog form spacing */
  .form-dialog {
    @apply space-y-5 py-4;
  }

  /* Dialog footer with actions */
  .dialog-footer {
    @apply flex justify-end gap-3 pt-4 border-t border-neutral-100;
  }
}

/* Global input field white background */
@layer base {
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="tel"],
  input[type="url"],
  input[type="search"],
  input[type="date"],
  input[type="datetime-local"],
  input[type="month"],
  input[type="week"],
  input[type="time"],
  textarea,
  select {
    @apply bg-white;
  }

  /* Ensure white background persists on focus and disabled states */
  input[type="text"]:focus,
  input[type="email"]:focus,
  input[type="password"]:focus,
  input[type="number"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="search"]:focus,
  input[type="date"]:focus,
  input[type="datetime-local"]:focus,
  input[type="month"]:focus,
  input[type="week"]:focus,
  input[type="time"]:focus,
  textarea:focus,
  select:focus {
    @apply bg-white;
  }

  input[type="text"]:disabled,
  input[type="email"]:disabled,
  input[type="password"]:disabled,
  input[type="number"]:disabled,
  input[type="tel"]:disabled,
  input[type="url"]:disabled,
  input[type="search"]:disabled,
  input[type="date"]:disabled,
  input[type="datetime-local"]:disabled,
  input[type="month"]:disabled,
  input[type="week"]:disabled,
  input[type="time"]:disabled,
  textarea:disabled,
  select:disabled {
    @apply bg-gray-50;
  }
}

/* ============================================================================
   7. BADGE & STATUS COMPONENTS
   ============================================================================
   Badges, tags, and status indicators.
   ============================================================================ */

@layer components {
  /* Base badge style */
  .badge-base {
    @apply px-2 py-0.5 text-xs font-medium rounded;
  }

  /* Success/Green badge */
  .badge-success {
    @apply rounded bg-green-100 px-2 py-0.5 text-xs font-medium text-green-700;
  }

  /* Warning/Yellow badge */
  .badge-warning {
    @apply rounded bg-yellow-100 px-2 py-0.5 text-xs font-medium text-yellow-700;
  }

  /* Error/Red badge */
  .badge-error {
    @apply rounded bg-red-100 px-2 py-0.5 text-xs font-medium text-red-700;
  }

  /* Info/Blue badge */
  .badge-info {
    @apply rounded bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-700;
  }

  /* Neutral badge */
  .badge-neutral {
    @apply flex-shrink-0 px-3 py-1 text-[10px] font-semibold tracking-[0.1em] uppercase bg-neutral-100 text-neutral-700 border border-neutral-200;
  }

  /* Status indicator - positive */
  .status-positive {
    @apply text-green-700;
  }

  /* Status indicator - negative */
  .status-negative {
    @apply text-red-700;
  }

  /* Status icon small */
  .status-icon-sm {
    @apply h-3.5 w-3.5;
  }
}

/* ============================================================================
   8. INTERACTIVE COMPONENTS
   ============================================================================
   Interactive elements, hover states, and clickable items.
   ============================================================================ */

@layer components {
  /* List item - hoverable */
  .list-item-hover {
    @apply block group;
  }

  /* List item text with hover */
  .list-item-text {
    @apply text-sm font-medium text-neutral-900 group-hover:text-brand truncate transition-colors;
  }

  /* Metadata row */
  .metadata-row {
    @apply flex flex-wrap items-center gap-4 pt-3 border-t border-neutral-100;
  }

  /* Metadata item */
  .metadata-item {
    @apply flex items-center gap-2 text-xs text-neutral-500;
  }

  /* Team member row */
  .team-member-row {
    @apply flex items-center gap-4 pb-4 border-b border-neutral-100 last:border-0 last:pb-0;
  }

  /* Avatar container */
  .avatar-container {
    @apply h-10 w-10 border border-neutral-200;
  }

  /* Avatar fallback */
  .avatar-fallback {
    @apply bg-neutral-100 text-neutral-600 text-xs font-medium;
  }

  /* Editable field with icon */
  .editable-field {
    @apply flex items-center gap-2;
  }

  /* Edit pencil icon */
  .edit-icon {
    @apply h-3 w-3 text-neutral-400 opacity-0 group-hover:opacity-100 transition-opacity;
  }

  /* Brand icon */
  .icon-brand {
    @apply h-4 w-4 text-brand flex-shrink-0;
  }

  /* Icon container */
  .icon-container {
    @apply h-5 w-5 text-brand;
  }
}

/* ============================================================================
   9. TABLE COMPONENTS
   ============================================================================
   Table styles for data display.
   ============================================================================ */

@layer components {
  /* Table container */
  .table-container {
    @apply bg-white rounded-md border border-gray-200;
  }

  /* Table header row */
  .table-header-row {
    @apply px-6 py-4 border-b border-gray-200 flex items-center justify-between;
  }

  /* Table heading */
  .table-heading {
    @apply text-base font-semibold text-gray-900;
  }

  /* Empty state */
  .table-empty {
    @apply text-center text-gray-500 py-8;
  }
}

/* ============================================================================
   10. DROPDOWN & MENU COMPONENTS
   ============================================================================
   Dropdown menus and navigation components.
   ============================================================================ */

@layer components {
  /* Dropdown content container */
  .dropdown-content {
    @apply w-[calc(100vw-2rem)] sm:w-screen sm:max-w-4xl rounded-lg border-neutral-200 p-4 sm:p-8 shadow-lg max-h-[80vh] overflow-y-auto;
  }

  /* Dropdown section heading */
  .dropdown-section-heading {
    @apply mb-4 text-xs font-semibold tracking-[0.15em] uppercase text-neutral-500;
  }

  /* Dropdown section */
  .dropdown-section {
    @apply space-y-1;
  }

  /* View all link */
  .link-view-all {
    @apply text-xs text-neutral-500 font-medium hover:underline;
  }
}

/* ============================================================================
   11. UTILITY COMPONENTS
   ============================================================================
   Miscellaneous utility classes.
   ============================================================================ */

@layer components {
  /* Truncated text */
  .text-truncate {
    @apply truncate;
  }

  /* Content with line clamp */
  .line-clamp-2-custom {
    @apply line-clamp-2;
  }

  /* Separator dot */
  .separator-dot {
    @apply text-neutral-400;
  }

  /* Loading state */
  .loading-state {
    @apply flex items-center justify-center h-full;
  }

  /* Loading text */
  .loading-text {
    @apply text-gray-500;
  }

  /* Empty state container */
  .empty-state {
    @apply text-center py-12;
  }

  /* Empty state text */
  .empty-state-text {
    @apply text-sm text-neutral-400 mb-2;
  }

  /* Empty state helper */
  .empty-state-helper {
    @apply text-xs text-neutral-400;
  }
}

/* ChatGPT-like Chat Interface Styling */
@layer components {
  /* Hide ChatKit header and make it cleaner */
  [data-testid="rag-chatkit-panel"] [data-chatkit-header] {
    display: none;
  }

  /* Style the chat container */
  [data-chatkit-container] {
    background: white;
  }

  /* Style the history sidebar like ChatGPT */
  [data-chatkit-history] {
    background: #f9fafb;
    border-right: 1px solid #e5e7eb;
  }

  /* Style chat messages with more spacing */
  [data-chatkit-thread-item] {
    padding: 1.5rem 0;
  }

  /* User messages styling */
  [data-chatkit-thread-item][data-role="user"] {
    background: transparent;
  }

  /* Assistant messages styling */
  [data-chatkit-thread-item][data-role="assistant"] {
    background: transparent;
  }

  /* Input composer styling - more like ChatGPT */
  [data-chatkit-composer] {
    border-top: 1px solid #e5e7eb;
    padding: 1rem;
    background: white;
  }

  [data-chatkit-composer] textarea {
    border: 1px solid #d1d5db;
    border-radius: 0.75rem;
    padding: 0.75rem 1rem;
    font-size: 0.9375rem;
    line-height: 1.5;
    resize: none;
    max-height: 200px;
  }

  [data-chatkit-composer] textarea:focus {
    border-color: #9ca3af;
    outline: none;
    box-shadow: 0 0 0 1px #9ca3af;
  }

  /* Prompt cards styling */
  [data-chatkit-start-prompts] {
    gap: 0.75rem;
    padding: 1rem;
  }

  [data-chatkit-start-prompt] {
    border: 1px solid #e5e7eb;
    border-radius: 0.75rem;
    padding: 0.875rem 1rem;
    background: white;
    transition: all 0.2s;
    cursor: pointer;
  }

  [data-chatkit-start-prompt]:hover {
    background: #f9fafb;
    border-color: #d1d5db;
  }

  /* Center the start screen content */
  [data-chatkit-start-screen] {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    max-width: 48rem;
    margin: 0 auto;
  }

  /* Thread list in sidebar */
  [data-chatkit-thread-list-item] {
    padding: 0.75rem;
    border-radius: 0.5rem;
    margin: 0.25rem 0.5rem;
    cursor: pointer;
    transition: background 0.2s;
  }

  [data-chatkit-thread-list-item]:hover {
    background: #f3f4f6;
  }

  [data-chatkit-thread-list-item][data-active="true"] {
    background: #e5e7eb;
  }

  /* Message content styling */
  [data-chatkit-message-content] {
    font-size: 0.9375rem;
    line-height: 1.75;
  }

  [data-chatkit-message-content] p {
    margin: 0.75rem 0;
  }

  [data-chatkit-message-content] code {
    background: #f3f4f6;
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
    font-size: 0.875rem;
  }

  [data-chatkit-message-content] pre {
    background: #1f2937;
    color: #f9fafb;
    padding: 1rem;
    border-radius: 0.5rem;
    overflow-x: auto;
    margin: 1rem 0;
  }

  [data-chatkit-message-content] pre code {
    background: transparent;
    padding: 0;
    color: inherit;
  }

  /* Action buttons styling */
  [data-chatkit-thread-item-actions] {
    gap: 0.5rem;
  }

  [data-chatkit-thread-item-actions] button {
    padding: 0.375rem;
    border-radius: 0.375rem;
    transition: background 0.2s;
  }

  [data-chatkit-thread-item-actions] button:hover {
    background: #f3f4f6;
  }
}

/* GLOBAL MOBILE RESPONSIVENESS FIX */
@layer base {
  /* Prevent horizontal overflow on all elements */
  html,
  body {
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* Ensure all direct children respect viewport width */
  body > * {
    max-width: 100vw;
    overflow-x: hidden;
  }

  /* Fix for elements with fixed/absolute positioning */
  [class*="fixed"],
  [class*="absolute"] {
    max-width: 100vw;
  }

  /* Ensure images and media are responsive by default */
  img,
  video,
  iframe {
    max-width: 100%;
    height: auto;
  }

  /* Prevent pre and code blocks from overflowing */
  pre,
  code {
    max-width: 100%;
    overflow-x: auto;
  }
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* ============================================================================
   RESPONSIVE TYPOGRAPHY & COMPONENTS (2025 BEST PRACTICES)
   ============================================================================
   Global responsive typography and component styles following modern UX standards.
   Based on 8px grid system with mobile-first approach.
   ============================================================================ */

@layer components {
  /* Headings with responsive sizing */
  h1 {
    @apply text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold tracking-tight text-gray-900;
  }

  h2 {
    @apply text-xl sm:text-2xl md:text-3xl lg:text-4xl font-semibold tracking-tight text-gray-900;
  }

  h3 {
    @apply text-lg sm:text-xl md:text-2xl font-semibold text-gray-900;
  }

  h4 {
    @apply text-base sm:text-lg md:text-xl font-semibold text-gray-900;
  }

  /* Page subtitle/description text */
  .text-subtitle {
    @apply text-sm sm:text-base text-gray-600;
  }

  /* Standard paragraph */
  p {
    @apply text-sm sm:text-base text-gray-700 leading-relaxed;
  }

  /* Table styling */
  table {
    @apply w-full border-collapse;
  }

  thead {
    @apply bg-gray-100 border-b-2 border-gray-200;
  }

  th {
    @apply px-3 py-2 sm:px-4 sm:py-3 md:px-6 md:py-4 text-left text-xs sm:text-sm font-semibold text-gray-700;
  }

  tbody tr {
    @apply border-b border-gray-200 hover:bg-gray-50 transition-colors;
  }

  td {
    @apply px-3 py-2 sm:px-4 sm:py-3 md:px-6 md:py-4 text-xs sm:text-sm text-gray-600;
  }

  /* Primary button */
  .btn-primary {
    @apply px-4 py-2 sm:px-5 sm:py-2.5 md:px-6 md:py-3 bg-brand text-white rounded-lg hover:bg-blue-700 active:bg-blue-800;
  }

  /* Secondary button */
  .btn-secondary {
    @apply px-4 py-2 sm:px-5 sm:py-2.5 md:px-6 md:py-3 bg-gray-200 text-gray-900 rounded-lg hover:bg-gray-300 active:bg-gray-400;
  }

  /* Danger button */
  .btn-danger {
    @apply px-4 py-2 sm:px-5 sm:py-2.5 md:px-6 md:py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 active:bg-red-800;
  }

  /* Button group with responsive gaps */
  .button-group {
    @apply flex flex-col sm:flex-row gap-2 sm:gap-3 md:gap-4;
  }

  /* Responsive container */
  .responsive-container {
    @apply max-w-7xl mx-auto;
  }

  /* Back button styling */
  .btn-back {
    @apply inline-flex items-center gap-2 px-3 py-2 sm:px-4 sm:py-2 text-sm sm:text-base text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors;
  }

  /* Form inputs */
  input[type="text"],
  input[type="number"],
  input[type="email"],
  select,
  textarea {
    @apply w-full px-3 py-2 sm:px-4 sm:py-2.5 md:px-4 md:py-3 text-sm sm:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent;
  }

  /* Card styling */
  .card {
    @apply bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow p-4 sm:p-6 md:p-8;
  }

  /* Section spacing */
  .section {
    @apply my-6 sm:my-8 md:my-10 lg:my-12;
  }
}

/* Responsive text utilities */
@layer utilities {
  /* Text sizing utilities */
  .text-responsive {
    @apply text-sm sm:text-base md:text-lg;
  }

  .text-responsive-lg {
    @apply text-base sm:text-lg md:text-xl;
  }

  /* Padding utilities for consistent spacing */
  .px-responsive {
    @apply px-4 sm:px-6 md:px-8 lg:px-10;
  }

  .py-responsive {
    @apply py-6 sm:py-8 md:py-10 lg:py-12;
  }

  .gap-responsive {
    @apply gap-2 sm:gap-3 md:gap-4 lg:gap-6;
  }

  /* Touch target utilities */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }
}