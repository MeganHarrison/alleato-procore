/** * ============================================================================ * FULL-FEATURED TABLE PAGE TEMPLATE * ============================================================================ * * This template demonstrates ALL available features of the GenericDataTable * using the EMPLOYEES table as a real-world example. * * âœ… ENABLED FEATURES: * 1. Inline Editing - Double-click cells or use edit button * 2. Column Sorting - Click headers, Shift+Click for multi-column * 3. Column Visibility - Show/hide columns dynamically * 4. Column Resizing - Drag column borders to resize * 5. Column Pinning - Pin columns to left or right * 6. Row Selection - Checkboxes for bulk operations * 7. Bulk Actions - Actions on multiple selected rows * 8. Row Drag & Drop - Reorder rows by dragging * 9. Row Expansion - Expandable rows with extra details * 10. Virtual Scrolling - For large datasets (10,000+ rows) * 11. Fuzzy Search - Better search results with typo tolerance * 12. Advanced Filters - Date range, number range, multi-select * 13. Saved Views - Save and load filter/column configurations * 14. Column Statistics - Sum, avg, count, min, max * 15. Multiple View Modes - Table, Card, List views * 16. Multiple Export Formats - CSV, JSON, Excel * 17. Keyboard Shortcuts - Navigate with keyboard * 18. State Persistence - Remembers filters, sort, columns * 19. Row Click Navigation - Click row to navigate to detail * 20. Delete Functionality - Delete rows with confirmation * * USE THIS TEMPLATE WHEN: * - You need a power-user data management interface * - Users need to work with large datasets efficiently * - Advanced filtering and analysis is required * - You want all bells and whistles enabled * * CUSTOMIZE THIS: * - Replace 'employees' with your table name * - Update column definitions to match your schema * - Adjust filter options to match your data * - Modify bulk actions for your use case * - Update saved views to match your needs * * LOCATED AT: [frontend/src/app/(tables)/TABLE_TEMPLATE_FULL_FEATURES.tsx.example](frontend/src/app/(tables)/TABLE_TEMPLATE_FULL_FEATURES.tsx.example) */ import { createClient } from '@/lib/supabase/server'
import { GenericDataTable, type GenericTableConfig } from '@/components/tables/generic-table-factory' // ============================================================================
// ðŸŽ¯ FULL-FEATURED TABLE CONFIGURATION
// ============================================================================
// This config enables EVERY available feature. Feel free to remove any
// features you don't need for your specific use case.
// ============================================================================ const config: GenericTableConfig = { // ------------------------------------------------------------------------- // BASIC CONFIGURATION // ------------------------------------------------------------------------- title: 'Employees', description: 'Comprehensive employee management with all features enabled', exportFilename: 'employees-export', // ------------------------------------------------------------------------- // SEARCH CONFIGURATION // ------------------------------------------------------------------------- searchFields: ['first_name', 'last_name', 'email', 'job_title', 'department'], enableFuzzySearch: true, // âœ… Typo-tolerant search fuzzySearchThreshold: 0.3, // 0.0 = exact, 1.0 = match anything // ------------------------------------------------------------------------- // COLUMN DEFINITIONS (with ALL features) // ------------------------------------------------------------------------- columns: [ { id: 'first_name', label: 'First Name', defaultVisible: true, type: 'text', isPrimary: true, // Used in card/list views sortable: true, // âœ… Can be sorted resizable: true, // âœ… Can be resized pinnable: true, // âœ… Can be pinned left/right defaultWidth: 150, minWidth: 100, maxWidth: 300, tooltip: 'Employee first name', }, { id: 'last_name', label: 'Last Name', defaultVisible: true, type: 'text', isPrimary: true, sortable: true, resizable: true, pinnable: true, defaultWidth: 150, minWidth: 100, maxWidth: 300, }, { id: 'email', label: 'Email', defaultVisible: true, type: 'email', sortable: true, resizable: true, defaultWidth: 250, minWidth: 200, maxWidth: 400, }, { id: 'phone', label: 'Phone', defaultVisible: true, type: 'text', sortable: true, resizable: true, defaultWidth: 150, }, { id: 'job_title', label: 'Job Title', defaultVisible: true, isSecondary: true, // Used in card/list views type: 'text', sortable: true, resizable: true, defaultWidth: 200, }, { id: 'department', label: 'Department', defaultVisible: true, type: 'badge', sortable: true, resizable: true, renderConfig: { type: 'badge', variantMap: { 'Engineering': 'default', 'Sales': 'success', 'Marketing': 'warning', 'HR': 'secondary', 'Operations': 'outline', }, defaultVariant: 'outline', }, }, { id: 'supervisor_name', label: 'Supervisor', defaultVisible: true, type: 'text', sortable: true, resizable: true, defaultWidth: 180, }, { id: 'salery', label: 'Salary', defaultVisible: false, type: 'text', sortable: true, resizable: true, stat: { // âœ… Column statistics type: 'count', format: 'number', }, }, { id: 'company_card', label: 'Company Card', defaultVisible: false, type: 'number', sortable: true, resizable: true, renderConfig: { type: 'currency', prefix: '$', showDecimals: true, }, stat: { type: 'sum', format: 'currency', }, }, { id: 'phone_allowance', label: 'Phone Allowance', defaultVisible: false, type: 'number', sortable: true, resizable: true, renderConfig: { type: 'currency', prefix: '$', showDecimals: true, }, stat: { type: 'sum', format: 'currency', }, }, { id: 'truck_allowance', label: 'Truck Allowance', defaultVisible: false, type: 'number', sortable: true, resizable: true, renderConfig: { type: 'currency', prefix: '$', showDecimals: true, }, stat: { type: 'sum', format: 'currency', }, }, { id: 'start_date', label: 'Start Date', defaultVisible: true, type: 'date', sortable: true, resizable: true, defaultWidth: 140, }, { id: 'photo', label: 'Photo URL', defaultVisible: false, type: 'text', sortable: false, resizable: true, }, { id: 'created_at', label: 'Created', defaultVisible: false, type: 'date', sortable: true, }, { id: 'updated_at', label: 'Updated', defaultVisible: false, type: 'date', sortable: true, }, ], // ------------------------------------------------------------------------- // FILTERING CONFIGURATION // ------------------------------------------------------------------------- filters: [ { id: 'department', label: 'Department', field: 'department', options: [ { value: 'Engineering', label: 'Engineering' }, { value: 'Sales', label: 'Sales' }, { value: 'Marketing', label: 'Marketing' }, { value: 'HR', label: 'Human Resources' }, { value: 'Operations', label: 'Operations' }, { value: 'Finance', label: 'Finance' }, ], }, { id: 'job_title', label: 'Job Title', field: 'job_title', options: [ { value: 'Project Manager', label: 'Project Manager' }, { value: 'Engineer', label: 'Engineer' }, { value: 'Developer', label: 'Developer' }, { value: 'Designer', label: 'Designer' }, { value: 'Analyst', label: 'Analyst' }, // Add your actual job title options ], }, ], // âœ… Advanced Filters - Date ranges, number ranges, multi-select advancedFilters: [ { id: 'start-date-range', label: 'Start Date Range', field: 'start_date', type: 'date-range', }, { id: 'allowance-range', label: 'Phone Allowance Range', field: 'phone_allowance', type: 'number-range', }, { id: 'department-multi', label: 'Departments (Multi-select)', field: 'department', type: 'multi-select', options: [ { value: 'Engineering', label: 'Engineering' }, { value: 'Sales', label: 'Sales' }, { value: 'Marketing', label: 'Marketing' }, { value: 'HR', label: 'HR' }, { value: 'Operations', label: 'Operations' }, ], }, ], // ------------------------------------------------------------------------- // SORTING CONFIGURATION // ------------------------------------------------------------------------- enableSorting: true, // âœ… Enable column sorting defaultSortColumn: 'last_name', defaultSortDirection: 'asc', enableMultiColumnSort: true, // âœ… Shift+Click for multi-column sort // ------------------------------------------------------------------------- // SELECTION & BULK ACTIONS // ------------------------------------------------------------------------- enableRowSelection: true, // âœ… Checkboxes for row selection bulkActions: [ { id: 'export-selected', label: 'Export Selected', icon: null, variant: 'default', onClick: async (selectedIds) => { console.warn('Exporting employees:', selectedIds) // Implement your export logic here }, }, { id: 'change-department', label: 'Change Department', icon: null, variant: 'default', onClick: async (selectedIds) => { console.warn('Changing department for:', selectedIds) // Implement your department change logic here }, }, { id: 'send-email', label: 'Send Email', icon: null, variant: 'default', onClick: async (selectedIds) => { console.warn('Sending email to:', selectedIds) // Implement your email logic here }, }, { id: 'delete-selected', label: 'Delete Selected', icon: null, variant: 'destructive', onClick: async (selectedIds) => { console.warn('Deleting employees:', selectedIds) // Implement your bulk delete logic here }, disabled: (selectedIds) => selectedIds.length === 0, }, ], // ------------------------------------------------------------------------- // EDITING CONFIGURATION // ------------------------------------------------------------------------- editConfig: { tableName: 'employees', // âœ… Inline editing enabled editableFields: [ 'first_name', 'last_name', 'email', 'phone', 'job_title', 'department', 'supervisor_name', 'salery', 'company_card', 'phone_allowance', 'truck_allowance', 'start_date', 'photo', ], requiresDialog: true, }, enableInlineCellEdit: true, // âœ… Double-click cells to edit onDelete: true, // âœ… Enable delete functionality // ------------------------------------------------------------------------- // VIEW CONFIGURATION // ------------------------------------------------------------------------- enableViewSwitcher: true, // âœ… Table, Card, List views defaultViewMode: 'table', // ------------------------------------------------------------------------- // COLUMN FEATURES // ------------------------------------------------------------------------- enableColumnResize: true, // âœ… Drag column borders to resize enableColumnPin: true, // âœ… Pin columns left/right enableColumnStats: true, // âœ… Show statistics summary row // ------------------------------------------------------------------------- // ROW FEATURES // ------------------------------------------------------------------------- rowClickPath: '/employees/{id}', // âœ… Click row to navigate enableRowExpansion: true, // âœ… Expandable rows rowExpansionContent: (row) => ( <div className="p-4 bg-muted/50 space-y-3"> <div className="grid grid-cols-2 gap-4"> <div> <strong className="text-sm">Contact Information:</strong> <div className="text-sm text-muted-foreground mt-1 space-y-1"> <div>Email: {row.email as string || 'N/A'}</div> <div>Phone: {row.phone as string || 'N/A'}</div> </div> </div> <div> <strong className="text-sm">Employment Details:</strong> <div className="text-sm text-muted-foreground mt-1 space-y-1"> <div>Start Date: {row.start_date as string || 'N/A'}</div> <div>Supervisor: {row.supervisor_name as string || 'N/A'}</div> </div> </div> </div> <div> <strong className="text-sm">Allowances:</strong> <div className="text-sm text-muted-foreground mt-1 space-y-1"> <div>Company Card: ${row.company_card as number || 0}</div> <div>Phone Allowance: ${row.phone_allowance as number || 0}</div> <div>Truck Allowance: ${row.truck_allowance as number || 0}</div> </div> </div> </div> ), enableRowDragDrop: true, // âœ… Drag & drop row reordering onRowReorder: (reorderedData) => { console.warn('Employees reordered:', reorderedData.map(r => r.id)) // Implement your reordering logic here (save to DB, etc.) }, // ------------------------------------------------------------------------- // CUSTOM ROW ACTIONS (Three-Dot Menu) // ------------------------------------------------------------------------- rowActions: [ { id: 'view-details', label: 'View Details', icon: 'external', variant: 'default', }, { id: 'send-email', label: 'Send Email', icon: 'pencil', variant: 'default', }, { id: 'deactivate', label: 'Deactivate', icon: 'trash', variant: 'destructive', }, ], // ------------------------------------------------------------------------- // SAVED VIEWS (Filter Presets) // ------------------------------------------------------------------------- enableSavedViews: true, // âœ… Save/load view configurations savedViews: [ { id: 'active-employees', name: 'Active Employees', description: 'All currently active employees', isDefault: true, config: { visibleColumns: ['first_name', 'last_name', 'email', 'job_title', 'department', 'start_date'], sortConfigs: [{ columnId: 'last_name', direction: 'asc' }], filters: {}, }, createdAt: new Date().toISOString(), updatedAt: new Date().toISOString(), }, { id: 'engineering-team', name: 'Engineering Team', description: 'All engineering department employees', config: { visibleColumns: ['first_name', 'last_name', 'email', 'job_title', 'supervisor_name'], sortConfigs: [{ columnId: 'job_title', direction: 'asc' }], filters: { department: 'Engineering' }, }, createdAt: new Date().toISOString(), updatedAt: new Date().toISOString(), }, { id: 'recent-hires', name: 'Recent Hires', description: 'Employees hired in the last 6 months', config: { visibleColumns: ['first_name', 'last_name', 'job_title', 'department', 'start_date', 'supervisor_name'], sortConfigs: [{ columnId: 'start_date', direction: 'desc' }], filters: {}, }, createdAt: new Date().toISOString(), updatedAt: new Date().toISOString(), }, { id: 'compensation-view', name: 'Compensation View', description: 'Focus on employee compensation and allowances', config: { visibleColumns: ['first_name', 'last_name', 'department', 'salery', 'company_card', 'phone_allowance', 'truck_allowance'], sortConfigs: [{ columnId: 'department', direction: 'asc' }], filters: {}, }, createdAt: new Date().toISOString(), updatedAt: new Date().toISOString(), }, ], // ------------------------------------------------------------------------- // PERFORMANCE FEATURES // ------------------------------------------------------------------------- enableVirtualScroll: false, // âœ… Enable for 10,000+ rows virtualScrollHeight: 600, // Height in pixels // ------------------------------------------------------------------------- // EXPORT CONFIGURATION // ------------------------------------------------------------------------- exportFormats: ['csv', 'json'], // âœ… Multiple export formats // Note: 'xlsx' requires additional setup // ------------------------------------------------------------------------- // KEYBOARD SHORTCUTS // ------------------------------------------------------------------------- enableKeyboardNav: true, // âœ… Keyboard navigation keyboardShortcuts: [ { key: '/', description: 'Focus search', handler: () => { document.querySelector<HTMLInputElement>('input[type="search"]')?.focus() }, }, { key: 'n', ctrlKey: true, description: 'New employee', handler: () => { console.warn('Create new employee') // Implement your create logic here }, }, { key: 'e', ctrlKey: true, description: 'Export data', handler: () => { console.warn('Export employees') // Implement your export logic here }, }, { key: 'a', ctrlKey: true, description: 'Select all', handler: () => { console.warn('Select all rows') // Selection handled automatically }, }, ], // ------------------------------------------------------------------------- // STATE PERSISTENCE // ------------------------------------------------------------------------- stateStorageKey: 'employees-table-state', // âœ… Remember state in localStorage
} // ============================================================================
// ðŸ“Š DATA FETCHING
// ============================================================================
// Customize the query below:
// - Add .select() joins for related data
// - Change .order() for different sorting
// - Add .filter() for default filters
// - Use .range() for pagination
// ============================================================================ export default async function EmployeesPage() { const supabase = await createClient() const { data: employees, error } = await supabase .from('employees') .select('*') .order('last_name', { ascending: true }) if (error) { console.error('Error fetching employees:', error) return ( <div className="container mx-auto py-12"> <div className="text-center text-red-600"> <h2 className="text-2xl font-bold mb-2">Error Loading Employees</h2> <p>{error.message}</p> </div> </div> ) } return ( <div className="container mx-auto py-8"> <GenericDataTable data={employees || []} config={config} /> </div> )
} // ============================================================================
// ðŸ“š ADDITIONAL NOTES
// ============================================================================
//
// PERFORMANCE TIPS:
// - Enable virtualScroll for datasets > 10,000 rows
// - Use enableFuzzySearch selectively (adds overhead)
// - Consider pagination for very large datasets
//
// CUSTOMIZATION:
// - Remove features you don't need to simplify the interface
// - Adjust column configurations to match your data types
// - Update saved views to match your use cases
// - Modify bulk actions for your specific operations
//
// BEST PRACTICES:
// - Test with realistic data volumes
// - Provide clear column labels and tooltips
// - Set appropriate default sorts and filters
// - Use saved views to guide users to common use cases
//
// REAL EMPLOYEES TABLE SCHEMA:
// - first_name, last_name (text)
// - email, phone (text)
// - job_title, department (text)
// - supervisor_name (text)
// - salery (text - consider converting to number)
// - company_card, phone_allowance, truck_allowance (number)
// - start_date (date)
// - photo (text URL)
// - created_at, updated_at (timestamps)
//
// ============================================================================
