[
  {
    "id": "FORM-001",
    "file": "frontend/src/components/forms/FormField.tsx",
    "line": 27,
    "category": "typography",
    "severity": "major",
    "rule": "Labels should use `text-xs font-semibold text-neutral-500` or `.label-base` class",
    "currentCode": "<label className=\"block text-sm font-medium text-gray-700\">",
    "suggestedFix": "<label className=\"block text-xs font-semibold text-neutral-500\">",
    "explanation": "The label styling is inconsistent with the design system. Using `text-sm` instead of `text-xs`, and `gray-700` instead of `neutral-500`. This creates visual inconsistency across forms."
  },
  {
    "id": "FORM-002",
    "file": "frontend/src/components/forms/FormField.tsx",
    "line": 31,
    "category": "spacing",
    "severity": "minor",
    "rule": "Form field spacing should use `space-y-4` or `gap-4` for consistency",
    "currentCode": "<div className=\"mt-1\">",
    "suggestedFix": "Use parent container with `space-y-2` or remove mt-1 and use consistent spacing pattern",
    "explanation": "Hardcoded margin values like `mt-1` reduce flexibility and consistency. The design system prefers `space-y-*` utilities for vertical spacing between form elements."
  },
  {
    "id": "FORM-003",
    "file": "frontend/src/components/forms/CheckboxField.tsx",
    "line": 38,
    "category": "typography",
    "severity": "major",
    "rule": "Labels should use `text-xs font-semibold text-neutral-500` or consistent styling",
    "currentCode": "<label className=\"text-sm font-medium text-gray-700\">",
    "suggestedFix": "<label className=\"text-sm font-medium text-neutral-700\">",
    "explanation": "Using `gray-700` instead of `neutral-700` is inconsistent. While this component has a different label pattern (inline), it should still use the neutral color scale."
  },
  {
    "id": "FORM-004",
    "file": "frontend/src/components/forms/ToggleField.tsx",
    "line": 29,
    "category": "typography",
    "severity": "major",
    "rule": "Labels should use `text-xs font-semibold text-neutral-500` or consistent styling",
    "currentCode": "<label className=\"text-sm font-medium text-gray-700\">",
    "suggestedFix": "<label className=\"text-sm font-medium text-neutral-700\">",
    "explanation": "Same issue as CheckboxField - using `gray-700` instead of `neutral-700` creates color palette inconsistency."
  },
  {
    "id": "FORM-005",
    "file": "frontend/src/components/forms/NumberField.tsx",
    "line": 55,
    "category": "color",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "<span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\">",
    "suggestedFix": "<span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500\">",
    "explanation": "Prefix and suffix text uses `gray-500` instead of `neutral-500`, creating inconsistency with the design system color palette."
  },
  {
    "id": "FORM-006",
    "file": "frontend/src/components/forms/NumberField.tsx",
    "line": 74,
    "category": "color",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "<span className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500\">",
    "suggestedFix": "<span className=\"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500\">",
    "explanation": "Same issue as FORM-005 - suffix text should use neutral color scale."
  },
  {
    "id": "FORM-007",
    "file": "frontend/src/components/forms/MoneyField.tsx",
    "line": 95,
    "category": "color",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "<span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-medium\">",
    "suggestedFix": "<span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500 font-medium\">",
    "explanation": "Currency symbol prefix uses `gray-500` instead of `neutral-500`."
  },
  {
    "id": "FORM-008",
    "file": "frontend/src/components/forms/MoneyField.tsx",
    "line": 117,
    "category": "color",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "<span className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm\">",
    "suggestedFix": "<span className=\"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500 text-sm\">",
    "explanation": "Currency code suffix uses `gray-500` instead of `neutral-500`."
  },
  {
    "id": "FORM-009",
    "file": "frontend/src/components/forms/FileUploadField.tsx",
    "line": 142,
    "category": "color",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "<Upload className=\"mx-auto h-12 w-12 text-gray-400\" />",
    "suggestedFix": "<Upload className=\"mx-auto h-12 w-12 text-neutral-400\" />",
    "explanation": "Upload icon uses `gray-400` instead of `neutral-400`."
  },
  {
    "id": "FORM-010",
    "file": "frontend/src/components/forms/FileUploadField.tsx",
    "line": 143,
    "category": "color",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "<p className=\"mt-2 text-sm text-gray-600\">",
    "suggestedFix": "<p className=\"mt-2 text-sm text-neutral-600\">",
    "explanation": "Instruction text uses `gray-600` instead of `neutral-600`."
  },
  {
    "id": "FORM-011",
    "file": "frontend/src/components/forms/FileUploadField.tsx",
    "line": 155,
    "category": "color",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "<p className=\"text-xs text-gray-500 mt-1\">",
    "suggestedFix": "<p className=\"text-xs text-neutral-500 mt-1\">",
    "explanation": "Helper text uses `gray-500` instead of `neutral-500`."
  },
  {
    "id": "FORM-012",
    "file": "frontend/src/components/forms/FileUploadField.tsx",
    "line": 169,
    "category": "color",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "<FileText className=\"h-8 w-8 text-gray-400\" />",
    "suggestedFix": "<FileText className=\"h-8 w-8 text-neutral-400\" />",
    "explanation": "File icon uses `gray-400` instead of `neutral-400`."
  },
  {
    "id": "FORM-013",
    "file": "frontend/src/components/forms/FileUploadField.tsx",
    "line": 172,
    "category": "color",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "<p className=\"text-xs text-gray-500\">",
    "suggestedFix": "<p className=\"text-xs text-neutral-500\">",
    "explanation": "File size text uses `gray-500` instead of `neutral-500`."
  },
  {
    "id": "FORM-014",
    "file": "frontend/src/app/(forms)/form-invoice/page.tsx",
    "line": 247,
    "category": "typography",
    "severity": "minor",
    "rule": "Use consistent text colors from neutral scale",
    "currentCode": "<p className=\"text-gray-600\">Create a new invoice for billing</p>",
    "suggestedFix": "<p className=\"text-neutral-600\">Create a new invoice for billing</p>",
    "explanation": "Description text uses `gray-600` instead of `neutral-600`."
  },
  {
    "id": "FORM-015",
    "file": "frontend/src/app/(forms)/form-invoice/page.tsx",
    "line": 266,
    "category": "spacing",
    "severity": "minor",
    "rule": "Form field spacing should use consistent patterns",
    "currentCode": "<div className=\"space-y-2\">",
    "suggestedFix": "Ensure parent uses `space-y-4` for field groups and `space-y-2` for label-to-input",
    "explanation": "While `space-y-2` is correct for label-to-input, the overall form should maintain `space-y-4` for field groups as per design system."
  },
  {
    "id": "FORM-016",
    "file": "frontend/src/app/(forms)/form-invoice/page.tsx",
    "line": 268,
    "category": "component-usage",
    "severity": "critical",
    "rule": "Use form field components from frontend/src/components/forms/ instead of raw UI components",
    "currentCode": "<Input id=\"invoiceNumber\" value={...} />",
    "suggestedFix": "Import and use <TextField label=\"Invoice Number\" /> from @/components/forms/TextField",
    "explanation": "The form uses raw Input components directly instead of the wrapped form field components (TextField, SelectField, etc.). This bypasses consistent styling, error handling, and accessibility features provided by the design system components."
  },
  {
    "id": "FORM-017",
    "file": "frontend/src/app/(forms)/form-invoice/page.tsx",
    "line": 332,
    "category": "color",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "<div className=\"px-2 py-1.5 text-sm text-muted-foreground\">",
    "suggestedFix": "This is acceptable as `muted-foreground` is a semantic token, but ensure consistency",
    "explanation": "Using semantic tokens like `muted-foreground` is good, but the form mixes this with direct color references."
  },
  {
    "id": "FORM-018",
    "file": "frontend/src/app/(forms)/form-invoice/page.tsx",
    "line": 592,
    "category": "color",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "<span className=\"text-gray-600\">Original Contract Amount:</span>",
    "suggestedFix": "<span className=\"text-neutral-600\">Original Contract Amount:</span>",
    "explanation": "Summary labels use `gray-600` instead of `neutral-600`."
  },
  {
    "id": "FORM-019",
    "file": "frontend/src/components/domain/contracts/ContractForm.tsx",
    "line": 225,
    "category": "spacing",
    "severity": "minor",
    "rule": "Section headers should have consistent spacing patterns",
    "currentCode": "<h4 className=\"text-lg font-semibold\">General Information</h4>",
    "suggestedFix": "Add consistent spacing class like `mb-4` or wrap in a consistent section component",
    "explanation": "Section headers lack consistent spacing. The design system should define standard section header spacing patterns."
  },
  {
    "id": "FORM-020",
    "file": "frontend/src/components/domain/contracts/ContractForm.tsx",
    "line": 300,
    "category": "typography",
    "severity": "major",
    "rule": "Labels should use consistent styling from design system",
    "currentCode": "<Label>Executed <span className=\"text-red-500\">*</span></Label>",
    "suggestedFix": "<Label>Executed <span className=\"text-destructive\">*</span></Label>",
    "explanation": "Required field indicator uses `text-red-500` instead of semantic `text-destructive` token. Design system should use semantic color tokens for consistency."
  },
  {
    "id": "FORM-021",
    "file": "frontend/src/components/domain/contracts/ContractForm.tsx",
    "line": 361,
    "category": "component-usage",
    "severity": "suggestion",
    "rule": "Use FileUploadField component for file uploads",
    "currentCode": "<div className=\"border-2 border-dashed rounded-lg p-8 text-center\">",
    "suggestedFix": "Use <FileUploadField /> component which provides drag-and-drop, validation, and consistent styling",
    "explanation": "The form implements a custom file upload area instead of using the FileUploadField component from the design system, missing features like drag-and-drop handling and file validation."
  },
  {
    "id": "FORM-022",
    "file": "frontend/src/components/domain/contracts/ContractForm.tsx",
    "line": 405,
    "category": "typography",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "<th className=\"px-4 py-3 text-left text-sm font-medium text-gray-700 w-12\">",
    "suggestedFix": "<th className=\"px-4 py-3 text-left text-sm font-medium text-neutral-700 w-12\">",
    "explanation": "Table headers use `gray-700` instead of `neutral-700`."
  },
  {
    "id": "FORM-023",
    "file": "frontend/src/components/domain/contracts/ContractForm.tsx",
    "line": 411,
    "category": "color",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "<HelpCircle className=\"h-4 w-4 text-gray-400\" />",
    "suggestedFix": "<HelpCircle className=\"h-4 w-4 text-neutral-400\" />",
    "explanation": "Help icon uses `gray-400` instead of `neutral-400`."
  },
  {
    "id": "FORM-024",
    "file": "frontend/src/components/domain/contracts/ContractForm.tsx",
    "line": 436,
    "category": "typography",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "<p className=\"text-lg font-medium text-gray-700\">",
    "suggestedFix": "<p className=\"text-lg font-medium text-neutral-700\">",
    "explanation": "Empty state text uses `gray-700` instead of `neutral-700`."
  },
  {
    "id": "FORM-025",
    "file": "frontend/src/components/domain/contracts/ContractForm.tsx",
    "line": 478,
    "category": "color",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "className=\"h-8 w-8 p-0 text-gray-400 hover:text-red-600\"",
    "suggestedFix": "className=\"h-8 w-8 p-0 text-neutral-400 hover:text-destructive\"",
    "explanation": "Delete button uses `gray-400` and `red-600` instead of semantic tokens `neutral-400` and `destructive`."
  },
  {
    "id": "FORM-026",
    "file": "frontend/src/components/domain/companies/CompanyFormDialog.tsx",
    "line": 180,
    "category": "spacing",
    "severity": "minor",
    "rule": "Dialog forms should use `.form-dialog` (space-y-5 py-4) spacing pattern",
    "currentCode": "<form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">",
    "suggestedFix": "<form onSubmit={form.handleSubmit(onSubmit)} className=\"form-dialog space-y-5 py-4\">",
    "explanation": "Dialog forms should use `space-y-5` instead of `space-y-4` for slightly more breathing room in constrained dialog spaces."
  },
  {
    "id": "FORM-027",
    "file": "frontend/src/components/domain/companies/CompanyFormDialog.tsx",
    "line": 333,
    "category": "spacing",
    "severity": "minor",
    "rule": "Dialog footer should use `.dialog-footer` with consistent spacing",
    "currentCode": "<DialogFooter className=\"pt-4\">",
    "suggestedFix": "<DialogFooter className=\"dialog-footer\">",
    "explanation": "DialogFooter should use a standardized `.dialog-footer` class for consistent spacing across all dialog forms."
  },
  {
    "id": "FORM-028",
    "file": "frontend/src/components/project-home/inline-team-member-form.tsx",
    "line": 126,
    "category": "color",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "className=\"border border-neutral-200 rounded-md p-4 bg-neutral-50 space-y-4\"",
    "suggestedFix": "Good use of neutral scale - this is correct",
    "explanation": "This component correctly uses the neutral color scale throughout. Keep as reference for other components."
  },
  {
    "id": "FORM-029",
    "file": "frontend/src/components/project-home/inline-team-member-form.tsx",
    "line": 142,
    "category": "typography",
    "severity": "major",
    "rule": "Labels should use consistent styling: text-xs font-semibold text-neutral-500 or text-xs font-medium text-neutral-600",
    "currentCode": "<label className=\"text-xs font-medium text-neutral-600\">Role</label>",
    "suggestedFix": "Consider using text-xs font-semibold text-neutral-500 for consistency with FormField component, or establish this as the standard",
    "explanation": "This component uses `font-medium text-neutral-600` while FormField uses `font-medium text-gray-700`. Need to standardize label styling across all form components."
  },
  {
    "id": "FORM-030",
    "file": "frontend/src/app/(forms)/form-project/page.tsx",
    "line": 563,
    "category": "typography",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "<h1 className=\"text-2xl font-semibold text-gray-900\">",
    "suggestedFix": "<h1 className=\"text-2xl font-semibold text-neutral-900\">",
    "explanation": "Page title uses `gray-900` instead of `neutral-900`."
  },
  {
    "id": "FORM-031",
    "file": "frontend/src/app/(forms)/form-project/page.tsx",
    "line": 850,
    "category": "typography",
    "severity": "minor",
    "rule": "Use neutral color scale consistently",
    "currentCode": "<p className=\"text-sm font-medium text-gray-900\">Need to start over?</p>",
    "suggestedFix": "<p className=\"text-sm font-medium text-neutral-900\">Need to start over?</p>",
    "explanation": "Action area text uses `gray-900` instead of `neutral-900`."
  },
  {
    "id": "FORM-032",
    "file": "frontend/src/components/forms/SearchableSelect.tsx",
    "line": 104,
    "category": "component-usage",
    "severity": "minor",
    "rule": "Use ShadCN Input component for consistency",
    "currentCode": "<Input placeholder={searchPlaceholder} ... className=\"h-8 border-0 p-0 focus-visible:ring-0 focus-visible:ring-offset-0\" />",
    "suggestedFix": "Remove custom focus ring overrides unless absolutely necessary for design",
    "explanation": "The component removes default focus rings which may harm accessibility. If custom styling is needed, ensure adequate focus indicators remain visible."
  },
  {
    "id": "FORM-033",
    "file": "frontend/src/components/forms/EntitySelect.tsx",
    "line": 74,
    "category": "accessibility",
    "severity": "major",
    "rule": "Labels should be properly associated with form controls using htmlFor",
    "currentCode": "<Label htmlFor={selectId}>{label}</Label>",
    "suggestedFix": "This is correct - keep as reference. Ensure all form components follow this pattern.",
    "explanation": "EntitySelect correctly uses htmlFor for label-input association. Other components should follow this pattern for accessibility."
  },
  {
    "id": "FORM-034",
    "file": "frontend/src/components/forms/RichTextField.tsx",
    "line": 120,
    "category": "accessibility",
    "severity": "critical",
    "rule": "Contenteditable elements need proper ARIA labels and roles",
    "currentCode": "<div ref={editorRef} contentEditable={!disabled} onInput={handleInput} className=\"min-h-[120px] p-3 focus:outline-none\" />",
    "suggestedFix": "Add role=\"textbox\" aria-label={label} aria-multiline=\"true\" and proper focus indicators",
    "explanation": "The contenteditable div lacks proper ARIA attributes for accessibility. Screen readers may not properly announce this as an editable text area."
  },
  {
    "id": "FORM-035",
    "file": "frontend/src/components/forms/DateField.tsx",
    "line": 51,
    "category": "accessibility",
    "severity": "major",
    "rule": "Interactive buttons need aria-invalid for error states",
    "currentCode": "<Button variant=\"outline\" ... disabled={disabled}>",
    "suggestedFix": "Add aria-invalid={!!error} aria-describedby={error ? 'error-id' : undefined}",
    "explanation": "The DateField button (popover trigger) doesn't communicate error state to assistive technologies. Add aria-invalid for proper error announcement."
  },
  {
    "id": "FORM-036",
    "file": "frontend/src/components/forms/MultiSelectField.tsx",
    "line": 77,
    "category": "accessibility",
    "severity": "major",
    "rule": "Combobox buttons need aria-invalid for error states",
    "currentCode": "<Button variant=\"outline\" role=\"combobox\" aria-expanded={open} ...>",
    "suggestedFix": "Add aria-invalid={!!error} to communicate validation state",
    "explanation": "MultiSelectField lacks aria-invalid on the combobox button, making error states inaccessible to screen readers."
  }
]
