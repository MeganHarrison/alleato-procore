{
  "version": 3,
  "sources": ["../bundle-iVqfXO/strip-cf-connecting-ip-header.js", "../../../../node_modules/unenv/dist/runtime/_internal/utils.mjs", "../../../../node_modules/unenv/dist/runtime/node/internal/perf_hooks/performance.mjs", "../../../../node_modules/@cloudflare/unenv-preset/dist/runtime/polyfill/performance.mjs", "../../../../node_modules/unenv/dist/runtime/node/console.mjs", "../../../../node_modules/unenv/dist/runtime/mock/noop.mjs", "../../../../node_modules/@cloudflare/unenv-preset/dist/runtime/node/console.mjs", "../../../../node_modules/wrangler/_virtual_unenv_global_polyfill-@cloudflare-unenv-preset-node-console", "../../../../node_modules/unenv/dist/runtime/node/internal/process/hrtime.mjs", "../../../../node_modules/unenv/dist/runtime/node/internal/process/process.mjs", "../../../../node_modules/unenv/dist/runtime/node/internal/tty/read-stream.mjs", "../../../../node_modules/unenv/dist/runtime/node/internal/tty/write-stream.mjs", "../../../../node_modules/@cloudflare/unenv-preset/dist/runtime/node/process.mjs", "../../../../node_modules/wrangler/_virtual_unenv_global_polyfill-@cloudflare-unenv-preset-node-process", "../../../../shared/supabase.ts", "../../../../shared/openai.ts", "../../../../shared/parser.ts", "../../../index.ts", "../../../../node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../../node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-iVqfXO/middleware-insertion-facade.js", "../../../../node_modules/wrangler/templates/middleware/common.ts", "../bundle-iVqfXO/middleware-loader.entry.ts"],
  "sourceRoot": "/Users/meganharrison/Documents/github/agents-sdk/fireflies-worker/workers/parser/.wrangler/tmp/dev-ARWBIw",
  "sourcesContent": ["function stripCfConnectingIPHeader(input, init) {\n\tconst request = new Request(input, init);\n\trequest.headers.delete(\"CF-Connecting-IP\");\n\treturn request;\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\treturn Reflect.apply(target, thisArg, [\n\t\t\tstripCfConnectingIPHeader.apply(null, argArray),\n\t\t]);\n\t},\n});\n", "/*@__NO_SIDE_EFFECTS__*/ export function rawHeaders(headers) {\n\tconst rawHeaders = [];\n\tfor (const key in headers) {\n\t\tif (Array.isArray(headers[key])) {\n\t\t\tfor (const h of headers[key]) {\n\t\t\t\trawHeaders.push(key, h);\n\t\t\t}\n\t\t} else {\n\t\t\trawHeaders.push(key, headers[key]);\n\t\t}\n\t}\n\treturn rawHeaders;\n}\n/*@__NO_SIDE_EFFECTS__*/ export function mergeFns(...functions) {\n\treturn function(...args) {\n\t\tfor (const fn of functions) {\n\t\t\tfn(...args);\n\t\t}\n\t};\n}\n/*@__NO_SIDE_EFFECTS__*/ export function createNotImplementedError(name) {\n\treturn new Error(`[unenv] ${name} is not implemented yet!`);\n}\n/*@__NO_SIDE_EFFECTS__*/ export function notImplemented(name) {\n\tconst fn = () => {\n\t\tthrow createNotImplementedError(name);\n\t};\n\treturn Object.assign(fn, { __unenv__: true });\n}\n/*@__NO_SIDE_EFFECTS__*/ export function notImplementedAsync(name) {\n\tconst fn = notImplemented(name);\n\tfn.__promisify__ = () => notImplemented(name + \".__promisify__\");\n\tfn.native = fn;\n\treturn fn;\n}\n/*@__NO_SIDE_EFFECTS__*/ export function notImplementedClass(name) {\n\treturn class {\n\t\t__unenv__ = true;\n\t\tconstructor() {\n\t\t\tthrow new Error(`[unenv] ${name} is not implemented yet!`);\n\t\t}\n\t};\n}\n", "import { createNotImplementedError } from \"../../../_internal/utils.mjs\";\nconst _timeOrigin = globalThis.performance?.timeOrigin ?? Date.now();\nconst _performanceNow = globalThis.performance?.now ? globalThis.performance.now.bind(globalThis.performance) : () => Date.now() - _timeOrigin;\nconst nodeTiming = {\n\tname: \"node\",\n\tentryType: \"node\",\n\tstartTime: 0,\n\tduration: 0,\n\tnodeStart: 0,\n\tv8Start: 0,\n\tbootstrapComplete: 0,\n\tenvironment: 0,\n\tloopStart: 0,\n\tloopExit: 0,\n\tidleTime: 0,\n\tuvMetricsInfo: {\n\t\tloopCount: 0,\n\t\tevents: 0,\n\t\teventsWaiting: 0\n\t},\n\tdetail: undefined,\n\ttoJSON() {\n\t\treturn this;\n\t}\n};\nexport class PerformanceEntry {\n\t__unenv__ = true;\n\tdetail;\n\tentryType = \"event\";\n\tname;\n\tstartTime;\n\tconstructor(name, options) {\n\t\tthis.name = name;\n\t\tthis.startTime = options?.startTime || _performanceNow();\n\t\tthis.detail = options?.detail;\n\t}\n\tget duration() {\n\t\treturn _performanceNow() - this.startTime;\n\t}\n\ttoJSON() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tentryType: this.entryType,\n\t\t\tstartTime: this.startTime,\n\t\t\tduration: this.duration,\n\t\t\tdetail: this.detail\n\t\t};\n\t}\n}\nexport const PerformanceMark = class PerformanceMark extends PerformanceEntry {\n\tentryType = \"mark\";\n\tconstructor() {\n\t\tsuper(...arguments);\n\t}\n\tget duration() {\n\t\treturn 0;\n\t}\n};\nexport class PerformanceMeasure extends PerformanceEntry {\n\tentryType = \"measure\";\n}\nexport class PerformanceResourceTiming extends PerformanceEntry {\n\tentryType = \"resource\";\n\tserverTiming = [];\n\tconnectEnd = 0;\n\tconnectStart = 0;\n\tdecodedBodySize = 0;\n\tdomainLookupEnd = 0;\n\tdomainLookupStart = 0;\n\tencodedBodySize = 0;\n\tfetchStart = 0;\n\tinitiatorType = \"\";\n\tname = \"\";\n\tnextHopProtocol = \"\";\n\tredirectEnd = 0;\n\tredirectStart = 0;\n\trequestStart = 0;\n\tresponseEnd = 0;\n\tresponseStart = 0;\n\tsecureConnectionStart = 0;\n\tstartTime = 0;\n\ttransferSize = 0;\n\tworkerStart = 0;\n\tresponseStatus = 0;\n}\nexport class PerformanceObserverEntryList {\n\t__unenv__ = true;\n\tgetEntries() {\n\t\treturn [];\n\t}\n\tgetEntriesByName(_name, _type) {\n\t\treturn [];\n\t}\n\tgetEntriesByType(type) {\n\t\treturn [];\n\t}\n}\nexport class Performance {\n\t__unenv__ = true;\n\ttimeOrigin = _timeOrigin;\n\teventCounts = new Map();\n\t_entries = [];\n\t_resourceTimingBufferSize = 0;\n\tnavigation = undefined;\n\ttiming = undefined;\n\ttimerify(_fn, _options) {\n\t\tthrow createNotImplementedError(\"Performance.timerify\");\n\t}\n\tget nodeTiming() {\n\t\treturn nodeTiming;\n\t}\n\teventLoopUtilization() {\n\t\treturn {};\n\t}\n\tmarkResourceTiming() {\n\t\treturn new PerformanceResourceTiming(\"\");\n\t}\n\tonresourcetimingbufferfull = null;\n\tnow() {\n\t\tif (this.timeOrigin === _timeOrigin) {\n\t\t\treturn _performanceNow();\n\t\t}\n\t\treturn Date.now() - this.timeOrigin;\n\t}\n\tclearMarks(markName) {\n\t\tthis._entries = markName ? this._entries.filter((e) => e.name !== markName) : this._entries.filter((e) => e.entryType !== \"mark\");\n\t}\n\tclearMeasures(measureName) {\n\t\tthis._entries = measureName ? this._entries.filter((e) => e.name !== measureName) : this._entries.filter((e) => e.entryType !== \"measure\");\n\t}\n\tclearResourceTimings() {\n\t\tthis._entries = this._entries.filter((e) => e.entryType !== \"resource\" || e.entryType !== \"navigation\");\n\t}\n\tgetEntries() {\n\t\treturn this._entries;\n\t}\n\tgetEntriesByName(name, type) {\n\t\treturn this._entries.filter((e) => e.name === name && (!type || e.entryType === type));\n\t}\n\tgetEntriesByType(type) {\n\t\treturn this._entries.filter((e) => e.entryType === type);\n\t}\n\tmark(name, options) {\n\t\tconst entry = new PerformanceMark(name, options);\n\t\tthis._entries.push(entry);\n\t\treturn entry;\n\t}\n\tmeasure(measureName, startOrMeasureOptions, endMark) {\n\t\tlet start;\n\t\tlet end;\n\t\tif (typeof startOrMeasureOptions === \"string\") {\n\t\t\tstart = this.getEntriesByName(startOrMeasureOptions, \"mark\")[0]?.startTime;\n\t\t\tend = this.getEntriesByName(endMark, \"mark\")[0]?.startTime;\n\t\t} else {\n\t\t\tstart = Number.parseFloat(startOrMeasureOptions?.start) || this.now();\n\t\t\tend = Number.parseFloat(startOrMeasureOptions?.end) || this.now();\n\t\t}\n\t\tconst entry = new PerformanceMeasure(measureName, {\n\t\t\tstartTime: start,\n\t\t\tdetail: {\n\t\t\t\tstart,\n\t\t\t\tend\n\t\t\t}\n\t\t});\n\t\tthis._entries.push(entry);\n\t\treturn entry;\n\t}\n\tsetResourceTimingBufferSize(maxSize) {\n\t\tthis._resourceTimingBufferSize = maxSize;\n\t}\n\taddEventListener(type, listener, options) {\n\t\tthrow createNotImplementedError(\"Performance.addEventListener\");\n\t}\n\tremoveEventListener(type, listener, options) {\n\t\tthrow createNotImplementedError(\"Performance.removeEventListener\");\n\t}\n\tdispatchEvent(event) {\n\t\tthrow createNotImplementedError(\"Performance.dispatchEvent\");\n\t}\n\ttoJSON() {\n\t\treturn this;\n\t}\n}\nexport class PerformanceObserver {\n\t__unenv__ = true;\n\tstatic supportedEntryTypes = [];\n\t_callback = null;\n\tconstructor(callback) {\n\t\tthis._callback = callback;\n\t}\n\ttakeRecords() {\n\t\treturn [];\n\t}\n\tdisconnect() {\n\t\tthrow createNotImplementedError(\"PerformanceObserver.disconnect\");\n\t}\n\tobserve(options) {\n\t\tthrow createNotImplementedError(\"PerformanceObserver.observe\");\n\t}\n\tbind(fn) {\n\t\treturn fn;\n\t}\n\trunInAsyncScope(fn, thisArg, ...args) {\n\t\treturn fn.call(thisArg, ...args);\n\t}\n\tasyncId() {\n\t\treturn 0;\n\t}\n\ttriggerAsyncId() {\n\t\treturn 0;\n\t}\n\temitDestroy() {\n\t\treturn this;\n\t}\n}\nexport const performance = globalThis.performance && \"addEventListener\" in globalThis.performance ? globalThis.performance : new Performance();\n", "import {\n  performance,\n  Performance,\n  PerformanceEntry,\n  PerformanceMark,\n  PerformanceMeasure,\n  PerformanceObserver,\n  PerformanceObserverEntryList,\n  PerformanceResourceTiming\n} from \"node:perf_hooks\";\nglobalThis.performance = performance;\nglobalThis.Performance = Performance;\nglobalThis.PerformanceEntry = PerformanceEntry;\nglobalThis.PerformanceMark = PerformanceMark;\nglobalThis.PerformanceMeasure = PerformanceMeasure;\nglobalThis.PerformanceObserver = PerformanceObserver;\nglobalThis.PerformanceObserverEntryList = PerformanceObserverEntryList;\nglobalThis.PerformanceResourceTiming = PerformanceResourceTiming;\n", "import { Writable } from \"node:stream\";\nimport noop from \"../mock/noop.mjs\";\nimport { notImplemented, notImplementedClass } from \"../_internal/utils.mjs\";\nconst _console = globalThis.console;\nexport const _ignoreErrors = true;\nexport const _stderr = new Writable();\nexport const _stdout = new Writable();\nexport const log = _console?.log ?? noop;\nexport const info = _console?.info ?? log;\nexport const trace = _console?.trace ?? info;\nexport const debug = _console?.debug ?? log;\nexport const table = _console?.table ?? log;\nexport const error = _console?.error ?? log;\nexport const warn = _console?.warn ?? error;\nexport const createTask = _console?.createTask ?? /*@__PURE__*/ notImplemented(\"console.createTask\");\nexport const assert = /*@__PURE__*/ notImplemented(\"console.assert\");\nexport const clear = _console?.clear ?? noop;\nexport const count = _console?.count ?? noop;\nexport const countReset = _console?.countReset ?? noop;\nexport const dir = _console?.dir ?? noop;\nexport const dirxml = _console?.dirxml ?? noop;\nexport const group = _console?.group ?? noop;\nexport const groupEnd = _console?.groupEnd ?? noop;\nexport const groupCollapsed = _console?.groupCollapsed ?? noop;\nexport const profile = _console?.profile ?? noop;\nexport const profileEnd = _console?.profileEnd ?? noop;\nexport const time = _console?.time ?? noop;\nexport const timeEnd = _console?.timeEnd ?? noop;\nexport const timeLog = _console?.timeLog ?? noop;\nexport const timeStamp = _console?.timeStamp ?? noop;\nexport const Console = _console?.Console ?? /*@__PURE__*/ notImplementedClass(\"console.Console\");\nexport const _times = /*@__PURE__*/ new Map();\nexport function context() {\n\treturn _console;\n}\nexport const _stdoutErrorHandler = noop;\nexport const _stderrErrorHandler = noop;\nexport default {\n\t_times,\n\t_ignoreErrors,\n\t_stdoutErrorHandler,\n\t_stderrErrorHandler,\n\t_stdout,\n\t_stderr,\n\tassert,\n\tclear,\n\tConsole,\n\tcount,\n\tcountReset,\n\tdebug,\n\tdir,\n\tdirxml,\n\terror,\n\tcontext,\n\tcreateTask,\n\tgroup,\n\tgroupEnd,\n\tgroupCollapsed,\n\tinfo,\n\tlog,\n\tprofile,\n\tprofileEnd,\n\ttable,\n\ttime,\n\ttimeEnd,\n\ttimeLog,\n\ttimeStamp,\n\ttrace,\n\twarn\n};\n", "export default Object.assign(() => {}, { __unenv__: true });\n", "import {\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times,\n  Console\n} from \"unenv/node/console\";\nexport {\n  Console,\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times\n} from \"unenv/node/console\";\nconst workerdConsole = globalThis[\"console\"];\nexport const {\n  assert,\n  clear,\n  // @ts-expect-error undocumented public API\n  context,\n  count,\n  countReset,\n  // @ts-expect-error undocumented public API\n  createTask,\n  debug,\n  dir,\n  dirxml,\n  error,\n  group,\n  groupCollapsed,\n  groupEnd,\n  info,\n  log,\n  profile,\n  profileEnd,\n  table,\n  time,\n  timeEnd,\n  timeLog,\n  timeStamp,\n  trace,\n  warn\n} = workerdConsole;\nObject.assign(workerdConsole, {\n  Console,\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times\n});\nexport default workerdConsole;\n", "import { default as defaultExport } from \"@cloudflare/unenv-preset/node/console\";\nglobalThis.console = defaultExport;", "export const hrtime = /*@__PURE__*/ Object.assign(function hrtime(startTime) {\n\tconst now = Date.now();\n\tconst seconds = Math.trunc(now / 1e3);\n\tconst nanos = now % 1e3 * 1e6;\n\tif (startTime) {\n\t\tlet diffSeconds = seconds - startTime[0];\n\t\tlet diffNanos = nanos - startTime[0];\n\t\tif (diffNanos < 0) {\n\t\t\tdiffSeconds = diffSeconds - 1;\n\t\t\tdiffNanos = 1e9 + diffNanos;\n\t\t}\n\t\treturn [diffSeconds, diffNanos];\n\t}\n\treturn [seconds, nanos];\n}, { bigint: function bigint() {\n\treturn BigInt(Date.now() * 1e6);\n} });\n", "import { EventEmitter } from \"node:events\";\nimport { ReadStream, WriteStream } from \"node:tty\";\nimport { notImplemented, createNotImplementedError } from \"../../../_internal/utils.mjs\";\nexport class Process extends EventEmitter {\n\tenv;\n\thrtime;\n\tnextTick;\n\tconstructor(impl) {\n\t\tsuper();\n\t\tthis.env = impl.env;\n\t\tthis.hrtime = impl.hrtime;\n\t\tthis.nextTick = impl.nextTick;\n\t\tfor (const prop of [...Object.getOwnPropertyNames(Process.prototype), ...Object.getOwnPropertyNames(EventEmitter.prototype)]) {\n\t\t\tconst value = this[prop];\n\t\t\tif (typeof value === \"function\") {\n\t\t\t\tthis[prop] = value.bind(this);\n\t\t\t}\n\t\t}\n\t}\n\temitWarning(warning, type, code) {\n\t\tconsole.warn(`${code ? `[${code}] ` : \"\"}${type ? `${type}: ` : \"\"}${warning}`);\n\t}\n\temit(...args) {\n\t\treturn super.emit(...args);\n\t}\n\tlisteners(eventName) {\n\t\treturn super.listeners(eventName);\n\t}\n\t#stdin;\n\t#stdout;\n\t#stderr;\n\tget stdin() {\n\t\treturn this.#stdin ??= new ReadStream(0);\n\t}\n\tget stdout() {\n\t\treturn this.#stdout ??= new WriteStream(1);\n\t}\n\tget stderr() {\n\t\treturn this.#stderr ??= new WriteStream(2);\n\t}\n\t#cwd = \"/\";\n\tchdir(cwd) {\n\t\tthis.#cwd = cwd;\n\t}\n\tcwd() {\n\t\treturn this.#cwd;\n\t}\n\tarch = \"\";\n\tplatform = \"\";\n\targv = [];\n\targv0 = \"\";\n\texecArgv = [];\n\texecPath = \"\";\n\ttitle = \"\";\n\tpid = 200;\n\tppid = 100;\n\tget version() {\n\t\treturn \"\";\n\t}\n\tget versions() {\n\t\treturn {};\n\t}\n\tget allowedNodeEnvironmentFlags() {\n\t\treturn new Set();\n\t}\n\tget sourceMapsEnabled() {\n\t\treturn false;\n\t}\n\tget debugPort() {\n\t\treturn 0;\n\t}\n\tget throwDeprecation() {\n\t\treturn false;\n\t}\n\tget traceDeprecation() {\n\t\treturn false;\n\t}\n\tget features() {\n\t\treturn {};\n\t}\n\tget release() {\n\t\treturn {};\n\t}\n\tget connected() {\n\t\treturn false;\n\t}\n\tget config() {\n\t\treturn {};\n\t}\n\tget moduleLoadList() {\n\t\treturn [];\n\t}\n\tconstrainedMemory() {\n\t\treturn 0;\n\t}\n\tavailableMemory() {\n\t\treturn 0;\n\t}\n\tuptime() {\n\t\treturn 0;\n\t}\n\tresourceUsage() {\n\t\treturn {};\n\t}\n\tref() {}\n\tunref() {}\n\tumask() {\n\t\tthrow createNotImplementedError(\"process.umask\");\n\t}\n\tgetBuiltinModule() {\n\t\treturn undefined;\n\t}\n\tgetActiveResourcesInfo() {\n\t\tthrow createNotImplementedError(\"process.getActiveResourcesInfo\");\n\t}\n\texit() {\n\t\tthrow createNotImplementedError(\"process.exit\");\n\t}\n\treallyExit() {\n\t\tthrow createNotImplementedError(\"process.reallyExit\");\n\t}\n\tkill() {\n\t\tthrow createNotImplementedError(\"process.kill\");\n\t}\n\tabort() {\n\t\tthrow createNotImplementedError(\"process.abort\");\n\t}\n\tdlopen() {\n\t\tthrow createNotImplementedError(\"process.dlopen\");\n\t}\n\tsetSourceMapsEnabled() {\n\t\tthrow createNotImplementedError(\"process.setSourceMapsEnabled\");\n\t}\n\tloadEnvFile() {\n\t\tthrow createNotImplementedError(\"process.loadEnvFile\");\n\t}\n\tdisconnect() {\n\t\tthrow createNotImplementedError(\"process.disconnect\");\n\t}\n\tcpuUsage() {\n\t\tthrow createNotImplementedError(\"process.cpuUsage\");\n\t}\n\tsetUncaughtExceptionCaptureCallback() {\n\t\tthrow createNotImplementedError(\"process.setUncaughtExceptionCaptureCallback\");\n\t}\n\thasUncaughtExceptionCaptureCallback() {\n\t\tthrow createNotImplementedError(\"process.hasUncaughtExceptionCaptureCallback\");\n\t}\n\tinitgroups() {\n\t\tthrow createNotImplementedError(\"process.initgroups\");\n\t}\n\topenStdin() {\n\t\tthrow createNotImplementedError(\"process.openStdin\");\n\t}\n\tassert() {\n\t\tthrow createNotImplementedError(\"process.assert\");\n\t}\n\tbinding() {\n\t\tthrow createNotImplementedError(\"process.binding\");\n\t}\n\tpermission = { has: /*@__PURE__*/ notImplemented(\"process.permission.has\") };\n\treport = {\n\t\tdirectory: \"\",\n\t\tfilename: \"\",\n\t\tsignal: \"SIGUSR2\",\n\t\tcompact: false,\n\t\treportOnFatalError: false,\n\t\treportOnSignal: false,\n\t\treportOnUncaughtException: false,\n\t\tgetReport: /*@__PURE__*/ notImplemented(\"process.report.getReport\"),\n\t\twriteReport: /*@__PURE__*/ notImplemented(\"process.report.writeReport\")\n\t};\n\tfinalization = {\n\t\tregister: /*@__PURE__*/ notImplemented(\"process.finalization.register\"),\n\t\tunregister: /*@__PURE__*/ notImplemented(\"process.finalization.unregister\"),\n\t\tregisterBeforeExit: /*@__PURE__*/ notImplemented(\"process.finalization.registerBeforeExit\")\n\t};\n\tmemoryUsage = Object.assign(() => ({\n\t\tarrayBuffers: 0,\n\t\trss: 0,\n\t\texternal: 0,\n\t\theapTotal: 0,\n\t\theapUsed: 0\n\t}), { rss: () => 0 });\n\tmainModule = undefined;\n\tdomain = undefined;\n\tsend = undefined;\n\texitCode = undefined;\n\tchannel = undefined;\n\tgetegid = undefined;\n\tgeteuid = undefined;\n\tgetgid = undefined;\n\tgetgroups = undefined;\n\tgetuid = undefined;\n\tsetegid = undefined;\n\tseteuid = undefined;\n\tsetgid = undefined;\n\tsetgroups = undefined;\n\tsetuid = undefined;\n\t_events = undefined;\n\t_eventsCount = undefined;\n\t_exiting = undefined;\n\t_maxListeners = undefined;\n\t_debugEnd = undefined;\n\t_debugProcess = undefined;\n\t_fatalException = undefined;\n\t_getActiveHandles = undefined;\n\t_getActiveRequests = undefined;\n\t_kill = undefined;\n\t_preload_modules = undefined;\n\t_rawDebug = undefined;\n\t_startProfilerIdleNotifier = undefined;\n\t_stopProfilerIdleNotifier = undefined;\n\t_tickCallback = undefined;\n\t_disconnect = undefined;\n\t_handleQueue = undefined;\n\t_pendingMessage = undefined;\n\t_channel = undefined;\n\t_send = undefined;\n\t_linkedBinding = undefined;\n}\n", "import { Socket } from \"node:net\";\nexport class ReadStream extends Socket {\n\tfd;\n\tconstructor(fd) {\n\t\tsuper();\n\t\tthis.fd = fd;\n\t}\n\tisRaw = false;\n\tsetRawMode(mode) {\n\t\tthis.isRaw = mode;\n\t\treturn this;\n\t}\n\tisTTY = false;\n}\n", "import { Socket } from \"node:net\";\nexport class WriteStream extends Socket {\n\tfd;\n\tconstructor(fd) {\n\t\tsuper();\n\t\tthis.fd = fd;\n\t}\n\tclearLine(dir, callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tclearScreenDown(callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tcursorTo(x, y, callback) {\n\t\tcallback && typeof callback === \"function\" && callback();\n\t\treturn false;\n\t}\n\tmoveCursor(dx, dy, callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tgetColorDepth(env) {\n\t\treturn 1;\n\t}\n\thasColors(count, env) {\n\t\treturn false;\n\t}\n\tgetWindowSize() {\n\t\treturn [this.columns, this.rows];\n\t}\n\tcolumns = 80;\n\trows = 24;\n\tisTTY = false;\n}\n", "import { hrtime as UnenvHrTime } from \"unenv/node/internal/process/hrtime\";\nimport { Process as UnenvProcess } from \"unenv/node/internal/process/process\";\nconst globalProcess = globalThis[\"process\"];\nexport const getBuiltinModule = globalProcess.getBuiltinModule;\nexport const { exit, platform, nextTick } = getBuiltinModule(\n  \"node:process\"\n);\nconst unenvProcess = new UnenvProcess({\n  env: globalProcess.env,\n  hrtime: UnenvHrTime,\n  nextTick\n});\nexport const {\n  abort,\n  addListener,\n  allowedNodeEnvironmentFlags,\n  hasUncaughtExceptionCaptureCallback,\n  setUncaughtExceptionCaptureCallback,\n  loadEnvFile,\n  sourceMapsEnabled,\n  arch,\n  argv,\n  argv0,\n  chdir,\n  config,\n  connected,\n  constrainedMemory,\n  availableMemory,\n  cpuUsage,\n  cwd,\n  debugPort,\n  dlopen,\n  disconnect,\n  emit,\n  emitWarning,\n  env,\n  eventNames,\n  execArgv,\n  execPath,\n  finalization,\n  features,\n  getActiveResourcesInfo,\n  getMaxListeners,\n  hrtime,\n  kill,\n  listeners,\n  listenerCount,\n  memoryUsage,\n  on,\n  off,\n  once,\n  pid,\n  ppid,\n  prependListener,\n  prependOnceListener,\n  rawListeners,\n  release,\n  removeAllListeners,\n  removeListener,\n  report,\n  resourceUsage,\n  setMaxListeners,\n  setSourceMapsEnabled,\n  stderr,\n  stdin,\n  stdout,\n  title,\n  throwDeprecation,\n  traceDeprecation,\n  umask,\n  uptime,\n  version,\n  versions,\n  domain,\n  initgroups,\n  moduleLoadList,\n  reallyExit,\n  openStdin,\n  assert,\n  binding,\n  send,\n  exitCode,\n  channel,\n  getegid,\n  geteuid,\n  getgid,\n  getgroups,\n  getuid,\n  setegid,\n  seteuid,\n  setgid,\n  setgroups,\n  setuid,\n  permission,\n  mainModule,\n  _events,\n  _eventsCount,\n  _exiting,\n  _maxListeners,\n  _debugEnd,\n  _debugProcess,\n  _fatalException,\n  _getActiveHandles,\n  _getActiveRequests,\n  _kill,\n  _preload_modules,\n  _rawDebug,\n  _startProfilerIdleNotifier,\n  _stopProfilerIdleNotifier,\n  _tickCallback,\n  _disconnect,\n  _handleQueue,\n  _pendingMessage,\n  _channel,\n  _send,\n  _linkedBinding\n} = unenvProcess;\nconst _process = {\n  abort,\n  addListener,\n  allowedNodeEnvironmentFlags,\n  hasUncaughtExceptionCaptureCallback,\n  setUncaughtExceptionCaptureCallback,\n  loadEnvFile,\n  sourceMapsEnabled,\n  arch,\n  argv,\n  argv0,\n  chdir,\n  config,\n  connected,\n  constrainedMemory,\n  availableMemory,\n  cpuUsage,\n  cwd,\n  debugPort,\n  dlopen,\n  disconnect,\n  emit,\n  emitWarning,\n  env,\n  eventNames,\n  execArgv,\n  execPath,\n  exit,\n  finalization,\n  features,\n  getBuiltinModule,\n  getActiveResourcesInfo,\n  getMaxListeners,\n  hrtime,\n  kill,\n  listeners,\n  listenerCount,\n  memoryUsage,\n  nextTick,\n  on,\n  off,\n  once,\n  pid,\n  platform,\n  ppid,\n  prependListener,\n  prependOnceListener,\n  rawListeners,\n  release,\n  removeAllListeners,\n  removeListener,\n  report,\n  resourceUsage,\n  setMaxListeners,\n  setSourceMapsEnabled,\n  stderr,\n  stdin,\n  stdout,\n  title,\n  throwDeprecation,\n  traceDeprecation,\n  umask,\n  uptime,\n  version,\n  versions,\n  // @ts-expect-error old API\n  domain,\n  initgroups,\n  moduleLoadList,\n  reallyExit,\n  openStdin,\n  assert,\n  binding,\n  send,\n  exitCode,\n  channel,\n  getegid,\n  geteuid,\n  getgid,\n  getgroups,\n  getuid,\n  setegid,\n  seteuid,\n  setgid,\n  setgroups,\n  setuid,\n  permission,\n  mainModule,\n  _events,\n  _eventsCount,\n  _exiting,\n  _maxListeners,\n  _debugEnd,\n  _debugProcess,\n  _fatalException,\n  _getActiveHandles,\n  _getActiveRequests,\n  _kill,\n  _preload_modules,\n  _rawDebug,\n  _startProfilerIdleNotifier,\n  _stopProfilerIdleNotifier,\n  _tickCallback,\n  _disconnect,\n  _handleQueue,\n  _pendingMessage,\n  _channel,\n  _send,\n  _linkedBinding\n};\nexport default _process;\n", "import { default as defaultExport } from \"@cloudflare/unenv-preset/node/process\";\nglobalThis.process = defaultExport;", "/**\n * Supabase Client Utilities\n */\n\nimport type { Env, PipelineStage } from \"./types\";\n\n// -----------------------------------------------------------------------------\n// Base Request Helper\n// -----------------------------------------------------------------------------\n\nexport async function supabaseRequest(\n  env: Env,\n  path: string,\n  method: \"GET\" | \"POST\" | \"PATCH\" | \"DELETE\",\n  body?: unknown\n): Promise<unknown> {\n  const isUpsert = path.includes(\"on_conflict=\");\n\n  const headers: Record<string, string> = {\n    apikey: env.SUPABASE_SERVICE_KEY,\n    Authorization: `Bearer ${env.SUPABASE_SERVICE_KEY}`,\n    \"Content-Type\": \"application/json\",\n  };\n\n  if (method === \"POST\") {\n    headers[\"Prefer\"] = isUpsert\n      ? \"return=representation,resolution=merge-duplicates\"\n      : \"return=representation\";\n  } else if (method === \"PATCH\") {\n    headers[\"Prefer\"] = \"return=representation\";\n  }\n\n  const tableName = path.split(\"?\")[0];\n  console.log(`[Supabase] ${method} ${tableName}`);\n\n  const response = await fetch(`${env.SUPABASE_URL}/rest/v1/${path}`, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : undefined,\n  });\n\n  if (!response.ok) {\n    const error = await response.text();\n    console.error(`[Supabase] Error: ${error}`);\n    throw new Error(`Supabase error (${response.status}): ${error}`);\n  }\n\n  if (method === \"GET\" || method === \"POST\" || method === \"PATCH\") {\n    const json = await response.json();\n    console.log(\n      `[Supabase] Success: ${Array.isArray(json) ? json.length : 1} record(s)`\n    );\n    return json;\n  }\n\n  return null;\n}\n\n// -----------------------------------------------------------------------------\n// Storage Helpers\n// -----------------------------------------------------------------------------\n\nexport async function fetchStorageFile(\n  env: Env,\n  bucket: string,\n  path: string\n): Promise<string | null> {\n  try {\n    const url = `${env.SUPABASE_URL}/storage/v1/object/${bucket}/${encodeURIComponent(path)}`;\n\n    console.log(`[Storage] Fetching: ${path}`);\n\n    const response = await fetch(url, {\n      headers: {\n        Authorization: `Bearer ${env.SUPABASE_SERVICE_KEY}`,\n        apikey: env.SUPABASE_SERVICE_KEY,\n      },\n    });\n\n    if (!response.ok) {\n      console.error(`[Storage] Error: ${response.status}`);\n      return null;\n    }\n\n    const content = await response.text();\n    console.log(`[Storage] Fetched ${content.length} chars`);\n    return content;\n  } catch (err) {\n    console.error(\"[Storage] Fetch error:\", err);\n    return null;\n  }\n}\n\nexport async function uploadStorageFile(\n  env: Env,\n  bucket: string,\n  path: string,\n  content: string\n): Promise<string | null> {\n  try {\n    const url = `${env.SUPABASE_URL}/storage/v1/object/${bucket}/${path}`;\n\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${env.SUPABASE_SERVICE_KEY}`,\n        apikey: env.SUPABASE_SERVICE_KEY,\n        \"Content-Type\": \"text/plain\",\n        \"x-upsert\": \"true\",\n      },\n      body: content,\n    });\n\n    if (!response.ok) {\n      const error = await response.text();\n      console.error(`[Storage] Upload error: ${error}`);\n      return null;\n    }\n\n    return `${env.SUPABASE_URL}/storage/v1/object/public/${bucket}/${path}`;\n  } catch (err) {\n    console.error(\"[Storage] Upload error:\", err);\n    return null;\n  }\n}\n\n// -----------------------------------------------------------------------------\n// Job Status Helpers\n// -----------------------------------------------------------------------------\n\nexport async function getJob(\n  env: Env,\n  firefliesId: string\n): Promise<{ id: string; stage: string; metadata_id: string | null } | null> {\n  const result = (await supabaseRequest(\n    env,\n    `fireflies_ingestion_jobs?fireflies_id=eq.${encodeURIComponent(firefliesId)}&select=id,stage,metadata_id`,\n    \"GET\"\n  )) as Array<{ id: string; stage: string; metadata_id: string | null }>;\n\n  return result && result.length > 0 ? result[0] : null;\n}\n\nexport async function createJob(\n  env: Env,\n  firefliesId: string,\n  stage: PipelineStage = \"pending\"\n): Promise<string> {\n  const result = (await supabaseRequest(env, \"fireflies_ingestion_jobs\", \"POST\", {\n    fireflies_id: firefliesId,\n    stage,\n    attempt_count: 1,\n    last_attempt_at: new Date().toISOString(),\n  })) as Array<{ id: string }>;\n\n  return result[0].id;\n}\n\nexport async function updateJobStage(\n  env: Env,\n  firefliesId: string,\n  stage: PipelineStage,\n  metadataId?: string,\n  errorMessage?: string\n): Promise<void> {\n  const existing = await getJob(env, firefliesId);\n\n  const updateData: Record<string, unknown> = {\n    stage,\n    last_attempt_at: new Date().toISOString(),\n  };\n\n  if (metadataId) {\n    updateData.metadata_id = metadataId;\n  }\n\n  if (errorMessage) {\n    updateData.error_message = errorMessage;\n  }\n\n  if (existing) {\n    updateData.attempt_count = (existing as any).attempt_count + 1 || 1;\n    await supabaseRequest(\n      env,\n      `fireflies_ingestion_jobs?id=eq.${existing.id}`,\n      \"PATCH\",\n      updateData\n    );\n  } else {\n    await supabaseRequest(env, \"fireflies_ingestion_jobs\", \"POST\", {\n      fireflies_id: firefliesId,\n      ...updateData,\n      attempt_count: 1,\n    });\n  }\n}\n\n// -----------------------------------------------------------------------------\n// Metadata Helpers\n// -----------------------------------------------------------------------------\n\nexport async function getMetadataByFirefliesId(\n  env: Env,\n  firefliesId: string\n): Promise<{ id: string } | null> {\n  const result = (await supabaseRequest(\n    env,\n    `document_metadata?fireflies_id=eq.${encodeURIComponent(firefliesId)}&select=id`,\n    \"GET\"\n  )) as Array<{ id: string }>;\n\n  return result && result.length > 0 ? result[0] : null;\n}\n\nexport async function getMetadataById(\n  env: Env,\n  metadataId: string\n): Promise<Record<string, unknown> | null> {\n  const result = (await supabaseRequest(\n    env,\n    `document_metadata?id=eq.${metadataId}&select=*`,\n    \"GET\"\n  )) as Array<Record<string, unknown>>;\n\n  return result && result.length > 0 ? result[0] : null;\n}\n\nexport async function updateMetadataStatus(\n  env: Env,\n  metadataId: string,\n  status: string\n): Promise<void> {\n  await supabaseRequest(env, `document_metadata?id=eq.${metadataId}`, \"PATCH\", {\n    status,\n    updated_at: new Date().toISOString(),\n  });\n}\n\n// -----------------------------------------------------------------------------\n// Segment Helpers\n// -----------------------------------------------------------------------------\n\nexport async function getSegmentsByMetadataId(\n  env: Env,\n  metadataId: string\n): Promise<Array<Record<string, unknown>>> {\n  return (await supabaseRequest(\n    env,\n    `meeting_segments?metadata_id=eq.${metadataId}&select=*&order=segment_index`,\n    \"GET\"\n  )) as Array<Record<string, unknown>>;\n}\n\n// -----------------------------------------------------------------------------\n// Check if already processed (for deduplication)\n// -----------------------------------------------------------------------------\n\nexport async function isAlreadyProcessed(\n  env: Env,\n  firefliesId: string\n): Promise<boolean> {\n  const job = await getJob(env, firefliesId);\n  return job !== null && job.stage !== \"error\" && job.stage !== \"pending\";\n}\n", "/**\n * OpenAI API Utilities\n */\n\nimport type { Env } from \"./types\";\n\n// -----------------------------------------------------------------------------\n// Embeddings\n// -----------------------------------------------------------------------------\n\nexport async function batchEmbed(\n  env: Env,\n  texts: string[],\n  model: string = \"text-embedding-3-small\"\n): Promise<number[][]> {\n  if (texts.length === 0) return [];\n\n  // Truncate texts to avoid token limits\n  const truncatedTexts = texts.map((t) => t.slice(0, 8000));\n\n  console.log(`[OpenAI] Embedding ${texts.length} texts with ${model}`);\n\n  const response = await fetch(\"https://api.openai.com/v1/embeddings\", {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${env.OPENAI_API_KEY}`,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      model,\n      input: truncatedTexts,\n    }),\n  });\n\n  if (!response.ok) {\n    const error = await response.text();\n    throw new Error(`OpenAI embedding error: ${response.status} - ${error}`);\n  }\n\n  const data = (await response.json()) as {\n    data: Array<{ embedding: number[] }>;\n  };\n\n  console.log(`[OpenAI] Generated ${data.data.length} embeddings`);\n  return data.data.map((d) => d.embedding);\n}\n\n// -----------------------------------------------------------------------------\n// Chat Completions\n// -----------------------------------------------------------------------------\n\nexport async function callLLM(\n  env: Env,\n  prompt: string,\n  options: {\n    model?: string;\n    temperature?: number;\n    jsonMode?: boolean;\n    maxTokens?: number;\n  } = {}\n): Promise<string> {\n  const {\n    model = \"gpt-4o-mini\",\n    temperature = 0.3,\n    jsonMode = false,\n    maxTokens,\n  } = options;\n\n  console.log(`[OpenAI] Calling ${model} (json=${jsonMode})`);\n\n  const body: Record<string, unknown> = {\n    model,\n    messages: [{ role: \"user\", content: prompt }],\n    temperature,\n  };\n\n  if (jsonMode) {\n    body.response_format = { type: \"json_object\" };\n  }\n\n  if (maxTokens) {\n    body.max_tokens = maxTokens;\n  }\n\n  const response = await fetch(\"https://api.openai.com/v1/chat/completions\", {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${env.OPENAI_API_KEY}`,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  });\n\n  if (!response.ok) {\n    const error = await response.text();\n    throw new Error(`OpenAI chat error: ${response.status} - ${error}`);\n  }\n\n  const data = (await response.json()) as {\n    choices: Array<{ message: { content: string } }>;\n  };\n\n  return data.choices[0].message.content;\n}\n\n// -----------------------------------------------------------------------------\n// Specialized LLM Functions\n// -----------------------------------------------------------------------------\n\nexport async function generateMeetingSummary(\n  env: Env,\n  transcriptExcerpt: string,\n  title: string,\n  existingSummary?: string\n): Promise<string> {\n  const prompt = `Generate a comprehensive executive summary of this meeting.\n\nMeeting: ${title}\n${existingSummary ? `Existing Summary: ${existingSummary}` : \"\"}\n\nTranscript excerpt:\n${transcriptExcerpt.slice(0, 12000)}\n\nWrite a 3-5 paragraph summary covering:\n1. Meeting purpose and key participants\n2. Main topics discussed\n3. Key decisions and outcomes\n4. Action items and next steps\n5. Any risks or concerns raised\n\nBe specific and include names, dates, and concrete details where mentioned.`;\n\n  return await callLLM(env, prompt);\n}\n\nexport interface SegmentResult {\n  title: string;\n  start_index: number;\n  end_index: number;\n  summary: string;\n  decisions: string[];\n  risks: string[];\n  tasks: string[];\n}\n\nexport async function segmentTranscript(\n  env: Env,\n  formattedTranscript: string,\n  title: string\n): Promise<SegmentResult[]> {\n  const prompt = `Analyze this meeting transcript and identify distinct semantic segments (topic changes, agenda items, discussion phases).\n\nMeeting: ${title}\n\nTranscript (each line prefixed with [index]):\n${formattedTranscript.slice(0, 15000)}\n\nReturn JSON array of segments. Each segment should capture a coherent topic or discussion phase.\n\nRequired format:\n{\n  \"segments\": [\n    {\n      \"title\": \"Brief descriptive title for this segment\",\n      \"start_index\": 0,\n      \"end_index\": 15,\n      \"summary\": \"2-3 sentence summary of what was discussed\",\n      \"decisions\": [\"Any decisions made in this segment\"],\n      \"risks\": [\"Any risks or concerns raised\"],\n      \"tasks\": [\"Any action items or tasks assigned\"]\n    }\n  ]\n}\n\nGuidelines:\n- Segments should be 10-50 lines typically\n- Every line must belong to exactly one segment\n- Capture natural topic transitions\n- Include opening/closing segments if present\n- Extract decisions, risks, tasks mentioned in each segment`;\n\n  const response = await callLLM(env, prompt, { jsonMode: true });\n  const parsed = JSON.parse(response) as { segments: SegmentResult[] };\n\n  return parsed.segments;\n}\n\nexport interface ExtractedStructuredData {\n  decisions: Array<{\n    description: string;\n    rationale?: string;\n    owner?: string;\n  }>;\n  risks: Array<{\n    description: string;\n    category?: string;\n    likelihood?: string;\n    impact?: string;\n    owner?: string;\n  }>;\n  tasks: Array<{\n    description: string;\n    assignee?: string;\n    dueDate?: string;\n    priority?: string;\n  }>;\n  opportunities: Array<{\n    description: string;\n    type?: string;\n    owner?: string;\n  }>;\n}\n\nexport async function extractStructuredData(\n  env: Env,\n  title: string,\n  date: string | null,\n  participants: string[],\n  summary: string,\n  rawDecisions: string[],\n  rawRisks: string[],\n  rawTasks: string[]\n): Promise<ExtractedStructuredData> {\n  const prompt = `Analyze and normalize these meeting extractions. Deduplicate, add context, and identify opportunities.\n\nMeeting: ${title}\nDate: ${date || \"Unknown\"}\nParticipants: ${participants.join(\", \")}\n\nRaw Decisions: ${JSON.stringify(rawDecisions)}\nRaw Risks: ${JSON.stringify(rawRisks)}\nRaw Tasks: ${JSON.stringify(rawTasks)}\n\nMeeting Summary: ${summary.slice(0, 2000)}\n\nReturn JSON with normalized, deduplicated entries:\n{\n  \"decisions\": [\n    {\"description\": \"Clear description\", \"rationale\": \"Why decided\", \"owner\": \"Person name or null\"}\n  ],\n  \"risks\": [\n    {\"description\": \"Risk description\", \"category\": \"schedule|budget|resource|technical|external\", \"likelihood\": \"low|medium|high\", \"impact\": \"low|medium|high\", \"owner\": \"Person or null\"}\n  ],\n  \"tasks\": [\n    {\"description\": \"Task description\", \"assignee\": \"Person name or null\", \"dueDate\": \"YYYY-MM-DD or null\", \"priority\": \"low|medium|high|urgent\"}\n  ],\n  \"opportunities\": [\n    {\"description\": \"Opportunity description\", \"type\": \"efficiency|revenue|relationship|innovation\", \"owner\": \"Person or null\"}\n  ]\n}\n\nGuidelines:\n- Deduplicate similar items\n- Infer owners from context when possible\n- Convert vague items to specific actionable descriptions\n- Identify implied opportunities from discussion`;\n\n  const response = await callLLM(env, prompt, { jsonMode: true });\n  return JSON.parse(response) as ExtractedStructuredData;\n}\n", "/**\n * Markdown Parsing Utilities\n */\n\nimport type { ParsedMeeting, TranscriptLine } from \"./types\";\n\n// -----------------------------------------------------------------------------\n// Content Hash\n// -----------------------------------------------------------------------------\n\nexport function hashContent(text: string): string {\n  let hash = 0;\n  for (let i = 0; i < text.length; i++) {\n    const char = text.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash = hash & hash;\n  }\n  return Math.abs(hash).toString(16);\n}\n\n// -----------------------------------------------------------------------------\n// Parse Fireflies Markdown\n// -----------------------------------------------------------------------------\n\nexport function parseFirefliesMarkdown(content: string): ParsedMeeting {\n  const lines = content.split(\"\\n\");\n\n  const firefliesId = extractFirefliesId(content);\n  const title = extractTitle(lines);\n  const startedAt = extractDate(lines);\n  const participants = extractParticipants(lines, content);\n  const firefliesSummary = extractSummary(content);\n  const firefliesActions = extractActions(content);\n  const transcriptLines = extractTranscript(lines);\n\n  // Extract additional metadata - try multiple field name variants\n  const firefliesLink = extractMetadataField(content, \"Fireflies Link\")\n    || extractFirefliesLinkFromUrl(content);\n  const audioUrl = extractMarkdownLink(content, \"Audio Recording\")\n    || extractMetadataField(content, \"Audio Recording\")\n    || extractMetadataField(content, \"Audio\");\n  const videoUrl = extractMarkdownLink(content, \"Video Recording\")\n    || extractMetadataField(content, \"Video Recording\")\n    || extractMetadataField(content, \"Video\");\n  const durationMinutes = extractDurationMinutes(content);\n  const keywords = extractKeywords(content);\n  const bulletPoints = extractBulletPoints(content);\n\n  return {\n    firefliesId,\n    title,\n    startedAt,\n    endedAt: null,\n    participants,\n    transcriptLines,\n    rawContent: content,\n    firefliesSummary,\n    firefliesActions,\n    firefliesLink,\n    durationMinutes,\n    audioUrl,\n    videoUrl,\n    keywords,\n    bulletPoints,\n  };\n}\n\nfunction extractMetadataField(\n  content: string,\n  fieldName: string\n): string | undefined {\n  const regex = new RegExp(`\\\\*\\\\*${fieldName}:\\\\*\\\\*\\\\s*(.+)`, \"i\");\n  const match = content.match(regex);\n  return match ? match[1].trim() : undefined;\n}\n\nfunction extractDurationMinutes(content: string): number | undefined {\n  const match = content.match(/\\*\\*Duration:\\*\\*\\s*(\\d+)\\s*minutes/i);\n  return match ? parseInt(match[1], 10) : undefined;\n}\n\nfunction extractFirefliesLinkFromUrl(content: string): string | undefined {\n  // Extract Fireflies URL from anywhere in the content\n  const match = content.match(/(https?:\\/\\/[^\\s]*fireflies\\.ai\\/view\\/[a-zA-Z0-9_-]+)/);\n  return match ? match[1] : undefined;\n}\n\nfunction extractMarkdownLink(content: string, linkText: string): string | undefined {\n  // Match markdown link format: [Link Text](url)\n  // The URL can contain special chars like ~ and encoded values\n  const regex = new RegExp(`\\\\[${linkText}\\\\]\\\\(([^\\\\s)]+)\\\\)`, \"i\");\n  const match = content.match(regex);\n  if (match) return match[1];\n\n  // Also try with - in \"## Media Links\" section format: - [Link Text](url)\n  const listRegex = new RegExp(`-\\\\s*\\\\[${linkText}\\\\]\\\\(([^\\\\s)]+)\\\\)`, \"i\");\n  const listMatch = content.match(listRegex);\n  return listMatch ? listMatch[1] : undefined;\n}\n\nfunction extractKeywords(content: string): string[] {\n  // Try \"## Keywords\" section (line after the header)\n  const sectionMatch = content.match(/##\\s*Keywords\\s*\\n+([^\\n#]+)/i);\n  if (sectionMatch) {\n    return sectionMatch[1].split(/[,;]/).map(k => k.trim()).filter(k => k);\n  }\n  // Fallback: Try \"**Keywords:**\" field\n  const fieldMatch = content.match(/\\*\\*Keywords:\\*\\*\\s*(.+)/i);\n  if (fieldMatch) {\n    return fieldMatch[1].split(/[,;]/).map(k => k.trim()).filter(k => k);\n  }\n  return [];\n}\n\nfunction extractBulletPoints(content: string): string[] {\n  const bullets: string[] = [];\n\n  // Try \"## Summary Bullets\" section\n  const sectionMatch = content.match(/##\\s*Summary Bullets\\s*\\n([\\s\\S]*?)(?=\\n##|$)/i);\n  if (sectionMatch) {\n    for (const line of sectionMatch[1].split(\"\\n\")) {\n      // Match lines starting with emoji or bullet, capture the bold title if present\n      const bulletMatch = line.match(/^[\u00F0\u0178\\-\\*\u2022]\\s*\\*\\*([^*]+)\\*\\*/);\n      if (bulletMatch) {\n        bullets.push(bulletMatch[1].trim());\n      }\n    }\n    if (bullets.length > 0) return bullets;\n  }\n\n  // Fallback: Try \"**Summary Bullets:**\" field format\n  const fieldMatch = content.match(/\\*\\*Summary Bullets:\\*\\*\\s*\\n([\\s\\S]*?)(?=\\n\\*\\*|\\n##|$)/i);\n  if (fieldMatch) {\n    for (const line of fieldMatch[1].split(\"\\n\")) {\n      const bulletMatch = line.match(/^[-*]\\s*(.+)/);\n      if (bulletMatch) {\n        bullets.push(bulletMatch[1].trim());\n      }\n    }\n  }\n  return bullets;\n}\n\nfunction extractFirefliesId(content: string): string {\n  // Try \"**ID:**\" field (common format)\n  const idFieldMatch = content.match(/\\*\\*ID:\\*\\*\\s*([a-zA-Z0-9_-]+)/);\n  if (idFieldMatch) return idFieldMatch[1];\n\n  // Try \"**Fireflies ID:**\" field\n  const firefliesIdMatch = content.match(/\\*\\*Fireflies ID:\\*\\*\\s*([a-zA-Z0-9_-]+)/);\n  if (firefliesIdMatch) return firefliesIdMatch[1];\n\n  // Then try extracting from Fireflies URL\n  const urlMatch = content.match(/fireflies\\.ai\\/view\\/([a-zA-Z0-9_-]+)/);\n  if (urlMatch) return urlMatch[1];\n\n  // Fallback to content hash\n  return hashContent(content).slice(0, 16);\n}\n\nfunction extractTitle(lines: string[]): string {\n  for (const line of lines.slice(0, 10)) {\n    if (line.startsWith(\"# \")) {\n      return line.slice(2).trim();\n    }\n  }\n  return \"Untitled Meeting\";\n}\n\nfunction extractDate(lines: string[]): string | null {\n  for (const line of lines.slice(0, 20)) {\n    // MM/DD/YYYY format\n    let match = line.match(/(\\d{1,2}\\/\\d{1,2}\\/\\d{4})/);\n    if (match) {\n      const [m, d, y] = match[1].split(\"/\");\n      return `${y}-${m.padStart(2, \"0\")}-${d.padStart(2, \"0\")}`;\n    }\n    // YYYY-MM-DD format\n    match = line.match(/(\\d{4}-\\d{2}-\\d{2})/);\n    if (match) return match[1];\n  }\n  return null;\n}\n\nfunction extractParticipants(lines: string[], content: string): string[] {\n  const participants = new Set<string>();\n\n  // From attendees/participants section\n  let inAttendees = false;\n  for (const line of lines) {\n    if (/attendees|participants/i.test(line)) {\n      inAttendees = true;\n      continue;\n    }\n    if (inAttendees) {\n      if (line.startsWith(\"#\") || line.startsWith(\"---\")) {\n        inAttendees = false;\n        continue;\n      }\n      const match = line.match(/^[-*]\\s*(.+)/);\n      if (match) {\n        participants.add(match[1].trim());\n      }\n    }\n  }\n\n  // From transcript speakers\n  const speakerPattern = /\\[\\d{2}:\\d{2}\\]\\s*\\*\\*([^*]+)\\*\\*:/g;\n  let match;\n  while ((match = speakerPattern.exec(content)) !== null) {\n    participants.add(match[1].trim());\n  }\n\n  // From bold speaker format without timestamps\n  const boldSpeakerPattern = /^\\*\\*([^*]+)\\*\\*:/gm;\n  while ((match = boldSpeakerPattern.exec(content)) !== null) {\n    participants.add(match[1].trim());\n  }\n\n  return Array.from(participants);\n}\n\nfunction extractSummary(content: string): string {\n  const match = content.match(/##\\s*Summary\\s*\\n(.*?)(?=\\n##|\\Z)/is);\n  return match ? match[1].trim() : \"\";\n}\n\nfunction extractActions(content: string): { text: string }[] {\n  const actions: { text: string }[] = [];\n  const match = content.match(/##\\s*Action Items?\\s*\\n(.*?)(?=\\n##|\\Z)/is);\n  if (match) {\n    for (const line of match[1].split(\"\\n\")) {\n      const actionMatch = line.match(/^[-*]\\s*(.+)/);\n      if (actionMatch) {\n        actions.push({ text: actionMatch[1].trim() });\n      }\n    }\n  }\n  return actions;\n}\n\nfunction extractTranscript(lines: string[]): TranscriptLine[] {\n  const transcript: TranscriptLine[] = [];\n\n  // Pattern with timestamp: [MM:SS] **Speaker**: text\n  const timestampPattern = /^\\[(\\d{2}:\\d{2})\\]\\s*\\*\\*([^*]+)\\*\\*:\\s*(.+)/;\n\n  // Pattern without timestamp: **Speaker**: text followed by lines\n  let currentSpeaker = \"\";\n  let inTranscript = false;\n\n  for (const line of lines) {\n    // Check if we're in transcript section\n    if (line.toLowerCase().includes(\"## transcript\")) {\n      inTranscript = true;\n      continue;\n    }\n\n    if (!inTranscript) continue;\n\n    // End of transcript section\n    if (line.startsWith(\"##\") && !line.toLowerCase().includes(\"transcript\")) {\n      break;\n    }\n\n    const trimmed = line.trim();\n    if (!trimmed) continue;\n\n    // Try timestamp pattern first\n    const timestampMatch = trimmed.match(timestampPattern);\n    if (timestampMatch) {\n      transcript.push({\n        timestamp: timestampMatch[1],\n        speaker: timestampMatch[2].trim(),\n        text: timestampMatch[3].trim(),\n        index: transcript.length,\n      });\n      continue;\n    }\n\n    // Try bold speaker pattern\n    const speakerMatch = trimmed.match(/^\\*\\*([^*]+)\\*\\*:?\\s*(.*)/);\n    if (speakerMatch) {\n      currentSpeaker = speakerMatch[1].trim();\n      const text = speakerMatch[2].trim();\n      if (text) {\n        transcript.push({\n          timestamp: \"\",\n          speaker: currentSpeaker,\n          text,\n          index: transcript.length,\n        });\n      }\n      continue;\n    }\n\n    // Regular text line - append to current speaker if we have one\n    if (currentSpeaker && trimmed) {\n      transcript.push({\n        timestamp: \"\",\n        speaker: currentSpeaker,\n        text: trimmed,\n        index: transcript.length,\n      });\n    }\n  }\n\n  return transcript;\n}\n\n// -----------------------------------------------------------------------------\n// Format transcript for LLM\n// -----------------------------------------------------------------------------\n\nexport function formatTranscriptForLLM(lines: TranscriptLine[]): string {\n  return lines\n    .map(\n      (l, i) =>\n        `[${i}] ${l.timestamp ? `[${l.timestamp}] ` : \"\"}${l.speaker}: ${l.text}`\n    )\n    .join(\"\\n\");\n}\n", "/**\n * Parser Worker\n * ==============\n * Handles semantic segmentation of meeting transcripts.\n *\n * Responsibilities:\n * - Fetch raw content from document_metadata\n * - Run LLM segmentation to split into semantic segments\n * - Store segments in meeting_segments table\n * - Generate meeting summary\n * - Update document_metadata status\n *\n * Endpoints:\n * - POST /parse - Parse a specific meeting by metadataId or firefliesId\n * - POST /parse-pending - Parse all pending meetings\n * - GET /health - Health check\n */\n\nimport type { Env, MeetingSegment, TranscriptLine } from \"../shared/types\";\nimport {\n  supabaseRequest,\n  getMetadataById,\n  getJob,\n  updateJobStage,\n  updateMetadataStatus,\n} from \"../shared/supabase\";\nimport {\n  generateMeetingSummary,\n  segmentTranscript,\n  type SegmentResult,\n} from \"../shared/openai\";\nimport { parseFirefliesMarkdown, formatTranscriptForLLM } from \"../shared/parser\";\n\nexport default {\n  async fetch(request: Request, env: Env): Promise<Response> {\n    const url = new URL(request.url);\n\n    // POST /parse - Parse a specific meeting\n    if (request.method === \"POST\" && url.pathname === \"/parse\") {\n      return handleParse(request, env);\n    }\n\n    // POST /parse-pending - Parse all pending meetings\n    if (request.method === \"POST\" && url.pathname === \"/parse-pending\") {\n      return handleParsePending(env);\n    }\n\n    // GET /health\n    if (request.method === \"GET\" && url.pathname === \"/health\") {\n      return Response.json({ status: \"ok\", worker: \"parser\" });\n    }\n\n    return Response.json({\n      worker: \"fireflies-parser\",\n      endpoints: [\n        \"POST /parse - Parse meeting {metadataId} or {firefliesId}\",\n        \"POST /parse-pending - Parse all pending meetings\",\n        \"GET /health - Health check\",\n      ],\n    });\n  },\n};\n\n// -----------------------------------------------------------------------------\n// Handlers\n// -----------------------------------------------------------------------------\n\nasync function handleParse(request: Request, env: Env): Promise<Response> {\n  try {\n    const body = (await request.json()) as {\n      metadataId?: string;\n      firefliesId?: string;\n    };\n\n    if (!body.metadataId && !body.firefliesId) {\n      return Response.json(\n        { error: \"metadataId or firefliesId required\" },\n        { status: 400 }\n      );\n    }\n\n    let metadataId = body.metadataId;\n    let firefliesId = body.firefliesId;\n\n    // If only firefliesId provided, look up metadataId\n    if (!metadataId && firefliesId) {\n      const job = await getJob(env, firefliesId);\n      if (!job || !job.metadata_id) {\n        return Response.json(\n          { error: \"Job not found or no metadata_id\" },\n          { status: 404 }\n        );\n      }\n      metadataId = job.metadata_id;\n    }\n\n    const result = await parseMeeting(env, metadataId!);\n\n    return Response.json({\n      success: true,\n      ...result,\n    });\n  } catch (err) {\n    console.error(\"[Parse] Error:\", err);\n    return Response.json({ error: String(err) }, { status: 500 });\n  }\n}\n\nasync function handleParsePending(env: Env): Promise<Response> {\n  try {\n    // Find all jobs in raw_ingested stage\n    const jobs = (await supabaseRequest(\n      env,\n      \"fireflies_ingestion_jobs?stage=eq.raw_ingested&select=fireflies_id,metadata_id&limit=10\",\n      \"GET\"\n    )) as Array<{ fireflies_id: string; metadata_id: string }>;\n\n    if (!jobs || jobs.length === 0) {\n      return Response.json({ message: \"No pending jobs\", processed: 0 });\n    }\n\n    console.log(`[Parse] Found ${jobs.length} pending jobs`);\n\n    const results = [];\n    for (const job of jobs) {\n      if (!job.metadata_id) continue;\n\n      try {\n        const result = await parseMeeting(env, job.metadata_id);\n        results.push({ firefliesId: job.fireflies_id, success: true, ...result });\n      } catch (err) {\n        console.error(`[Parse] Error processing ${job.fireflies_id}:`, err);\n        await updateJobStage(env, job.fireflies_id, \"error\", undefined, String(err));\n        results.push({ firefliesId: job.fireflies_id, success: false, error: String(err) });\n      }\n    }\n\n    return Response.json({\n      processed: results.length,\n      results,\n    });\n  } catch (err) {\n    console.error(\"[ParsePending] Error:\", err);\n    return Response.json({ error: String(err) }, { status: 500 });\n  }\n}\n\n// -----------------------------------------------------------------------------\n// Core Parsing Logic\n// -----------------------------------------------------------------------------\n\nasync function parseMeeting(\n  env: Env,\n  metadataId: string\n): Promise<{\n  metadataId: string;\n  firefliesId: string;\n  segmentCount: number;\n  meetingSummaryLength: number;\n}> {\n  // Fetch metadata\n  const metadata = await getMetadataById(env, metadataId);\n  if (!metadata) {\n    throw new Error(`Metadata not found: ${metadataId}`);\n  }\n\n  const firefliesId = metadata.fireflies_id as string;\n  const content = metadata.content as string;\n\n  if (!content) {\n    throw new Error(`No content in metadata: ${metadataId}`);\n  }\n\n  console.log(`[Parse] Processing: ${metadata.title} (${firefliesId})`);\n\n  // Parse the content\n  const parsed = parseFirefliesMarkdown(content);\n\n  // Generate meeting summary\n  const formattedExcerpt = parsed.transcriptLines\n    .slice(0, 200)\n    .map((l) => `[${l.timestamp}] ${l.speaker}: ${l.text}`)\n    .join(\"\\n\");\n\n  const meetingSummary = await generateMeetingSummary(\n    env,\n    formattedExcerpt,\n    parsed.title,\n    parsed.firefliesSummary\n  );\n\n  console.log(`[Parse] Generated summary: ${meetingSummary.length} chars`);\n\n  // Segment the transcript\n  const formattedTranscript = formatTranscriptForLLM(parsed.transcriptLines);\n  const segmentResults = await segmentTranscript(env, formattedTranscript, parsed.title);\n\n  console.log(`[Parse] Created ${segmentResults.length} segments`);\n\n  // Convert to MeetingSegment format\n  const segments: MeetingSegment[] = segmentResults.map((s, i) => ({\n    segmentIndex: i,\n    title: s.title,\n    startIndex: s.start_index,\n    endIndex: s.end_index,\n    summary: s.summary,\n    decisions: s.decisions || [],\n    risks: s.risks || [],\n    tasks: s.tasks || [],\n  }));\n\n  // Store segments\n  for (const segment of segments) {\n    await upsertSegment(env, segment, metadataId);\n  }\n\n  // Update metadata with meeting summary (use 'overview' column which exists)\n  await supabaseRequest(env, `document_metadata?id=eq.${metadataId}`, \"PATCH\", {\n    overview: meetingSummary,\n    status: \"segmented\",\n  });\n\n  // Update job status\n  await updateJobStage(env, firefliesId, \"segmented\");\n\n  return {\n    metadataId,\n    firefliesId,\n    segmentCount: segments.length,\n    meetingSummaryLength: meetingSummary.length,\n  };\n}\n\nasync function upsertSegment(\n  env: Env,\n  segment: MeetingSegment,\n  metadataId: string\n): Promise<string> {\n  const data = {\n    metadata_id: metadataId,\n    segment_index: segment.segmentIndex,\n    title: segment.title,\n    start_index: segment.startIndex,\n    end_index: segment.endIndex,\n    summary: segment.summary,\n    decisions: segment.decisions,\n    risks: segment.risks,\n    tasks: segment.tasks,\n  };\n\n  const result = (await supabaseRequest(\n    env,\n    \"meeting_segments?on_conflict=metadata_id,segment_index\",\n    \"POST\",\n    data\n  )) as Array<{ id: string }>;\n\n  return result[0].id;\n}\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/Users/meganharrison/Documents/github/agents-sdk/fireflies-worker/workers/parser/index.ts\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/Users/meganharrison/Documents/github/agents-sdk/fireflies-worker/workers/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"/Users/meganharrison/Documents/github/agents-sdk/fireflies-worker/workers/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"/Users/meganharrison/Documents/github/agents-sdk/fireflies-worker/workers/parser/index.ts\";\n\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/Users/meganharrison/Documents/github/agents-sdk/fireflies-worker/workers/parser/.wrangler/tmp/bundle-iVqfXO/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/Users/meganharrison/Documents/github/agents-sdk/fireflies-worker/workers/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/Users/meganharrison/Documents/github/agents-sdk/fireflies-worker/workers/parser/.wrangler/tmp/bundle-iVqfXO/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/Users/meganharrison/Documents/github/agents-sdk/fireflies-worker/workers/parser/.wrangler/tmp/bundle-iVqfXO/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,QAAAC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,IAAI;AACJ,IAAM,WAAW;AAAA,EACf;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,QAAAD;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AA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",
  "names": ["PerformanceMark", "clear", "count", "countReset", "createTask", "debug", "dir", "dirxml", "error", "group", "groupCollapsed", "groupEnd", "info", "log", "profile", "profileEnd", "table", "time", "timeEnd", "timeLog", "timeStamp", "trace", "warn", "hrtime", "Socket", "Socket", "dir", "env", "count", "cwd", "hrtime", "assert", "env", "error", "env", "env", "env", "env", "error", "title", "title", "match", "env", "env", "env", "error", "env", "env"]
}
